(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();var Ku={exports:{}},Ts={};var Mm;function Ty(){if(Mm)return Ts;Mm=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(i,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var p in c)p!=="key"&&(h[p]=c[p])}else h=c;return c=h.ref,{$$typeof:r,type:i,key:f,ref:c!==void 0?c:null,props:h}}return Ts.Fragment=n,Ts.jsx=s,Ts.jsxs=s,Ts}var Lm;function Ay(){return Lm||(Lm=1,Ku.exports=Ty()),Ku.exports}var d=Ay(),Vu={exports:{}},de={};var Bm;function ky(){if(Bm)return de;Bm=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function S(_){return _===null||typeof _!="object"?null:(_=E&&_[E]||_["@@iterator"],typeof _=="function"?_:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,$={};function k(_,K,w){this.props=_,this.context=K,this.refs=$,this.updater=w||C}k.prototype.isReactComponent={},k.prototype.setState=function(_,K){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,K,"setState")},k.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function B(){}B.prototype=k.prototype;function q(_,K,w){this.props=_,this.context=K,this.refs=$,this.updater=w||C}var V=q.prototype=new B;V.constructor=q,D(V,k.prototype),V.isPureReactComponent=!0;var I=Array.isArray;function W(){}var Z={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function oe(_,K,w){var P=w.ref;return{$$typeof:r,type:_,key:K,ref:P!==void 0?P:null,props:w}}function Ae(_,K){return oe(_.type,K,_.props)}function Qe(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function ve(_){var K={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(w){return K[w]})}var Te=/\/+/g;function Ee(_,K){return typeof _=="object"&&_!==null&&_.key!=null?ve(""+_.key):K.toString(36)}function Ge(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(W,W):(_.status="pending",_.then(function(K){_.status==="pending"&&(_.status="fulfilled",_.value=K)},function(K){_.status==="pending"&&(_.status="rejected",_.reason=K)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function N(_,K,w,P,ee){var le=typeof _;(le==="undefined"||le==="boolean")&&(_=null);var xe=!1;if(_===null)xe=!0;else switch(le){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(_.$$typeof){case r:case n:xe=!0;break;case v:return xe=_._init,N(xe(_._payload),K,w,P,ee)}}if(xe)return ee=ee(_),xe=P===""?"."+Ee(_,0):P,I(ee)?(w="",xe!=null&&(w=xe.replace(Te,"$&/")+"/"),N(ee,K,w,"",function(Ie){return Ie})):ee!=null&&(Qe(ee)&&(ee=Ae(ee,w+(ee.key==null||_&&_.key===ee.key?"":(""+ee.key).replace(Te,"$&/")+"/")+xe)),K.push(ee)),1;xe=0;var Pe=P===""?".":P+":";if(I(_))for(var ke=0;ke<_.length;ke++)P=_[ke],le=Pe+Ee(P,ke),xe+=N(P,K,w,le,ee);else if(ke=S(_),typeof ke=="function")for(_=ke.call(_),ke=0;!(P=_.next()).done;)P=P.value,le=Pe+Ee(P,ke++),xe+=N(P,K,w,le,ee);else if(le==="object"){if(typeof _.then=="function")return N(Ge(_),K,w,P,ee);throw K=String(_),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Q(_,K,w){if(_==null)return _;var P=[],ee=0;return N(_,P,"","",function(le){return K.call(w,le,ee++)}),P}function z(_){if(_._status===-1){var K=_._result;K=K(),K.then(function(w){(_._status===0||_._status===-1)&&(_._status=1,_._result=w)},function(w){(_._status===0||_._status===-1)&&(_._status=2,_._result=w)}),_._status===-1&&(_._status=0,_._result=K)}if(_._status===1)return _._result.default;throw _._result}var L=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},R={map:Q,forEach:function(_,K,w){Q(_,function(){K.apply(this,arguments)},w)},count:function(_){var K=0;return Q(_,function(){K++}),K},toArray:function(_){return Q(_,function(K){return K})||[]},only:function(_){if(!Qe(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return de.Activity=x,de.Children=R,de.Component=k,de.Fragment=s,de.Profiler=c,de.PureComponent=q,de.StrictMode=i,de.Suspense=g,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,de.__COMPILER_RUNTIME={__proto__:null,c:function(_){return Z.H.useMemoCache(_)}},de.cache=function(_){return function(){return _.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(_,K,w){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var P=D({},_.props),ee=_.key;if(K!=null)for(le in K.key!==void 0&&(ee=""+K.key),K)!re.call(K,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&K.ref===void 0||(P[le]=K[le]);var le=arguments.length-2;if(le===1)P.children=w;else if(1<le){for(var xe=Array(le),Pe=0;Pe<le;Pe++)xe[Pe]=arguments[Pe+2];P.children=xe}return oe(_.type,ee,P)},de.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:h,_context:_},_},de.createElement=function(_,K,w){var P,ee={},le=null;if(K!=null)for(P in K.key!==void 0&&(le=""+K.key),K)re.call(K,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ee[P]=K[P]);var xe=arguments.length-2;if(xe===1)ee.children=w;else if(1<xe){for(var Pe=Array(xe),ke=0;ke<xe;ke++)Pe[ke]=arguments[ke+2];ee.children=Pe}if(_&&_.defaultProps)for(P in xe=_.defaultProps,xe)ee[P]===void 0&&(ee[P]=xe[P]);return oe(_,le,ee)},de.createRef=function(){return{current:null}},de.forwardRef=function(_){return{$$typeof:p,render:_}},de.isValidElement=Qe,de.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:z}},de.memo=function(_,K){return{$$typeof:y,type:_,compare:K===void 0?null:K}},de.startTransition=function(_){var K=Z.T,w={};Z.T=w;try{var P=_(),ee=Z.S;ee!==null&&ee(w,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(W,L)}catch(le){L(le)}finally{K!==null&&w.types!==null&&(K.types=w.types),Z.T=K}},de.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},de.use=function(_){return Z.H.use(_)},de.useActionState=function(_,K,w){return Z.H.useActionState(_,K,w)},de.useCallback=function(_,K){return Z.H.useCallback(_,K)},de.useContext=function(_){return Z.H.useContext(_)},de.useDebugValue=function(){},de.useDeferredValue=function(_,K){return Z.H.useDeferredValue(_,K)},de.useEffect=function(_,K){return Z.H.useEffect(_,K)},de.useEffectEvent=function(_){return Z.H.useEffectEvent(_)},de.useId=function(){return Z.H.useId()},de.useImperativeHandle=function(_,K,w){return Z.H.useImperativeHandle(_,K,w)},de.useInsertionEffect=function(_,K){return Z.H.useInsertionEffect(_,K)},de.useLayoutEffect=function(_,K){return Z.H.useLayoutEffect(_,K)},de.useMemo=function(_,K){return Z.H.useMemo(_,K)},de.useOptimistic=function(_,K){return Z.H.useOptimistic(_,K)},de.useReducer=function(_,K,w){return Z.H.useReducer(_,K,w)},de.useRef=function(_){return Z.H.useRef(_)},de.useState=function(_){return Z.H.useState(_)},de.useSyncExternalStore=function(_,K,w){return Z.H.useSyncExternalStore(_,K,w)},de.useTransition=function(){return Z.H.useTransition()},de.version="19.2.3",de}var qm;function wc(){return qm||(qm=1,Vu.exports=ky()),Vu.exports}var T=wc(),Yu={exports:{}},As={},Ju={exports:{}},Xu={};var Hm;function Cy(){return Hm||(Hm=1,(function(r){function n(N,Q){var z=N.length;N.push(Q);e:for(;0<z;){var L=z-1>>>1,R=N[L];if(0<c(R,Q))N[L]=Q,N[z]=R,z=L;else break e}}function s(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var Q=N[0],z=N.pop();if(z!==Q){N[0]=z;e:for(var L=0,R=N.length,_=R>>>1;L<_;){var K=2*(L+1)-1,w=N[K],P=K+1,ee=N[P];if(0>c(w,z))P<R&&0>c(ee,w)?(N[L]=ee,N[P]=z,L=P):(N[L]=w,N[K]=z,L=K);else if(P<R&&0>c(ee,z))N[L]=ee,N[P]=z,L=P;else break e}}return Q}function c(N,Q){var z=N.sortIndex-Q.sortIndex;return z!==0?z:N.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],v=1,x=null,E=3,S=!1,C=!1,D=!1,$=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function V(N){for(var Q=s(y);Q!==null;){if(Q.callback===null)i(y);else if(Q.startTime<=N)i(y),Q.sortIndex=Q.expirationTime,n(g,Q);else break;Q=s(y)}}function I(N){if(D=!1,V(N),!C)if(s(g)!==null)C=!0,W||(W=!0,ve());else{var Q=s(y);Q!==null&&Ge(I,Q.startTime-N)}}var W=!1,Z=-1,re=5,oe=-1;function Ae(){return $?!0:!(r.unstable_now()-oe<re)}function Qe(){if($=!1,W){var N=r.unstable_now();oe=N;var Q=!0;try{e:{C=!1,D&&(D=!1,B(Z),Z=-1),S=!0;var z=E;try{t:{for(V(N),x=s(g);x!==null&&!(x.expirationTime>N&&Ae());){var L=x.callback;if(typeof L=="function"){x.callback=null,E=x.priorityLevel;var R=L(x.expirationTime<=N);if(N=r.unstable_now(),typeof R=="function"){x.callback=R,V(N),Q=!0;break t}x===s(g)&&i(g),V(N)}else i(g);x=s(g)}if(x!==null)Q=!0;else{var _=s(y);_!==null&&Ge(I,_.startTime-N),Q=!1}}break e}finally{x=null,E=z,S=!1}Q=void 0}}finally{Q?ve():W=!1}}}var ve;if(typeof q=="function")ve=function(){q(Qe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ee=Te.port2;Te.port1.onmessage=Qe,ve=function(){Ee.postMessage(null)}}else ve=function(){k(Qe,0)};function Ge(N,Q){Z=k(function(){N(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(N){switch(E){case 1:case 2:case 3:var Q=3;break;default:Q=E}var z=E;E=Q;try{return N()}finally{E=z}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(N,Q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=E;E=N;try{return Q()}finally{E=z}},r.unstable_scheduleCallback=function(N,Q,z){var L=r.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?L+z:L):z=L,N){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,N={id:v++,callback:Q,priorityLevel:N,startTime:z,expirationTime:R,sortIndex:-1},z>L?(N.sortIndex=z,n(y,N),s(g)===null&&N===s(y)&&(D?(B(Z),Z=-1):D=!0,Ge(I,z-L))):(N.sortIndex=R,n(g,N),C||S||(C=!0,W||(W=!0,ve()))),N},r.unstable_shouldYield=Ae,r.unstable_wrapCallback=function(N){var Q=E;return function(){var z=E;E=Q;try{return N.apply(this,arguments)}finally{E=z}}}})(Xu)),Xu}var $m;function Oy(){return $m||($m=1,Ju.exports=Cy()),Ju.exports}var Qu={exports:{}},pt={};var Gm;function Ry(){if(Gm)return pt;Gm=1;var r=wc();function n(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(g,y,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:y,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pt.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return h(g,y,null,v)},pt.flushSync=function(g){var y=f.T,v=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=y,i.p=v,i.d.f()}},pt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},pt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},pt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,x=p(v,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:S}):v==="script"&&i.d.X(g,{crossOrigin:x,integrity:E,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},pt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,x=p(v,y.crossOrigin);i.d.L(g,v,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pt.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},pt.requestFormReset=function(g){i.d.r(g)},pt.unstable_batchedUpdates=function(g,y){return g(y)},pt.useFormState=function(g,y,v){return f.H.useFormState(g,y,v)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.2.3",pt}var Km;function Dy(){if(Km)return Qu.exports;Km=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Qu.exports=Ry(),Qu.exports}var Vm;function Uy(){if(Vm)return As;Vm=1;var r=Oy(),n=wc(),s=Dy();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){a=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return g(o),e;if(u===l)return g(o),t;u=u.sibling}throw Error(i(188))}if(a.return!==l.return)a=o,l=u;else{for(var m=!1,b=o.child;b;){if(b===a){m=!0,a=o,l=u;break}if(b===l){m=!0,l=o,a=u;break}b=b.sibling}if(!m){for(b=u.child;b;){if(b===a){m=!0,a=u,l=o;break}if(b===l){m=!0,l=u,a=o;break}b=b.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),Ae=Symbol.for("react.memo_cache_sentinel"),Qe=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=Qe&&e[Qe]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case k:return"Profiler";case $:return"StrictMode";case I:return"Suspense";case W:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case q:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var Ge=Array.isArray,N=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},L=[],R=-1;function _(e){return{current:e}}function K(e){0>R||(e.current=L[R],L[R]=null,R--)}function w(e,t){R++,L[R]=e.current,e.current=t}var P=_(null),ee=_(null),le=_(null),xe=_(null);function Pe(e,t){switch(w(le,t),w(ee,e),w(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sm(t),e=lm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(P),w(P,e)}function ke(){K(P),K(ee),K(le)}function Ie(e){e.memoizedState!==null&&w(xe,e);var t=P.current,a=lm(t,e.type);t!==a&&(w(ee,e),w(P,a))}function Oa(e){ee.current===e&&(K(P),K(ee)),xe.current===e&&(K(xe),Ss._currentValue=z)}var Dr,F;function me(e){if(Dr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Dr=t&&t[1]||"",F=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+e+F}var Me=!1;function Ve(e,t){if(!e||Me)return"";Me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var H=G}Reflect.construct(e,[],X)}else{try{X.call()}catch(G){H=G}e.call(X.prototype)}}else{try{throw Error()}catch(G){H=G}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),m=u[0],b=u[1];if(m&&b){var j=m.split(`
`),M=b.split(`
`);for(o=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;if(l===j.length||o===M.length)for(l=j.length-1,o=M.length-1;1<=l&&0<=o&&j[l]!==M[o];)o--;for(;1<=l&&0<=o;l--,o--)if(j[l]!==M[o]){if(l!==1||o!==1)do if(l--,o--,0>o||j[l]!==M[o]){var Y=`
`+j[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=o);break}}}finally{Me=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?me(a):""}function Ur(e,t){switch(e.tag){case 26:case 27:case 5:return me(e.type);case 16:return me("Lazy");case 13:return e.child!==t&&t!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Ve(e.type,!1);case 11:return Ve(e.type.render,!1);case 1:return Ve(e.type,!0);case 31:return me("Activity");default:return""}}function zc(e){try{var t="",a=null;do t+=Ur(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ti=Object.prototype.hasOwnProperty,Ai=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,s0=r.unstable_shouldYield,l0=r.unstable_requestPaint,Et=r.unstable_now,i0=r.unstable_getCurrentPriorityLevel,Mc=r.unstable_ImmediatePriority,Lc=r.unstable_UserBlockingPriority,Js=r.unstable_NormalPriority,o0=r.unstable_LowPriority,Bc=r.unstable_IdlePriority,u0=r.log,c0=r.unstable_setDisableYieldValue,zr=null,Nt=null;function Ra(e){if(typeof u0=="function"&&c0(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(zr,e)}catch{}}var Tt=Math.clz32?Math.clz32:f0,d0=Math.log,h0=Math.LN2;function f0(e){return e>>>=0,e===0?32:31-(d0(e)/h0|0)|0}var Xs=256,Qs=262144,Ps=4194304;function sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Is(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~u,l!==0?o=sn(l):(m&=b,m!==0?o=sn(m):a||(a=b&~e,a!==0&&(o=sn(a))))):(b=l&~u,b!==0?o=sn(b):m!==0?o=sn(m):a||(a=l&~e,a!==0&&(o=sn(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Mr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function m0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qc(){var e=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),e}function Ci(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Lr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function g0(e,t,a,l,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,j=e.expirationTimes,M=e.hiddenUpdates;for(a=m&~a;0<a;){var Y=31-Tt(a),X=1<<Y;b[Y]=0,j[Y]=-1;var H=M[Y];if(H!==null)for(M[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}a&=~X}l!==0&&Hc(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Hc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Tt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function $c(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Tt(a),o=1<<l;o&t|e[l]&t&&(e[l]|=t),a&=~o}}function Gc(e,t){var a=t&-t;return a=(a&42)!==0?1:Oi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Oi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kc(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:km(e.type))}function Vc(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var Da=Math.random().toString(36).slice(2),ot="__reactFiber$"+Da,bt="__reactProps$"+Da,On="__reactContainer$"+Da,Di="__reactEvents$"+Da,p0="__reactListeners$"+Da,y0="__reactHandles$"+Da,Yc="__reactResources$"+Da,Br="__reactMarker$"+Da;function Ui(e){delete e[ot],delete e[bt],delete e[Di],delete e[p0],delete e[y0]}function Rn(e){var t=e[ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[On]||a[ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=fm(e);e!==null;){if(a=e[ot])return a;e=fm(e)}return t}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[ot]||e[On]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Un(e){var t=e[Yc];return t||(t=e[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Br]=!0}var Jc=new Set,Xc={};function ln(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Xc[e]=t,e=0;e<t.length;e++)Jc.add(t[e])}var b0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Pc={};function v0(e){return Ti.call(Pc,e)?!0:Ti.call(Qc,e)?!1:b0.test(e)?Pc[e]=!0:(Qc[e]=!0,!1)}function Zs(e,t,a){if(v0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Fs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function oa(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ic(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x0(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zi(e){if(!e._valueTracker){var t=Ic(e)?"checked":"value";e._valueTracker=x0(e,t,""+e[t])}}function Zc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Ic(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var w0=/[\n"\\]/g;function Ht(e){return e.replace(w0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mi(e,t,a,l,o,u,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Li(e,m,qt(t)):a!=null?Li(e,m,qt(a)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+qt(b):e.removeAttribute("name")}function Fc(e,t,a,l,o,u,m,b){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){zi(e);return}a=a!=null?""+qt(a):"",t=t!=null?""+qt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),zi(e)}function Li(e,t,a){t==="number"&&Ws(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Mn(e,t,a,l){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&l&&(e[a].defaultSelected=!0)}else{for(a=""+qt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Wc(e,t,a){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+qt(a):""}function ed(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(Ge(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=qt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),zi(e)}function Ln(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var _0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function td(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||_0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ad(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&a[o]!==l&&td(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&td(e,u,t[u])}function Bi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(e){return j0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ua(){}var qi=null;function Hi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bn=null,qn=null;function nd(e){var t=Dn(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var o=l[bt]||null;if(!o)throw Error(i(90));Mi(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Zc(l)}break e;case"textarea":Wc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Mn(e,!!a.multiple,t,!1)}}}var $i=!1;function rd(e,t,a){if($i)return e(t,a);$i=!0;try{var l=e(t);return l}finally{if($i=!1,(Bn!==null||qn!==null)&&($l(),Bn&&(t=Bn,e=qn,qn=Bn=null,nd(t),e)))for(t=0;t<e.length;t++)nd(e[t])}}function Hr(e,t){var a=e.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(ca)try{var $r={};Object.defineProperty($r,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{Gi=!1}var Ua=null,Ki=null,tl=null;function sd(){if(tl)return tl;var e,t=Ki,a=t.length,l,o="value"in Ua?Ua.value:Ua.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(l=1;l<=m&&t[a-l]===o[u-l];l++);return tl=o.slice(e,1<l?1-l:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function ld(){return!1}function vt(e){function t(a,l,o,u,m){this._reactName=a,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(u):u[b]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?nl:ld,this.isPropagationStopped=ld,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=vt(on),Gr=x({},on,{view:0,detail:0}),E0=vt(Gr),Vi,Yi,Kr,sl=x({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(Vi=e.screenX-Kr.screenX,Yi=e.screenY-Kr.screenY):Yi=Vi=0,Kr=e),Vi)},movementY:function(e){return"movementY"in e?e.movementY:Yi}}),id=vt(sl),N0=x({},sl,{dataTransfer:0}),T0=vt(N0),A0=x({},Gr,{relatedTarget:0}),Ji=vt(A0),k0=x({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=vt(k0),O0=x({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R0=vt(O0),D0=x({},on,{data:0}),od=vt(D0),U0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M0[e])?!!t[e]:!1}function Xi(){return L0}var B0=x({},Gr,{key:function(e){if(e.key){var t=U0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q0=vt(B0),H0=x({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=vt(H0),$0=x({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),G0=vt($0),K0=x({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=vt(K0),Y0=x({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=vt(Y0),X0=x({},on,{newState:0,oldState:0}),Q0=vt(X0),P0=[9,13,27,32],Qi=ca&&"CompositionEvent"in window,Vr=null;ca&&"documentMode"in document&&(Vr=document.documentMode);var I0=ca&&"TextEvent"in window&&!Vr,cd=ca&&(!Qi||Vr&&8<Vr&&11>=Vr),dd=" ",hd=!1;function fd(e,t){switch(e){case"keyup":return P0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function Z0(e,t){switch(e){case"compositionend":return md(t);case"keypress":return t.which!==32?null:(hd=!0,dd);case"textInput":return e=t.data,e===dd&&hd?null:e;default:return null}}function F0(e,t){if(Hn)return e==="compositionend"||!Qi&&fd(e,t)?(e=sd(),tl=Ki=Ua=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cd&&t.locale!=="ko"?null:t.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W0[e.type]:t==="textarea"}function pd(e,t,a,l){Bn?qn?qn.push(l):qn=[l]:Bn=l,t=Ql(t,"onChange"),0<t.length&&(a=new rl("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Yr=null,Jr=null;function ep(e){Wf(e,0)}function ll(e){var t=qr(e);if(Zc(t))return e}function yd(e,t){if(e==="change")return t}var bd=!1;if(ca){var Pi;if(ca){var Ii="oninput"in document;if(!Ii){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Ii=typeof vd.oninput=="function"}Pi=Ii}else Pi=!1;bd=Pi&&(!document.documentMode||9<document.documentMode)}function xd(){Yr&&(Yr.detachEvent("onpropertychange",wd),Jr=Yr=null)}function wd(e){if(e.propertyName==="value"&&ll(Jr)){var t=[];pd(t,Jr,e,Hi(e)),rd(ep,t)}}function tp(e,t,a){e==="focusin"?(xd(),Yr=t,Jr=a,Yr.attachEvent("onpropertychange",wd)):e==="focusout"&&xd()}function ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(Jr)}function np(e,t){if(e==="click")return ll(t)}function rp(e,t){if(e==="input"||e==="change")return ll(t)}function sp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:sp;function Xr(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var o=a[l];if(!Ti.call(t,o)||!At(e[o],t[o]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sd(e,t){var a=_d(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_d(a)}}function jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ws(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ws(e.document)}return t}function Zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lp=ca&&"documentMode"in document&&11>=document.documentMode,$n=null,Fi=null,Qr=null,Wi=!1;function Nd(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wi||$n==null||$n!==Ws(l)||(l=$n,"selectionStart"in l&&Zi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qr&&Xr(Qr,l)||(Qr=l,l=Ql(Fi,"onSelect"),0<l.length&&(t=new rl("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=$n)))}function un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Gn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},eo={},Td={};ca&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function cn(e){if(eo[e])return eo[e];if(!Gn[e])return e;var t=Gn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Td)return eo[e]=t[a];return e}var Ad=cn("animationend"),kd=cn("animationiteration"),Cd=cn("animationstart"),ip=cn("transitionrun"),op=cn("transitionstart"),up=cn("transitioncancel"),Od=cn("transitionend"),Rd=new Map,to="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");to.push("scrollEnd");function It(e,t){Rd.set(e,t),ln(t,[e])}var il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Kn=0,ao=0;function ol(){for(var e=Kn,t=ao=Kn=0;t<e;){var a=$t[t];$t[t++]=null;var l=$t[t];$t[t++]=null;var o=$t[t];$t[t++]=null;var u=$t[t];if($t[t++]=null,l!==null&&o!==null){var m=l.pending;m===null?o.next=o:(o.next=m.next,m.next=o),l.pending=o}u!==0&&Dd(a,o,u)}}function ul(e,t,a,l){$t[Kn++]=e,$t[Kn++]=t,$t[Kn++]=a,$t[Kn++]=l,ao|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function no(e,t,a,l){return ul(e,t,a,l),cl(e)}function dn(e,t){return ul(e,null,null,t),cl(e)}function Dd(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,l=u.alternate,l!==null&&(l.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Tt(a),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=a|536870912),u):null}function cl(e){if(50<ps)throw ps=0,fu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Vn={};function cp(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,l){return new cp(e,t,a,l)}function ro(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ud(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function dl(e,t,a,l,o,u){var m=0;if(l=e,typeof e=="function")ro(e)&&(m=1);else if(typeof e=="string")m=gy(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=kt(31,a,t,o),e.elementType=oe,e.lanes=u,e;case D:return hn(a.children,o,u,t);case $:m=8,o|=24;break;case k:return e=kt(12,a,t,o|2),e.elementType=k,e.lanes=u,e;case I:return e=kt(13,a,t,o),e.elementType=I,e.lanes=u,e;case W:return e=kt(19,a,t,o),e.elementType=W,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:m=10;break e;case B:m=9;break e;case V:m=11;break e;case Z:m=14;break e;case re:m=16,l=null;break e}m=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=kt(m,a,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function hn(e,t,a,l){return e=kt(7,e,l,t),e.lanes=a,e}function so(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function zd(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function lo(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Md=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=Md.get(e);return a!==void 0?a:(t={value:e,source:t,stack:zc(t)},Md.set(e,t),t)}return{value:e,source:t,stack:zc(t)}}var Yn=[],Jn=0,hl=null,Pr=0,Kt=[],Vt=0,za=null,aa=1,na="";function ha(e,t){Yn[Jn++]=Pr,Yn[Jn++]=hl,hl=e,Pr=t}function Ld(e,t,a){Kt[Vt++]=aa,Kt[Vt++]=na,Kt[Vt++]=za,za=e;var l=aa;e=na;var o=32-Tt(l)-1;l&=~(1<<o),a+=1;var u=32-Tt(t)+o;if(30<u){var m=o-o%5;u=(l&(1<<m)-1).toString(32),l>>=m,o-=m,aa=1<<32-Tt(t)+o|a<<o|l,na=u+e}else aa=1<<u|a<<o|l,na=e}function io(e){e.return!==null&&(ha(e,1),Ld(e,1,0))}function oo(e){for(;e===hl;)hl=Yn[--Jn],Yn[Jn]=null,Pr=Yn[--Jn],Yn[Jn]=null;for(;e===za;)za=Kt[--Vt],Kt[Vt]=null,na=Kt[--Vt],Kt[Vt]=null,aa=Kt[--Vt],Kt[Vt]=null}function Bd(e,t){Kt[Vt++]=aa,Kt[Vt++]=na,Kt[Vt++]=za,aa=t.id,na=t.overflow,za=e}var ut=null,Be=null,we=!1,Ma=null,Yt=!1,uo=Error(i(519));function La(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ir(Gt(t,e)),uo}function qd(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ot]=e,t[bt]=l,a){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(a=0;a<bs.length;a++)pe(bs[a],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Fc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),ed(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||nm(t.textContent,a)?(l.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),l.onScroll!=null&&pe("scroll",t),l.onScrollEnd!=null&&pe("scrollend",t),l.onClick!=null&&(t.onclick=ua),t=!0):t=!1,t||La(e,!0)}function Hd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:ut=ut.return}}function Xn(e){if(e!==ut)return!1;if(!we)return Hd(e),we=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Au(e.type,e.memoizedProps)),a=!a),a&&Be&&La(e),Hd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Be=hm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Be=hm(e)}else t===27?(t=Be,Za(e.type)?(e=Du,Du=null,Be=e):Be=t):Be=ut?Xt(e.stateNode.nextSibling):null;return!0}function fn(){Be=ut=null,we=!1}function co(){var e=Ma;return e!==null&&(St===null?St=e:St.push.apply(St,e),Ma=null),e}function Ir(e){Ma===null?Ma=[e]:Ma.push(e)}var ho=_(null),mn=null,fa=null;function Ba(e,t,a){w(ho,t._currentValue),t._currentValue=a}function ma(e){e._currentValue=ho.current,K(ho)}function fo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function mo(e,t,a,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var b=u;u=o;for(var j=0;j<t.length;j++)if(b.context===t[j]){u.lanes|=a,b=u.alternate,b!==null&&(b.lanes|=a),fo(u.return,a,e),l||(m=null);break e}u=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(i(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),fo(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Qn(e,t,a,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var b=o.type;At(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===xe.current){if(m=o.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ss):e=[Ss])}o=o.return}e!==null&&mo(t,e,a,l),t.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gn(e){mn=e,fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return $d(mn,e)}function ml(e,t){return mn===null&&gn(e),$d(e,t)}function $d(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},fa===null){if(e===null)throw Error(i(308));fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fa=fa.next=t;return a}var dp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},hp=r.unstable_scheduleCallback,fp=r.unstable_NormalPriority,We={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function go(){return{controller:new dp,data:new Map,refCount:0}}function Zr(e){e.refCount--,e.refCount===0&&hp(fp,function(){e.controller.abort()})}var Fr=null,po=0,Pn=0,In=null;function mp(e,t){if(Fr===null){var a=Fr=[];po=0,Pn=vu(),In={status:"pending",value:void 0,then:function(l){a.push(l)}}}return po++,t.then(Gd,Gd),t}function Gd(){if(--po===0&&Fr!==null){In!==null&&(In.status="fulfilled");var e=Fr;Fr=null,Pn=0,In=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gp(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),l}var Kd=N.S;N.S=function(e,t){Tf=Et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&mp(e,t),Kd!==null&&Kd(e,t)};var pn=_(null);function yo(){var e=pn.current;return e!==null?e:ze.pooledCache}function gl(e,t){t===null?w(pn,pn.current):w(pn,t.pool)}function Vd(){var e=yo();return e===null?null:{parent:We._currentValue,pool:e}}var Zn=Error(i(460)),bo=Error(i(474)),pl=Error(i(542)),yl={then:function(){}};function Yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ua,ua),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e;default:if(typeof t.status=="string")t.then(ua,ua);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qd(e),e}throw bn=t,Zn}}function yn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(bn=a,Zn):a}}var bn=null;function Xd(){if(bn===null)throw Error(i(459));var e=bn;return bn=null,e}function Qd(e){if(e===Zn||e===pl)throw Error(i(483))}var Fn=null,Wr=0;function bl(e){var t=Wr;return Wr+=1,Fn===null&&(Fn=[]),Jd(Fn,e,t)}function es(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vl(e,t){throw t.$$typeof===E?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pd(e){function t(O,A){if(e){var U=O.deletions;U===null?(O.deletions=[A],O.flags|=16):U.push(A)}}function a(O,A){if(!e)return null;for(;A!==null;)t(O,A),A=A.sibling;return null}function l(O){for(var A=new Map;O!==null;)O.key!==null?A.set(O.key,O):A.set(O.index,O),O=O.sibling;return A}function o(O,A){return O=da(O,A),O.index=0,O.sibling=null,O}function u(O,A,U){return O.index=U,e?(U=O.alternate,U!==null?(U=U.index,U<A?(O.flags|=67108866,A):U):(O.flags|=67108866,A)):(O.flags|=1048576,A)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function b(O,A,U,J){return A===null||A.tag!==6?(A=so(U,O.mode,J),A.return=O,A):(A=o(A,U),A.return=O,A)}function j(O,A,U,J){var se=U.type;return se===D?Y(O,A,U.props.children,J,U.key):A!==null&&(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===re&&yn(se)===A.type)?(A=o(A,U.props),es(A,U),A.return=O,A):(A=dl(U.type,U.key,U.props,null,O.mode,J),es(A,U),A.return=O,A)}function M(O,A,U,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==U.containerInfo||A.stateNode.implementation!==U.implementation?(A=lo(U,O.mode,J),A.return=O,A):(A=o(A,U.children||[]),A.return=O,A)}function Y(O,A,U,J,se){return A===null||A.tag!==7?(A=hn(U,O.mode,J,se),A.return=O,A):(A=o(A,U),A.return=O,A)}function X(O,A,U){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=so(""+A,O.mode,U),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return U=dl(A.type,A.key,A.props,null,O.mode,U),es(U,A),U.return=O,U;case C:return A=lo(A,O.mode,U),A.return=O,A;case re:return A=yn(A),X(O,A,U)}if(Ge(A)||ve(A))return A=hn(A,O.mode,U,null),A.return=O,A;if(typeof A.then=="function")return X(O,bl(A),U);if(A.$$typeof===q)return X(O,ml(O,A),U);vl(O,A)}return null}function H(O,A,U,J){var se=A!==null?A.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return se!==null?null:b(O,A,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===se?j(O,A,U,J):null;case C:return U.key===se?M(O,A,U,J):null;case re:return U=yn(U),H(O,A,U,J)}if(Ge(U)||ve(U))return se!==null?null:Y(O,A,U,J,null);if(typeof U.then=="function")return H(O,A,bl(U),J);if(U.$$typeof===q)return H(O,A,ml(O,U),J);vl(O,U)}return null}function G(O,A,U,J,se){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return O=O.get(U)||null,b(A,O,""+J,se);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return O=O.get(J.key===null?U:J.key)||null,j(A,O,J,se);case C:return O=O.get(J.key===null?U:J.key)||null,M(A,O,J,se);case re:return J=yn(J),G(O,A,U,J,se)}if(Ge(J)||ve(J))return O=O.get(U)||null,Y(A,O,J,se,null);if(typeof J.then=="function")return G(O,A,U,bl(J),se);if(J.$$typeof===q)return G(O,A,U,ml(A,J),se);vl(A,J)}return null}function te(O,A,U,J){for(var se=null,_e=null,ae=A,fe=A=0,be=null;ae!==null&&fe<U.length;fe++){ae.index>fe?(be=ae,ae=null):be=ae.sibling;var Se=H(O,ae,U[fe],J);if(Se===null){ae===null&&(ae=be);break}e&&ae&&Se.alternate===null&&t(O,ae),A=u(Se,A,fe),_e===null?se=Se:_e.sibling=Se,_e=Se,ae=be}if(fe===U.length)return a(O,ae),we&&ha(O,fe),se;if(ae===null){for(;fe<U.length;fe++)ae=X(O,U[fe],J),ae!==null&&(A=u(ae,A,fe),_e===null?se=ae:_e.sibling=ae,_e=ae);return we&&ha(O,fe),se}for(ae=l(ae);fe<U.length;fe++)be=G(ae,O,fe,U[fe],J),be!==null&&(e&&be.alternate!==null&&ae.delete(be.key===null?fe:be.key),A=u(be,A,fe),_e===null?se=be:_e.sibling=be,_e=be);return e&&ae.forEach(function(an){return t(O,an)}),we&&ha(O,fe),se}function ie(O,A,U,J){if(U==null)throw Error(i(151));for(var se=null,_e=null,ae=A,fe=A=0,be=null,Se=U.next();ae!==null&&!Se.done;fe++,Se=U.next()){ae.index>fe?(be=ae,ae=null):be=ae.sibling;var an=H(O,ae,Se.value,J);if(an===null){ae===null&&(ae=be);break}e&&ae&&an.alternate===null&&t(O,ae),A=u(an,A,fe),_e===null?se=an:_e.sibling=an,_e=an,ae=be}if(Se.done)return a(O,ae),we&&ha(O,fe),se;if(ae===null){for(;!Se.done;fe++,Se=U.next())Se=X(O,Se.value,J),Se!==null&&(A=u(Se,A,fe),_e===null?se=Se:_e.sibling=Se,_e=Se);return we&&ha(O,fe),se}for(ae=l(ae);!Se.done;fe++,Se=U.next())Se=G(ae,O,fe,Se.value,J),Se!==null&&(e&&Se.alternate!==null&&ae.delete(Se.key===null?fe:Se.key),A=u(Se,A,fe),_e===null?se=Se:_e.sibling=Se,_e=Se);return e&&ae.forEach(function(Ny){return t(O,Ny)}),we&&ha(O,fe),se}function Ue(O,A,U,J){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var se=U.key;A!==null;){if(A.key===se){if(se=U.type,se===D){if(A.tag===7){a(O,A.sibling),J=o(A,U.props.children),J.return=O,O=J;break e}}else if(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===re&&yn(se)===A.type){a(O,A.sibling),J=o(A,U.props),es(J,U),J.return=O,O=J;break e}a(O,A);break}else t(O,A);A=A.sibling}U.type===D?(J=hn(U.props.children,O.mode,J,U.key),J.return=O,O=J):(J=dl(U.type,U.key,U.props,null,O.mode,J),es(J,U),J.return=O,O=J)}return m(O);case C:e:{for(se=U.key;A!==null;){if(A.key===se)if(A.tag===4&&A.stateNode.containerInfo===U.containerInfo&&A.stateNode.implementation===U.implementation){a(O,A.sibling),J=o(A,U.children||[]),J.return=O,O=J;break e}else{a(O,A);break}else t(O,A);A=A.sibling}J=lo(U,O.mode,J),J.return=O,O=J}return m(O);case re:return U=yn(U),Ue(O,A,U,J)}if(Ge(U))return te(O,A,U,J);if(ve(U)){if(se=ve(U),typeof se!="function")throw Error(i(150));return U=se.call(U),ie(O,A,U,J)}if(typeof U.then=="function")return Ue(O,A,bl(U),J);if(U.$$typeof===q)return Ue(O,A,ml(O,U),J);vl(O,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,A!==null&&A.tag===6?(a(O,A.sibling),J=o(A,U),J.return=O,O=J):(a(O,A),J=so(U,O.mode,J),J.return=O,O=J),m(O)):a(O,A)}return function(O,A,U,J){try{Wr=0;var se=Ue(O,A,U,J);return Fn=null,se}catch(ae){if(ae===Zn||ae===pl)throw ae;var _e=kt(29,ae,null,O.mode);return _e.lanes=J,_e.return=O,_e}}}var vn=Pd(!0),Id=Pd(!1),qa=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ne&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=cl(e),Dd(e,null,a),t}return ul(e,l,t,a),cl(e)}function ts(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,$c(e,a)}}function wo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var _o=!1;function as(){if(_o){var e=In;if(e!==null)throw e}}function ns(e,t,a,l){_o=!1;var o=e.updateQueue;qa=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var j=b,M=j.next;j.next=null,m===null?u=M:m.next=M,m=j;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==m&&(b===null?Y.firstBaseUpdate=M:b.next=M,Y.lastBaseUpdate=j))}if(u!==null){var X=o.baseState;m=0,Y=M=j=null,b=u;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(ye&H)===H:(l&H)===H){H!==0&&H===Pn&&(_o=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var te=e,ie=b;H=t;var Ue=a;switch(ie.tag){case 1:if(te=ie.payload,typeof te=="function"){X=te.call(Ue,X,H);break e}X=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ie.payload,H=typeof te=="function"?te.call(Ue,X,H):te,H==null)break e;X=x({},X,H);break e;case 2:qa=!0}}H=b.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=o.callbacks,G===null?o.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(M=Y=G,j=X):Y=Y.next=G,m|=H;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;G=b,b=G.next,G.next=null,o.lastBaseUpdate=G,o.shared.pending=null}}while(!0);Y===null&&(j=X),o.baseState=j,o.firstBaseUpdate=M,o.lastBaseUpdate=Y,u===null&&(o.shared.lanes=0),Ja|=m,e.lanes=m,e.memoizedState=X}}function Zd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Fd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zd(a[e],t)}var Wn=_(null),xl=_(0);function Wd(e,t){e=Sa,w(xl,e),w(Wn,t),Sa=e|t.baseLanes}function So(){w(xl,Sa),w(Wn,Wn.current)}function jo(){Sa=xl.current,K(Wn),K(xl)}var Ct=_(null),Jt=null;function Ga(e){var t=e.alternate;w(Ze,Ze.current&1),w(Ct,e),Jt===null&&(t===null||Wn.current!==null||t.memoizedState!==null)&&(Jt=e)}function Eo(e){w(Ze,Ze.current),w(Ct,e),Jt===null&&(Jt=e)}function eh(e){e.tag===22?(w(Ze,Ze.current),w(Ct,e),Jt===null&&(Jt=e)):Ka()}function Ka(){w(Ze,Ze.current),w(Ct,Ct.current)}function Ot(e){K(Ct),Jt===e&&(Jt=null),K(Ze)}var Ze=_(0);function wl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ou(a)||Ru(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,he=null,Re=null,et=null,_l=!1,er=!1,xn=!1,Sl=0,rs=0,tr=null,pp=0;function Ye(){throw Error(i(321))}function No(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function To(e,t,a,l,o,u){return ga=u,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Lh:Go,xn=!1,u=a(l,o),xn=!1,er&&(u=ah(t,a,l,o)),th(e),u}function th(e){N.H=is;var t=Re!==null&&Re.next!==null;if(ga=0,et=Re=he=null,_l=!1,rs=0,tr=null,t)throw Error(i(300));e===null||tt||(e=e.dependencies,e!==null&&fl(e)&&(tt=!0))}function ah(e,t,a,l){he=e;var o=0;do{if(er&&(tr=null),rs=0,er=!1,25<=o)throw Error(i(301));if(o+=1,et=Re=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}N.H=Bh,u=t(a,l)}while(er);return u}function yp(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?ss(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(he.flags|=1024),t}function Ao(){var e=Sl!==0;return Sl=0,e}function ko(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Co(e){if(_l){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_l=!1}ga=0,et=Re=he=null,er=!1,rs=Sl=0,tr=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?he.memoizedState=et=e:et=et.next=e,et}function Fe(){if(Re===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=et===null?he.memoizedState:et.next;if(t!==null)et=t,Re=e;else{if(e===null)throw he.alternate===null?Error(i(467)):Error(i(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},et===null?he.memoizedState=et=e:et=et.next=e}return et}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(e){var t=rs;return rs+=1,tr===null&&(tr=[]),e=Jd(tr,e,t),t=he,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Lh:Go),e}function El(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===q)return ct(e)}throw Error(i(438,String(e)))}function Oo(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=jl(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Ae;return t.index++,a}function pa(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Fe();return Ro(t,Re,e)}function Ro(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var b=m=null,j=null,M=t,Y=!1;do{var X=M.lane&-536870913;if(X!==M.lane?(ye&X)===X:(ga&X)===X){var H=M.revertLane;if(H===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),X===Pn&&(Y=!0);else if((ga&H)===H){M=M.next,H===Pn&&(Y=!0);continue}else X={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},j===null?(b=j=X,m=u):j=j.next=X,he.lanes|=H,Ja|=H;X=M.action,xn&&a(u,X),u=M.hasEagerState?M.eagerState:a(u,X)}else H={lane:X,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},j===null?(b=j=H,m=u):j=j.next=H,he.lanes|=X,Ja|=X;M=M.next}while(M!==null&&M!==t);if(j===null?m=u:j.next=b,!At(u,e.memoizedState)&&(tt=!0,Y&&(a=In,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=j,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Do(e){var t=Fe(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);At(u,t.memoizedState)||(tt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,l]}function nh(e,t,a){var l=he,o=Fe(),u=we;if(u){if(a===void 0)throw Error(i(407));a=a()}else a=t();var m=!At((Re||o).memoizedState,a);if(m&&(o.memoizedState=a,tt=!0),o=o.queue,Mo(lh.bind(null,l,o,e),[e]),o.getSnapshot!==t||m||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,ar(9,{destroy:void 0},sh.bind(null,l,o,a,t),null),ze===null)throw Error(i(349));u||(ga&127)!==0||rh(l,t,a)}return a}function rh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=jl(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sh(e,t,a,l){t.value=a,t.getSnapshot=l,ih(t)&&oh(e)}function lh(e,t,a){return a(function(){ih(t)&&oh(e)})}function ih(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function oh(e){var t=dn(e,2);t!==null&&jt(t,e,2)}function Uo(e){var t=yt();if(typeof e=="function"){var a=e;if(e=a(),xn){Ra(!0);try{a()}finally{Ra(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function uh(e,t,a,l){return e.baseState=a,Ro(e,Re,typeof l=="function"?l:pa)}function bp(e,t,a,l,o){if(kl(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};N.T!==null?a(!0):u.isTransition=!1,l(u),a=t.pending,a===null?(u.next=t.pending=u,ch(t,u)):(u.next=a.next,t.pending=a.next=u)}}function ch(e,t){var a=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=N.T,m={};N.T=m;try{var b=a(o,l),j=N.S;j!==null&&j(m,b),dh(e,t,b)}catch(M){zo(e,t,M)}finally{u!==null&&m.types!==null&&(u.types=m.types),N.T=u}}else try{u=a(o,l),dh(e,t,u)}catch(M){zo(e,t,M)}}function dh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hh(e,t,l)},function(l){return zo(e,t,l)}):hh(e,t,a)}function hh(e,t,a){t.status="fulfilled",t.value=a,fh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ch(e,a)))}function zo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,fh(t),t=t.next;while(t!==l)}e.action=null}function fh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mh(e,t){return t}function gh(e,t){if(we){var a=ze.formState;if(a!==null){e:{var l=he;if(we){if(Be){t:{for(var o=Be,u=Yt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Xt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Be=Xt(o.nextSibling),l=o.data==="F!";break e}}La(l)}l=!1}l&&(t=a[0])}}return a=yt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mh,lastRenderedState:t},a.queue=l,a=Uh.bind(null,he,l),l.dispatch=a,l=Uo(!1),u=$o.bind(null,he,!1,l.queue),l=yt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,a=bp.bind(null,he,o,u,a),o.dispatch=a,l.memoizedState=e,[t,a,!1]}function ph(e){var t=Fe();return yh(t,Re,e)}function yh(e,t,a){if(t=Ro(e,t,mh)[0],e=Nl(pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ss(t)}catch(m){throw m===Zn?pl:m}else l=t;t=Fe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(he.flags|=2048,ar(9,{destroy:void 0},vp.bind(null,o,a),null)),[l,u,e]}function vp(e,t){e.action=t}function bh(e){var t=Fe(),a=Re;if(a!==null)return yh(t,a,e);Fe(),t=t.memoizedState,a=Fe();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function ar(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=he.updateQueue,t===null&&(t=jl(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function vh(){return Fe().memoizedState}function Tl(e,t,a,l){var o=yt();he.flags|=e,o.memoizedState=ar(1|t,{destroy:void 0},a,l===void 0?null:l)}function Al(e,t,a,l){var o=Fe();l=l===void 0?null:l;var u=o.memoizedState.inst;Re!==null&&l!==null&&No(l,Re.memoizedState.deps)?o.memoizedState=ar(t,u,a,l):(he.flags|=e,o.memoizedState=ar(1|t,u,a,l))}function xh(e,t){Tl(8390656,8,e,t)}function Mo(e,t){Al(2048,8,e,t)}function xp(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=jl(),he.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function wh(e){var t=Fe().memoizedState;return xp({ref:t,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function _h(e,t){return Al(4,2,e,t)}function Sh(e,t){return Al(4,4,e,t)}function jh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eh(e,t,a){a=a!=null?a.concat([e]):null,Al(4,4,jh.bind(null,t,e),a)}function Lo(){}function Nh(e,t){var a=Fe();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&No(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Th(e,t){var a=Fe();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&No(t,l[1]))return l[0];if(l=e(),xn){Ra(!0);try{e()}finally{Ra(!1)}}return a.memoizedState=[l,t],l}function Bo(e,t,a){return a===void 0||(ga&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=kf(),he.lanes|=e,Ja|=e,a)}function Ah(e,t,a,l){return At(a,t)?a:Wn.current!==null?(e=Bo(e,a,l),At(e,t)||(tt=!0),e):(ga&42)===0||(ga&1073741824)!==0&&(ye&261930)===0?(tt=!0,e.memoizedState=a):(e=kf(),he.lanes|=e,Ja|=e,t)}function kh(e,t,a,l,o){var u=Q.p;Q.p=u!==0&&8>u?u:8;var m=N.T,b={};N.T=b,$o(e,!1,t,a);try{var j=o(),M=N.S;if(M!==null&&M(b,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Y=gp(j,l);ls(e,t,Y,Ut(e))}else ls(e,t,l,Ut(e))}catch(X){ls(e,t,{then:function(){},status:"rejected",reason:X},Ut())}finally{Q.p=u,m!==null&&b.types!==null&&(m.types=b.types),N.T=m}}function wp(){}function qo(e,t,a,l){if(e.tag!==5)throw Error(i(476));var o=Ch(e).queue;kh(e,o,t,z,a===null?wp:function(){return Oh(e),a(l)})}function Ch(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Oh(e){var t=Ch(e);t.next===null&&(t=e.alternate.memoizedState),ls(e,t.next.queue,{},Ut())}function Ho(){return ct(Ss)}function Rh(){return Fe().memoizedState}function Dh(){return Fe().memoizedState}function _p(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ut();e=Ha(a);var l=$a(t,e,a);l!==null&&(jt(l,t,a),ts(l,t,a)),t={cache:go()},e.payload=t;return}t=t.return}}function Sp(e,t,a){var l=Ut();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kl(e)?zh(t,a):(a=no(e,t,a,l),a!==null&&(jt(a,e,l),Mh(a,t,l)))}function Uh(e,t,a){var l=Ut();ls(e,t,a,l)}function ls(e,t,a,l){var o={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kl(e))zh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,b=u(m,a);if(o.hasEagerState=!0,o.eagerState=b,At(b,m))return ul(e,t,o,0),ze===null&&ol(),!1}catch{}if(a=no(e,t,o,l),a!==null)return jt(a,e,l),Mh(a,t,l),!0}return!1}function $o(e,t,a,l){if(l={lane:2,revertLane:vu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kl(e)){if(t)throw Error(i(479))}else t=no(e,a,l,2),t!==null&&jt(t,e,2)}function kl(e){var t=e.alternate;return e===he||t!==null&&t===he}function zh(e,t){er=_l=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Mh(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,$c(e,a)}}var is={readContext:ct,use:El,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};is.useEffectEvent=Ye;var Lh={readContext:ct,use:El,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:xh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Tl(4194308,4,jh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){Tl(4,2,e,t)},useMemo:function(e,t){var a=yt();t=t===void 0?null:t;var l=e();if(xn){Ra(!0);try{e()}finally{Ra(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=yt();if(a!==void 0){var o=a(t);if(xn){Ra(!0);try{a(t)}finally{Ra(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=Sp.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Uo(e);var t=e.queue,a=Uh.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Lo,useDeferredValue:function(e,t){var a=yt();return Bo(a,e,t)},useTransition:function(){var e=Uo(!1);return e=kh.bind(null,he,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=he,o=yt();if(we){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),ze===null)throw Error(i(349));(ye&127)!==0||rh(l,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,xh(lh.bind(null,l,u,e),[e]),l.flags|=2048,ar(9,{destroy:void 0},sh.bind(null,l,u,a,t),null),a},useId:function(){var e=yt(),t=ze.identifierPrefix;if(we){var a=na,l=aa;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Sl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=pp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ho,useFormState:gh,useActionState:gh,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=$o.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:Oo,useCacheRefresh:function(){return yt().memoizedState=_p.bind(null,he)},useEffectEvent:function(e){var t=yt(),a={impl:e};return t.memoizedState=a,function(){if((Ne&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Go={readContext:ct,use:El,useCallback:Nh,useContext:ct,useEffect:Mo,useImperativeHandle:Eh,useInsertionEffect:_h,useLayoutEffect:Sh,useMemo:Th,useReducer:Nl,useRef:vh,useState:function(){return Nl(pa)},useDebugValue:Lo,useDeferredValue:function(e,t){var a=Fe();return Ah(a,Re.memoizedState,e,t)},useTransition:function(){var e=Nl(pa)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:nh,useId:Rh,useHostTransitionStatus:Ho,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var a=Fe();return uh(a,Re,e,t)},useMemoCache:Oo,useCacheRefresh:Dh};Go.useEffectEvent=wh;var Bh={readContext:ct,use:El,useCallback:Nh,useContext:ct,useEffect:Mo,useImperativeHandle:Eh,useInsertionEffect:_h,useLayoutEffect:Sh,useMemo:Th,useReducer:Do,useRef:vh,useState:function(){return Do(pa)},useDebugValue:Lo,useDeferredValue:function(e,t){var a=Fe();return Re===null?Bo(a,e,t):Ah(a,Re.memoizedState,e,t)},useTransition:function(){var e=Do(pa)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:nh,useId:Rh,useHostTransitionStatus:Ho,useFormState:bh,useActionState:bh,useOptimistic:function(e,t){var a=Fe();return Re!==null?uh(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Oo,useCacheRefresh:Dh};Bh.useEffectEvent=wh;function Ko(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Ut(),o=Ha(l);o.payload=t,a!=null&&(o.callback=a),t=$a(e,o,l),t!==null&&(jt(t,e,l),ts(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Ut(),o=Ha(l);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=$a(e,o,l),t!==null&&(jt(t,e,l),ts(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ut(),l=Ha(a);l.tag=2,t!=null&&(l.callback=t),t=$a(e,l,a),t!==null&&(jt(t,e,a),ts(t,e,a))}};function qh(e,t,a,l,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,m):t.prototype&&t.prototype.isPureReactComponent?!Xr(a,l)||!Xr(o,u):!0}function Hh(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function wn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function $h(e){il(e)}function Gh(e){console.error(e)}function Kh(e){il(e)}function Cl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Vh(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Yo(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){Cl(e,t)},a}function Yh(e){return e=Ha(e),e.tag=3,e}function Jh(e,t,a,l){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){Vh(t,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Vh(t,a,l),typeof o!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function jp(e,t,a,l,o){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,o,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return Jt===null?Gl():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=o,l===yl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),pu(e,l,o)),!1;case 22:return a.flags|=65536,l===yl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),pu(e,l,o)),!1}throw Error(i(435,a.tag))}return pu(e,l,o),Gl(),!1}if(we)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==uo&&(e=Error(i(422),{cause:l}),Ir(Gt(e,a)))):(l!==uo&&(t=Error(i(423),{cause:l}),Ir(Gt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Gt(l,a),o=Yo(e.stateNode,l,o),wo(e,o),Je!==4&&(Je=2)),!1;var u=Error(i(520),{cause:l});if(u=Gt(u,a),gs===null?gs=[u]:gs.push(u),Je!==4&&(Je=2),t===null)return!0;l=Gt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Yo(a.stateNode,l,e),wo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Xa===null||!Xa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Yh(o),Jh(o,e,a,l),wo(a,o),!1}a=a.return}while(a!==null);return!1}var Jo=Error(i(461)),tt=!1;function dt(e,t,a,l){t.child=e===null?Id(t,null,a,l):vn(t,e.child,a,l)}function Xh(e,t,a,l,o){a=a.render;var u=t.ref;if("ref"in l){var m={};for(var b in l)b!=="ref"&&(m[b]=l[b])}else m=l;return gn(t),l=To(e,t,a,m,u,o),b=Ao(),e!==null&&!tt?(ko(e,t,o),ya(e,t,o)):(we&&b&&io(t),t.flags|=1,dt(e,t,l,o),t.child)}function Qh(e,t,a,l,o){if(e===null){var u=a.type;return typeof u=="function"&&!ro(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Ph(e,t,u,l,o)):(e=dl(a.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!eu(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Xr,a(m,l)&&e.ref===t.ref)return ya(e,t,o)}return t.flags|=1,e=da(u,l),e.ref=t.ref,e.return=t,t.child=e}function Ph(e,t,a,l,o){if(e!==null){var u=e.memoizedProps;if(Xr(u,l)&&e.ref===t.ref)if(tt=!1,t.pendingProps=l=u,eu(e,o))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,ya(e,t,o)}return Xo(e,t,a,l,o)}function Ih(e,t,a,l){var o=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~u}else l=0,t.child=null;return Zh(e,t,u,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(t,u!==null?u.cachePool:null),u!==null?Wd(t,u):So(),eh(t);else return l=t.lanes=536870912,Zh(e,t,u!==null?u.baseLanes|a:a,a,l)}else u!==null?(gl(t,u.cachePool),Wd(t,u),Ka(),t.memoizedState=null):(e!==null&&gl(t,null),So(),Ka());return dt(e,t,o,a),t.child}function os(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zh(e,t,a,l,o){var u=yo();return u=u===null?null:{parent:We._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&gl(t,null),So(),eh(t),e!==null&&Qn(e,t,l,!0),t.childLanes=o,null}function Ol(e,t){return t=Dl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fh(e,t,a){return vn(t,e.child,null,a),e=Ol(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function Ep(e,t,a){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(l.mode==="hidden")return e=Ol(t,l),t.lanes=536870912,os(null,e);if(Eo(t),(e=Be)?(e=dm(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:aa,overflow:na}:null,retryLane:536870912,hydrationErrors:null},a=zd(e),a.return=t,t.child=a,ut=t,Be=null)):e=null,e===null)throw La(t);return t.lanes=536870912,null}return Ol(t,l)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(Eo(t),o)if(t.flags&256)t.flags&=-257,t=Fh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(tt||Qn(e,t,a,!1),o=(a&e.childLanes)!==0,tt||o){if(l=ze,l!==null&&(m=Gc(l,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,dn(e,m),jt(l,e,m),Jo;Gl(),t=Fh(e,t,a)}else e=u.treeContext,Be=Xt(m.nextSibling),ut=t,we=!0,Ma=null,Yt=!1,e!==null&&Bd(t,e),t=Ol(t,l),t.flags|=4096;return t}return e=da(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xo(e,t,a,l,o){return gn(t),a=To(e,t,a,l,void 0,o),l=Ao(),e!==null&&!tt?(ko(e,t,o),ya(e,t,o)):(we&&l&&io(t),t.flags|=1,dt(e,t,a,o),t.child)}function Wh(e,t,a,l,o,u){return gn(t),t.updateQueue=null,a=ah(t,l,a,o),th(e),l=Ao(),e!==null&&!tt?(ko(e,t,u),ya(e,t,u)):(we&&l&&io(t),t.flags|=1,dt(e,t,a,u),t.child)}function ef(e,t,a,l,o){if(gn(t),t.stateNode===null){var u=Vn,m=a.contextType;typeof m=="object"&&m!==null&&(u=ct(m)),u=new a(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},vo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?ct(m):Vn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Ko(t,a,m,l),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Vo.enqueueReplaceState(u,u.state,null),ns(t,l,u,o),as(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var b=t.memoizedProps,j=wn(a,b);u.props=j;var M=u.context,Y=a.contextType;m=Vn,typeof Y=="object"&&Y!==null&&(m=ct(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof u.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,Y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(b||M!==m)&&Hh(t,u,l,m),qa=!1;var H=t.memoizedState;u.state=H,ns(t,l,u,o),as(),M=t.memoizedState,b||H!==M||qa?(typeof X=="function"&&(Ko(t,a,X,l),M=t.memoizedState),(j=qa||qh(t,a,j,l,H,M,m))?(Y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),u.props=l,u.state=M,u.context=m,l=j):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,xo(e,t),m=t.memoizedProps,Y=wn(a,m),u.props=Y,X=t.pendingProps,H=u.context,M=a.contextType,j=Vn,typeof M=="object"&&M!==null&&(j=ct(M)),b=a.getDerivedStateFromProps,(M=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==X||H!==j)&&Hh(t,u,l,j),qa=!1,H=t.memoizedState,u.state=H,ns(t,l,u,o),as();var G=t.memoizedState;m!==X||H!==G||qa||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof b=="function"&&(Ko(t,a,b,l),G=t.memoizedState),(Y=qa||qh(t,a,Y,l,H,G,j)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(M||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,G,j),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,G,j)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=G),u.props=l,u.state=G,u.context=j,l=Y):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Rl(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=vn(t,e.child,null,o),t.child=vn(t,null,a,o)):dt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=ya(e,t,o),e}function tf(e,t,a,l){return fn(),t.flags|=256,dt(e,t,a,l),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:Vd()}}function Io(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function af(e,t,a){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(o?Ga(t):Ka(),(e=Be)?(e=dm(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:aa,overflow:na}:null,retryLane:536870912,hydrationErrors:null},a=zd(e),a.return=t,t.child=a,ut=t,Be=null)):e=null,e===null)throw La(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,o?(Ka(),o=t.mode,b=Dl({mode:"hidden",children:b},o),l=hn(l,o,a,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Po(a),l.childLanes=Io(e,m,a),t.memoizedState=Qo,os(null,l)):(Ga(t),Zo(t,b))}var j=e.memoizedState;if(j!==null&&(b=j.dehydrated,b!==null)){if(u)t.flags&256?(Ga(t),t.flags&=-257,t=Fo(e,t,a)):t.memoizedState!==null?(Ka(),t.child=e.child,t.flags|=128,t=null):(Ka(),b=l.fallback,o=t.mode,l=Dl({mode:"visible",children:l.children},o),b=hn(b,o,a,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,vn(t,e.child,null,a),l=t.child,l.memoizedState=Po(a),l.childLanes=Io(e,m,a),t.memoizedState=Qo,t=os(null,l));else if(Ga(t),Ru(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var M=m.dgst;m=M,l=Error(i(419)),l.stack="",l.digest=m,Ir({value:l,source:null,stack:null}),t=Fo(e,t,a)}else if(tt||Qn(e,t,a,!1),m=(a&e.childLanes)!==0,tt||m){if(m=ze,m!==null&&(l=Gc(m,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,dn(e,l),jt(m,e,l),Jo;Ou(b)||Gl(),t=Fo(e,t,a)}else Ou(b)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Be=Xt(b.nextSibling),ut=t,we=!0,Ma=null,Yt=!1,e!==null&&Bd(t,e),t=Zo(t,l.children),t.flags|=4096);return t}return o?(Ka(),b=l.fallback,o=t.mode,j=e.child,M=j.sibling,l=da(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,M!==null?b=da(M,b):(b=hn(b,o,a,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,os(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Po(a):(o=b.cachePool,o!==null?(j=We._currentValue,o=o.parent!==j?{parent:j,pool:j}:o):o=Vd(),b={baseLanes:b.baseLanes|a,cachePool:o}),l.memoizedState=b,l.childLanes=Io(e,m,a),t.memoizedState=Qo,os(e.child,l)):(Ga(t),a=e.child,e=a.sibling,a=da(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Zo(e,t){return t=Dl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Dl(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function Fo(e,t,a){return vn(t,e.child,null,a),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),fo(e.return,t,a)}function Wo(e,t,a,l,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function rf(e,t,a){var l=t.pendingProps,o=l.revealOrder,u=l.tail;l=l.children;var m=Ze.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,w(Ze,m),dt(e,t,l,a),l=we?Pr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,a,t);else if(e.tag===19)nf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&wl(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Wo(t,!1,o,a,u,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&wl(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Wo(t,!0,a,null,u,l);break;case"together":Wo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ya(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ja|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=da(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=da(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function eu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function Np(e,t,a){switch(t.tag){case 3:Pe(t,t.stateNode.containerInfo),Ba(t,We,e.memoizedState.cache),fn();break;case 27:case 5:Ie(t);break;case 4:Pe(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Eo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ga(t),t.flags|=128,null):(a&t.child.childLanes)!==0?af(e,t,a):(Ga(t),e=ya(e,t,a),e!==null?e.sibling:null);Ga(t);break;case 19:var o=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Qn(e,t,a,!1),l=(a&t.childLanes)!==0),o){if(l)return rf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),w(Ze,Ze.current),l)break;return null;case 22:return t.lanes=0,Ih(e,t,a,t.pendingProps);case 24:Ba(t,We,e.memoizedState.cache)}return ya(e,t,a)}function sf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!eu(e,a)&&(t.flags&128)===0)return tt=!1,Np(e,t,a);tt=(e.flags&131072)!==0}else tt=!1,we&&(t.flags&1048576)!==0&&Ld(t,Pr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=yn(t.elementType),t.type=e,typeof e=="function")ro(e)?(l=wn(e,l),t.tag=1,t=ef(null,t,e,l,a)):(t.tag=0,t=Xo(null,t,e,l,a));else{if(e!=null){var o=e.$$typeof;if(o===V){t.tag=11,t=Xh(null,t,e,l,a);break e}else if(o===Z){t.tag=14,t=Qh(null,t,e,l,a);break e}}throw t=Ee(e)||e,Error(i(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,o=wn(l,t.pendingProps),ef(e,t,l,o,a);case 3:e:{if(Pe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,xo(e,t),ns(t,l,null,a);var m=t.memoizedState;if(l=m.cache,Ba(t,We,l),l!==u.cache&&mo(t,[We],a,!0),as(),l=m.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=tf(e,t,l,a);break e}else if(l!==o){o=Gt(Error(i(424)),t),Ir(o),t=tf(e,t,l,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Be=Xt(e.firstChild),ut=t,we=!0,Ma=null,Yt=!0,a=Id(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fn(),l===o){t=ya(e,t,a);break e}dt(e,t,l,a)}t=t.child}return t;case 26:return Rl(e,t),e===null?(a=ym(t.type,null,t.pendingProps,null))?t.memoizedState=a:we||(a=t.type,e=t.pendingProps,l=Pl(le.current).createElement(a),l[ot]=t,l[bt]=e,ht(l,a,e),lt(l),t.stateNode=l):t.memoizedState=ym(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ie(t),e===null&&we&&(l=t.stateNode=mm(t.type,t.pendingProps,le.current),ut=t,Yt=!0,o=Be,Za(t.type)?(Du=o,Be=Xt(l.firstChild)):Be=o),dt(e,t,t.pendingProps.children,a),Rl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((o=l=Be)&&(l=ay(l,t.type,t.pendingProps,Yt),l!==null?(t.stateNode=l,ut=t,Be=Xt(l.firstChild),Yt=!1,o=!0):o=!1),o||La(t)),Ie(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,l=u.children,Au(o,u)?l=null:m!==null&&Au(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=To(e,t,yp,null,null,a),Ss._currentValue=o),Rl(e,t),dt(e,t,l,a),t.child;case 6:return e===null&&we&&((e=a=Be)&&(a=ny(a,t.pendingProps,Yt),a!==null?(t.stateNode=a,ut=t,Be=null,e=!0):e=!1),e||La(t)),null;case 13:return af(e,t,a);case 4:return Pe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=vn(t,null,l,a):dt(e,t,l,a),t.child;case 11:return Xh(e,t,t.type,t.pendingProps,a);case 7:return dt(e,t,t.pendingProps,a),t.child;case 8:return dt(e,t,t.pendingProps.children,a),t.child;case 12:return dt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ba(t,t.type,l.value),dt(e,t,l.children,a),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,gn(t),o=ct(o),l=l(o),t.flags|=1,dt(e,t,l,a),t.child;case 14:return Qh(e,t,t.type,t.pendingProps,a);case 15:return Ph(e,t,t.type,t.pendingProps,a);case 19:return rf(e,t,a);case 31:return Ep(e,t,a);case 22:return Ih(e,t,a,t.pendingProps);case 24:return gn(t),l=ct(We),e===null?(o=yo(),o===null&&(o=ze,u=go(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:l,cache:o},vo(t),Ba(t,We,o)):((e.lanes&a)!==0&&(xo(e,t),ns(t,null,null,a),as()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ba(t,We,l)):(l=u.cache,Ba(t,We,l),l!==o.cache&&mo(t,[We],a,!0))),dt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ba(e){e.flags|=4}function tu(e,t,a,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw bn=yl,bo}else e.flags&=-16777217}function lf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t))if(Df())e.flags|=8192;else throw bn=yl,bo}function Ul(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qc():536870912,e.lanes|=t,lr|=t)}function us(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Tp(e,t,a){var l=t.pendingProps;switch(oo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ma(We),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xn(t)?ba(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,co())),qe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ba(t),u!==null?(qe(t),lf(t,u)):(qe(t),tu(t,o,null,l,a))):u?u!==e.memoizedState?(ba(t),qe(t),lf(t,u)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ba(t),qe(t),tu(t,o,e,l,a)),null;case 27:if(Oa(t),a=le.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return qe(t),null}e=P.current,Xn(t)?qd(t):(e=mm(o,l,a),t.stateNode=e,ba(t))}return qe(t),null;case 5:if(Oa(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return qe(t),null}if(u=P.current,Xn(t))qd(t);else{var m=Pl(le.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?m.createElement(o,{is:l.is}):m.createElement(o)}}u[ot]=t,u[bt]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(ht(u,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ba(t)}}return qe(t),tu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ba(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=le.current,Xn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,o=ut,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nm(e.nodeValue,a)),e||La(t,!0)}else e=Pl(e).createTextNode(l),e[ot]=t,t.stateNode=e}return qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Xn(t),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ot]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else a=co(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(i(558))}return qe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[ot]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else o=co(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ul(t,t.updateQueue),qe(t),null);case 4:return ke(),e===null&&Su(t.stateNode.containerInfo),qe(t),null;case 10:return ma(t.type),qe(t),null;case 19:if(K(Ze),l=t.memoizedState,l===null)return qe(t),null;if(o=(t.flags&128)!==0,u=l.rendering,u===null)if(o)us(l,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=wl(e),u!==null){for(t.flags|=128,us(l,!1),e=u.updateQueue,t.updateQueue=e,Ul(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ud(a,e),a=a.sibling;return w(Ze,Ze.current&1|2),we&&ha(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Et()>ql&&(t.flags|=128,o=!0,us(l,!1),t.lanes=4194304)}else{if(!o)if(e=wl(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ul(t,e),us(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!we)return qe(t),null}else 2*Et()-l.renderingStartTime>ql&&a!==536870912&&(t.flags|=128,o=!0,us(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Et(),e.sibling=null,a=Ze.current,w(Ze,o?a&1|2:a&1),we&&ha(t,l.treeForkCount),e):(qe(t),null);case 22:case 23:return Ot(t),jo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),a=t.updateQueue,a!==null&&Ul(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&K(pn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ma(We),qe(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Ap(e,t){switch(oo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(We),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oa(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(i(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Ze),null;case 4:return ke(),null;case 10:return ma(t.type),null;case 22:case 23:return Ot(t),jo(),e!==null&&K(pn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ma(We),null;case 25:return null;default:return null}}function of(e,t){switch(oo(t),t.tag){case 3:ma(We),ke();break;case 26:case 27:case 5:Oa(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:K(Ze);break;case 10:ma(t.type);break;case 22:case 23:Ot(t),jo(),e!==null&&K(pn);break;case 24:ma(We)}}function cs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){l=void 0;var u=a.create,m=a.inst;l=u(),m.destroy=l}a=a.next}while(a!==o)}}catch(b){Oe(t,t.return,b)}}function Va(e,t,a){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var m=l.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var j=a,M=b;try{M()}catch(Y){Oe(o,j,Y)}}}l=l.next}while(l!==u)}}catch(Y){Oe(t,t.return,Y)}}function uf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Fd(t,a)}catch(l){Oe(e,e.return,l)}}}function cf(e,t,a){a.props=wn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Oe(e,t,l)}}function ds(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(o){Oe(e,t,o)}}function ra(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(o){Oe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Oe(e,t,o)}else a.current=null}function df(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(o){Oe(e,e.return,o)}}function au(e,t,a){try{var l=e.stateNode;Ip(l,e.type,a,t),l[bt]=t}catch(o){Oe(e,e.return,o)}}function hf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ua));else if(l!==4&&(l===27&&Za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ru(e,t,a),e=e.sibling;e!==null;)ru(e,t,a),e=e.sibling}function zl(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zl(e,t,a),e=e.sibling;e!==null;)zl(e,t,a),e=e.sibling}function ff(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ht(t,l,a),t[ot]=e,t[bt]=a}catch(u){Oe(e,e.return,u)}}var va=!1,at=!1,su=!1,mf=typeof WeakSet=="function"?WeakSet:Set,it=null;function kp(e,t){if(e=e.containerInfo,Nu=ai,e=Ed(e),Zi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,b=-1,j=-1,M=0,Y=0,X=e,H=null;t:for(;;){for(var G;X!==a||o!==0&&X.nodeType!==3||(b=m+o),X!==u||l!==0&&X.nodeType!==3||(j=m+l),X.nodeType===3&&(m+=X.nodeValue.length),(G=X.firstChild)!==null;)H=X,X=G;for(;;){if(X===e)break t;if(H===a&&++M===o&&(b=m),H===u&&++Y===l&&(j=m),(G=X.nextSibling)!==null)break;X=H,H=X.parentNode}X=G}a=b===-1||j===-1?null:{start:b,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tu={focusedElem:e,selectionRange:a},ai=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,l=a.stateNode;try{var te=wn(a.type,o);e=l.getSnapshotBeforeUpdate(te,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Oe(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Cu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function gf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wa(e,a),l&4&&cs(5,a);break;case 1:if(wa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Oe(a,a.return,m)}else{var o=wn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Oe(a,a.return,m)}}l&64&&uf(a),l&512&&ds(a,a.return);break;case 3:if(wa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Fd(e,t)}catch(m){Oe(a,a.return,m)}}break;case 27:t===null&&l&4&&ff(a);case 26:case 5:wa(e,a),t===null&&l&4&&df(a),l&512&&ds(a,a.return);break;case 12:wa(e,a);break;case 31:wa(e,a),l&4&&bf(e,a);break;case 13:wa(e,a),l&4&&vf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Bp.bind(null,a),ry(e,a))));break;case 22:if(l=a.memoizedState!==null||va,!l){t=t!==null&&t.memoizedState!==null||at,o=va;var u=at;va=l,(at=t)&&!u?_a(e,a,(a.subtreeFlags&8772)!==0):wa(e,a),va=o,at=u}break;case 30:break;default:wa(e,a)}}function pf(e){var t=e.alternate;t!==null&&(e.alternate=null,pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,xt=!1;function xa(e,t,a){for(a=a.child;a!==null;)yf(e,t,a),a=a.sibling}function yf(e,t,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(zr,a)}catch{}switch(a.tag){case 26:at||ra(a,t),xa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||ra(a,t);var l=He,o=xt;Za(a.type)&&(He=a.stateNode,xt=!1),xa(e,t,a),xs(a.stateNode),He=l,xt=o;break;case 5:at||ra(a,t);case 6:if(l=He,o=xt,He=null,xa(e,t,a),He=l,xt=o,He!==null)if(xt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(u){Oe(a,t,u)}else try{He.removeChild(a.stateNode)}catch(u){Oe(a,t,u)}break;case 18:He!==null&&(xt?(e=He,um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),mr(e)):um(He,a.stateNode));break;case 4:l=He,o=xt,He=a.stateNode.containerInfo,xt=!0,xa(e,t,a),He=l,xt=o;break;case 0:case 11:case 14:case 15:Va(2,a,t),at||Va(4,a,t),xa(e,t,a);break;case 1:at||(ra(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cf(a,t,l)),xa(e,t,a);break;case 21:xa(e,t,a);break;case 22:at=(l=at)||a.memoizedState!==null,xa(e,t,a),at=l;break;default:xa(e,t,a)}}function bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mr(e)}catch(a){Oe(t,t.return,a)}}}function vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(a){Oe(t,t.return,a)}}function Cp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mf),t;default:throw Error(i(435,e.tag))}}function Ml(e,t){var a=Cp(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var o=qp.bind(null,e,l);l.then(o,o)}})}function wt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var o=a[l],u=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(Za(b.type)){He=b.stateNode,xt=!1;break e}break;case 5:He=b.stateNode,xt=!1;break e;case 3:case 4:He=b.stateNode.containerInfo,xt=!0;break e}b=b.return}if(He===null)throw Error(i(160));yf(u,m,o),He=null,xt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xf(t,e),t=t.sibling}var Zt=null;function xf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),_t(e),l&4&&(Va(3,e,e.return),cs(3,e),Va(5,e,e.return));break;case 1:wt(t,e),_t(e),l&512&&(at||a===null||ra(a,a.return)),l&64&&va&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var o=Zt;if(wt(t,e),_t(e),l&512&&(at||a===null||ra(a,a.return)),l&4){var u=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Br]||u[ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),ht(u,l,a),u[ot]=e,lt(u),l=u;break e;case"link":var m=xm("link","href",o).get(l+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(u=m[b],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}u=o.createElement(l),ht(u,l,a),o.head.appendChild(u);break;case"meta":if(m=xm("meta","content",o).get(l+(a.content||""))){for(b=0;b<m.length;b++)if(u=m[b],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}u=o.createElement(l),ht(u,l,a),o.head.appendChild(u);break;default:throw Error(i(468,l))}u[ot]=e,lt(u),l=u}e.stateNode=l}else wm(o,e.type,e.stateNode);else e.stateNode=vm(o,l,e.memoizedProps);else u!==l?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,l===null?wm(o,e.type,e.stateNode):vm(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&au(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(t,e),_t(e),l&512&&(at||a===null||ra(a,a.return)),a!==null&&l&4&&au(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(t,e),_t(e),l&512&&(at||a===null||ra(a,a.return)),e.flags&32){o=e.stateNode;try{Ln(o,"")}catch(te){Oe(e,e.return,te)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,au(e,o,a!==null?a.memoizedProps:o)),l&1024&&(su=!0);break;case 6:if(wt(t,e),_t(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(te){Oe(e,e.return,te)}}break;case 3:if(Fl=null,o=Zt,Zt=Il(t.containerInfo),wt(t,e),Zt=o,_t(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(te){Oe(e,e.return,te)}su&&(su=!1,wf(e));break;case 4:l=Zt,Zt=Il(e.stateNode.containerInfo),wt(t,e),_t(e),Zt=l;break;case 12:wt(t,e),_t(e);break;case 31:wt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ml(e,l)));break;case 13:wt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bl=Et()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ml(e,l)));break;case 22:o=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,M=va,Y=at;if(va=M||o,at=Y||j,wt(t,e),at=Y,va=M,_t(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||j||va||at||_n(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(u=j.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=j.stateNode;var X=j.memoizedProps.style,H=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(te){Oe(j,j.return,te)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=o?"":j.memoizedProps}catch(te){Oe(j,j.return,te)}}}else if(t.tag===18){if(a===null){j=t;try{var G=j.stateNode;o?cm(G,!0):cm(j.stateNode,!1)}catch(te){Oe(j,j.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ml(e,a))));break;case 19:wt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ml(e,l)));break;case 30:break;case 21:break;default:wt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(hf(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,u=nu(e);zl(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(Ln(m,""),a.flags&=-33);var b=nu(e);zl(e,b,m);break;case 3:case 4:var j=a.stateNode.containerInfo,M=nu(e);ru(e,M,j);break;default:throw Error(i(161))}}catch(Y){Oe(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gf(e,t.alternate,t),t=t.sibling}function _n(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),_n(t);break;case 1:ra(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&cf(t,t.return,a),_n(t);break;case 27:xs(t.stateNode);case 26:case 5:ra(t,t.return),_n(t);break;case 22:t.memoizedState===null&&_n(t);break;case 30:_n(t);break;default:_n(t)}e=e.sibling}}function _a(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:_a(o,u,a),cs(4,u);break;case 1:if(_a(o,u,a),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(M){Oe(l,l.return,M)}if(l=u,o=l.updateQueue,o!==null){var b=l.stateNode;try{var j=o.shared.hiddenCallbacks;if(j!==null)for(o.shared.hiddenCallbacks=null,o=0;o<j.length;o++)Zd(j[o],b)}catch(M){Oe(l,l.return,M)}}a&&m&64&&uf(u),ds(u,u.return);break;case 27:ff(u);case 26:case 5:_a(o,u,a),a&&l===null&&m&4&&df(u),ds(u,u.return);break;case 12:_a(o,u,a);break;case 31:_a(o,u,a),a&&m&4&&bf(o,u);break;case 13:_a(o,u,a),a&&m&4&&vf(o,u);break;case 22:u.memoizedState===null&&_a(o,u,a),ds(u,u.return);break;case 30:break;default:_a(o,u,a)}t=t.sibling}}function lu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zr(a))}function iu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zr(e))}function Ft(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_f(e,t,a,l),t=t.sibling}function _f(e,t,a,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,a,l),o&2048&&cs(9,t);break;case 1:Ft(e,t,a,l);break;case 3:Ft(e,t,a,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zr(e)));break;case 12:if(o&2048){Ft(e,t,a,l),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,b=u.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Oe(t,t.return,j)}}else Ft(e,t,a,l);break;case 31:Ft(e,t,a,l);break;case 13:Ft(e,t,a,l);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Ft(e,t,a,l):hs(e,t):u._visibility&2?Ft(e,t,a,l):(u._visibility|=2,nr(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&lu(m,t);break;case 24:Ft(e,t,a,l),o&2048&&iu(t.alternate,t);break;default:Ft(e,t,a,l)}}function nr(e,t,a,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,b=a,j=l,M=m.flags;switch(m.tag){case 0:case 11:case 15:nr(u,m,b,j,o),cs(8,m);break;case 23:break;case 22:var Y=m.stateNode;m.memoizedState!==null?Y._visibility&2?nr(u,m,b,j,o):hs(u,m):(Y._visibility|=2,nr(u,m,b,j,o)),o&&M&2048&&lu(m.alternate,m);break;case 24:nr(u,m,b,j,o),o&&M&2048&&iu(m.alternate,m);break;default:nr(u,m,b,j,o)}t=t.sibling}}function hs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,o=l.flags;switch(l.tag){case 22:hs(a,l),o&2048&&lu(l.alternate,l);break;case 24:hs(a,l),o&2048&&iu(l.alternate,l);break;default:hs(a,l)}t=t.sibling}}var fs=8192;function rr(e,t,a){if(e.subtreeFlags&fs)for(e=e.child;e!==null;)Sf(e,t,a),e=e.sibling}function Sf(e,t,a){switch(e.tag){case 26:rr(e,t,a),e.flags&fs&&e.memoizedState!==null&&py(a,Zt,e.memoizedState,e.memoizedProps);break;case 5:rr(e,t,a);break;case 3:case 4:var l=Zt;Zt=Il(e.stateNode.containerInfo),rr(e,t,a),Zt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fs,fs=16777216,rr(e,t,a),fs=l):rr(e,t,a));break;default:rr(e,t,a)}}function jf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ms(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];it=l,Nf(l,e)}jf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ef(e),e=e.sibling}function Ef(e){switch(e.tag){case 0:case 11:case 15:ms(e),e.flags&2048&&Va(9,e,e.return);break;case 3:ms(e);break;case 12:ms(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ll(e)):ms(e);break;default:ms(e)}}function Ll(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];it=l,Nf(l,e)}jf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),Ll(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ll(t));break;default:Ll(t)}e=e.sibling}}function Nf(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:Va(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,it=l;else e:for(a=e;it!==null;){l=it;var o=l.sibling,u=l.return;if(pf(l),l===a){it=null;break e}if(o!==null){o.return=u,it=o;break e}it=u}}}var Op={getCacheForType:function(e){var t=ct(We),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ct(We).controller.signal}},Rp=typeof WeakMap=="function"?WeakMap:Map,Ne=0,ze=null,ge=null,ye=0,Ce=0,Rt=null,Ya=!1,sr=!1,ou=!1,Sa=0,Je=0,Ja=0,Sn=0,uu=0,Dt=0,lr=0,gs=null,St=null,cu=!1,Bl=0,Tf=0,ql=1/0,Hl=null,Xa=null,rt=0,Qa=null,ir=null,ja=0,du=0,hu=null,Af=null,ps=0,fu=null;function Ut(){return(Ne&2)!==0&&ye!==0?ye&-ye:N.T!==null?vu():Kc()}function kf(){if(Dt===0)if((ye&536870912)===0||we){var e=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),Dt=e}else Dt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Dt}function jt(e,t,a){(e===ze&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(or(e,0),Pa(e,ye,Dt,!1)),Lr(e,a),((Ne&2)===0||e!==ze)&&(e===ze&&((Ne&2)===0&&(Sn|=a),Je===4&&Pa(e,ye,Dt,!1)),sa(e))}function Cf(e,t,a){if((Ne&6)!==0)throw Error(i(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Mr(e,t),o=l?zp(e,t):gu(e,t,!0),u=l;do{if(o===0){sr&&!l&&Pa(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Dp(a)){o=gu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=gs;var j=b.current.memoizedState.isDehydrated;if(j&&(or(b,m).flags|=256),m=gu(b,m,!1),m!==2){if(ou&&!j){b.errorRecoveryDisabledLanes|=u,Sn|=u,o=4;break e}u=St,St=o,u!==null&&(St===null?St=u:St.push.apply(St,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){or(e,0),Pa(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Pa(l,t,Dt,!Ya);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Bl+300-Et(),10<o)){if(Pa(l,t,Dt,!Ya),Is(l,0,!0)!==0)break e;ja=t,l.timeoutHandle=im(Of.bind(null,l,a,St,Hl,cu,t,Dt,Sn,lr,Ya,u,"Throttled",-0,0),o);break e}Of(l,a,St,Hl,cu,t,Dt,Sn,lr,Ya,u,null,-0,0)}}break}while(!0);sa(e)}function Of(e,t,a,l,o,u,m,b,j,M,Y,X,H,G){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},Sf(t,u,X);var te=(u&62914560)===u?Bl-Et():(u&4194048)===u?Tf-Et():0;if(te=yy(X,te),te!==null){ja=u,e.cancelPendingCommit=te(qf.bind(null,e,t,u,a,l,o,m,b,j,Y,X,null,H,G)),Pa(e,u,m,!M);return}}qf(e,t,u,a,l,o,m,b,j)}function Dp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var o=a[l],u=o.getSnapshot;o=o.value;try{if(!At(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(e,t,a,l){t&=~uu,t&=~Sn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-Tt(o),m=1<<u;l[u]=-1,o&=~m}a!==0&&Hc(e,a,t)}function $l(){return(Ne&6)===0?(ys(0),!1):!0}function mu(){if(ge!==null){if(Ce===0)var e=ge.return;else e=ge,fa=mn=null,Co(e),Fn=null,Wr=0,e=ge;for(;e!==null;)of(e.alternate,e),e=e.return;ge=null}}function or(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ja=0,mu(),ze=e,ge=a=da(e.current,null),ye=t,Ce=0,Rt=null,Ya=!1,sr=Mr(e,t),ou=!1,lr=Dt=uu=Sn=Ja=Je=0,St=gs=null,cu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Tt(l),u=1<<o;t|=e[o],l&=~u}return Sa=t,ol(),a}function Rf(e,t){he=null,N.H=is,t===Zn||t===pl?(t=Xd(),Ce=3):t===bo?(t=Xd(),Ce=4):Ce=t===Jo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,ge===null&&(Je=1,Cl(e,Gt(t,e.current)))}function Df(){var e=Ct.current;return e===null?!0:(ye&4194048)===ye?Jt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Jt:!1}function Uf(){var e=N.H;return N.H=is,e===null?is:e}function zf(){var e=N.A;return N.A=Op,e}function Gl(){Je=4,Ya||(ye&4194048)!==ye&&Ct.current!==null||(sr=!0),(Ja&134217727)===0&&(Sn&134217727)===0||ze===null||Pa(ze,ye,Dt,!1)}function gu(e,t,a){var l=Ne;Ne|=2;var o=Uf(),u=zf();(ze!==e||ye!==t)&&(Hl=null,or(e,t)),t=!1;var m=Je;e:do try{if(Ce!==0&&ge!==null){var b=ge,j=Rt;switch(Ce){case 8:mu(),m=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var M=Ce;if(Ce=0,Rt=null,ur(e,b,j,M),a&&sr){m=0;break e}break;default:M=Ce,Ce=0,Rt=null,ur(e,b,j,M)}}Up(),m=Je;break}catch(Y){Rf(e,Y)}while(!0);return t&&e.shellSuspendCounter++,fa=mn=null,Ne=l,N.H=o,N.A=u,ge===null&&(ze=null,ye=0,ol()),m}function Up(){for(;ge!==null;)Mf(ge)}function zp(e,t){var a=Ne;Ne|=2;var l=Uf(),o=zf();ze!==e||ye!==t?(Hl=null,ql=Et()+500,or(e,t)):sr=Mr(e,t);e:do try{if(Ce!==0&&ge!==null){t=ge;var u=Rt;t:switch(Ce){case 1:Ce=0,Rt=null,ur(e,t,u,1);break;case 2:case 9:if(Yd(u)){Ce=0,Rt=null,Lf(t);break}t=function(){Ce!==2&&Ce!==9||ze!==e||(Ce=7),sa(e)},u.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Yd(u)?(Ce=0,Rt=null,Lf(t)):(Ce=0,Rt=null,ur(e,t,u,7));break;case 5:var m=null;switch(ge.tag){case 26:m=ge.memoizedState;case 5:case 27:var b=ge;if(m?_m(m):b.stateNode.complete){Ce=0,Rt=null;var j=b.sibling;if(j!==null)ge=j;else{var M=b.return;M!==null?(ge=M,Kl(M)):ge=null}break t}}Ce=0,Rt=null,ur(e,t,u,5);break;case 6:Ce=0,Rt=null,ur(e,t,u,6);break;case 8:mu(),Je=6;break e;default:throw Error(i(462))}}Mp();break}catch(Y){Rf(e,Y)}while(!0);return fa=mn=null,N.H=l,N.A=o,Ne=a,ge!==null?0:(ze=null,ye=0,ol(),Je)}function Mp(){for(;ge!==null&&!s0();)Mf(ge)}function Mf(e){var t=sf(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?Kl(e):ge=t}function Lf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wh(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Wh(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Co(t);default:of(a,t),t=ge=Ud(t,Sa),t=sf(a,t,Sa)}e.memoizedProps=e.pendingProps,t===null?Kl(e):ge=t}function ur(e,t,a,l){fa=mn=null,Co(t),Fn=null,Wr=0;var o=t.return;try{if(jp(e,o,t,a,ye)){Je=1,Cl(e,Gt(a,e.current)),ge=null;return}}catch(u){if(o!==null)throw ge=o,u;Je=1,Cl(e,Gt(a,e.current)),ge=null;return}t.flags&32768?(we||l===1?e=!0:sr||(ye&536870912)!==0?e=!1:(Ya=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ct.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bf(t,e)):Kl(t)}function Kl(e){var t=e;do{if((t.flags&32768)!==0){Bf(t,Ya);return}e=t.return;var a=Tp(t.alternate,t,Sa);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Je===0&&(Je=5)}function Bf(e,t){do{var a=Ap(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);Je=6,ge=null}function qf(e,t,a,l,o,u,m,b,j){e.cancelPendingCommit=null;do Vl();while(rt!==0);if((Ne&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=ao,g0(e,a,u,m,b,j),e===ze&&(ge=ze=null,ye=0),ir=t,Qa=e,ja=a,du=u,hu=o,Af=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Hp(Js,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,o=Q.p,Q.p=2,m=Ne,Ne|=4;try{kp(e,t,a)}finally{Ne=m,Q.p=o,N.T=l}}rt=1,Hf(),$f(),Gf()}}function Hf(){if(rt===1){rt=0;var e=Qa,t=ir,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var l=Q.p;Q.p=2;var o=Ne;Ne|=4;try{xf(t,e);var u=Tu,m=Ed(e.containerInfo),b=u.focusedElem,j=u.selectionRange;if(m!==b&&b&&b.ownerDocument&&jd(b.ownerDocument.documentElement,b)){if(j!==null&&Zi(b)){var M=j.start,Y=j.end;if(Y===void 0&&(Y=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min(Y,b.value.length);else{var X=b.ownerDocument||document,H=X&&X.defaultView||window;if(H.getSelection){var G=H.getSelection(),te=b.textContent.length,ie=Math.min(j.start,te),Ue=j.end===void 0?ie:Math.min(j.end,te);!G.extend&&ie>Ue&&(m=Ue,Ue=ie,ie=m);var O=Sd(b,ie),A=Sd(b,Ue);if(O&&A&&(G.rangeCount!==1||G.anchorNode!==O.node||G.anchorOffset!==O.offset||G.focusNode!==A.node||G.focusOffset!==A.offset)){var U=X.createRange();U.setStart(O.node,O.offset),G.removeAllRanges(),ie>Ue?(G.addRange(U),G.extend(A.node,A.offset)):(U.setEnd(A.node,A.offset),G.addRange(U))}}}}for(X=[],G=b;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var J=X[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ai=!!Nu,Tu=Nu=null}finally{Ne=o,Q.p=l,N.T=a}}e.current=t,rt=2}}function $f(){if(rt===2){rt=0;var e=Qa,t=ir,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var l=Q.p;Q.p=2;var o=Ne;Ne|=4;try{gf(e,t.alternate,t)}finally{Ne=o,Q.p=l,N.T=a}}rt=3}}function Gf(){if(rt===4||rt===3){rt=0,l0();var e=Qa,t=ir,a=ja,l=Af;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,ir=Qa=null,Kf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Xa=null),Ri(a),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(zr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=N.T,o=Q.p,Q.p=2,N.T=null;try{for(var u=e.onRecoverableError,m=0;m<l.length;m++){var b=l[m];u(b.value,{componentStack:b.stack})}}finally{N.T=t,Q.p=o}}(ja&3)!==0&&Vl(),sa(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===fu?ps++:(ps=0,fu=e):ps=0,ys(0)}}function Kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zr(t)))}function Vl(){return Hf(),$f(),Gf(),Vf()}function Vf(){if(rt!==5)return!1;var e=Qa,t=du;du=0;var a=Ri(ja),l=N.T,o=Q.p;try{Q.p=32>a?32:a,N.T=null,a=hu,hu=null;var u=Qa,m=ja;if(rt=0,ir=Qa=null,ja=0,(Ne&6)!==0)throw Error(i(331));var b=Ne;if(Ne|=4,Ef(u.current),_f(u,u.current,m,a),Ne=b,ys(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(zr,u)}catch{}return!0}finally{Q.p=o,N.T=l,Kf(e,t)}}function Yf(e,t,a){t=Gt(a,t),t=Yo(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(Lr(e,2),sa(e))}function Oe(e,t,a){if(e.tag===3)Yf(e,e,a);else for(;t!==null;){if(t.tag===3){Yf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xa===null||!Xa.has(l))){e=Gt(a,e),a=Yh(2),l=$a(t,a,2),l!==null&&(Jh(a,l,t,e),Lr(l,2),sa(l));break}}t=t.return}}function pu(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Rp;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(a)||(ou=!0,o.add(a),e=Lp.bind(null,e,t,a),t.then(e,e))}function Lp(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(ye&a)===a&&(Je===4||Je===3&&(ye&62914560)===ye&&300>Et()-Bl?(Ne&2)===0&&or(e,0):uu|=a,lr===ye&&(lr=0)),sa(e)}function Jf(e,t){t===0&&(t=qc()),e=dn(e,t),e!==null&&(Lr(e,t),sa(e))}function Bp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Jf(e,a)}function qp(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Jf(e,a)}function Hp(e,t){return Ai(e,t)}var Yl=null,cr=null,yu=!1,Jl=!1,bu=!1,Ia=0;function sa(e){e!==cr&&e.next===null&&(cr===null?Yl=cr=e:cr=cr.next=e),Jl=!0,yu||(yu=!0,Gp())}function ys(e,t){if(!bu&&Jl){bu=!0;do for(var a=!1,l=Yl;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var m=l.suspendedLanes,b=l.pingedLanes;u=(1<<31-Tt(42|e)+1)-1,u&=o&~(m&~b),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,If(l,u))}else u=ye,u=Is(l,l===ze?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Mr(l,u)||(a=!0,If(l,u));l=l.next}while(a);bu=!1}}function $p(){Xf()}function Xf(){Jl=yu=!1;var e=0;Ia!==0&&Fp()&&(e=Ia);for(var t=Et(),a=null,l=Yl;l!==null;){var o=l.next,u=Qf(l,t);u===0?(l.next=null,a===null?Yl=o:a.next=o,o===null&&(cr=a)):(a=l,(e!==0||(u&3)!==0)&&(Jl=!0)),l=o}rt!==0&&rt!==5||ys(e),Ia!==0&&(Ia=0)}function Qf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-Tt(u),b=1<<m,j=o[m];j===-1?((b&a)===0||(b&l)!==0)&&(o[m]=m0(b,t)):j<=t&&(e.expiredLanes|=b),u&=~b}if(t=ze,a=ye,a=Is(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Mr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ki(l),Ri(a)){case 2:case 8:a=Lc;break;case 32:a=Js;break;case 268435456:a=Bc;break;default:a=Js}return l=Pf.bind(null,e),a=Ai(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ki(l),e.callbackPriority=2,e.callbackNode=null,2}function Pf(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vl()&&e.callbackNode!==a)return null;var l=ye;return l=Is(e,e===ze?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cf(e,l,t),Qf(e,Et()),e.callbackNode!=null&&e.callbackNode===a?Pf.bind(null,e):null)}function If(e,t){if(Vl())return null;Cf(e,t,!0)}function Gp(){ey(function(){(Ne&6)!==0?Ai(Mc,$p):Xf()})}function vu(){if(Ia===0){var e=Pn;e===0&&(e=Xs,Xs<<=1,(Xs&261888)===0&&(Xs=256)),Ia=e}return Ia}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:el(""+e)}function Ff(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Kp(e,t,a,l,o){if(t==="submit"&&a&&a.stateNode===o){var u=Zf((o[bt]||null).action),m=l.submitter;m&&(t=(t=m[bt]||null)?Zf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var b=new rl("action","action",null,l,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ia!==0){var j=m?Ff(o,m):new FormData(o);qo(a,{pending:!0,data:j,method:o.method,action:u},null,j)}}else typeof u=="function"&&(b.preventDefault(),j=m?Ff(o,m):new FormData(o),qo(a,{pending:!0,data:j,method:o.method,action:u},u,j))},currentTarget:o}]})}}for(var xu=0;xu<to.length;xu++){var wu=to[xu],Vp=wu.toLowerCase(),Yp=wu[0].toUpperCase()+wu.slice(1);It(Vp,"on"+Yp)}It(Ad,"onAnimationEnd"),It(kd,"onAnimationIteration"),It(Cd,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(ip,"onTransitionRun"),It(op,"onTransitionStart"),It(up,"onTransitionCancel"),It(Od,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function Wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var m=l.length-1;0<=m;m--){var b=l[m],j=b.instance,M=b.currentTarget;if(b=b.listener,j!==u&&o.isPropagationStopped())break e;u=b,o.currentTarget=M;try{u(o)}catch(Y){il(Y)}o.currentTarget=null,u=j}else for(m=0;m<l.length;m++){if(b=l[m],j=b.instance,M=b.currentTarget,b=b.listener,j!==u&&o.isPropagationStopped())break e;u=b,o.currentTarget=M;try{u(o)}catch(Y){il(Y)}o.currentTarget=null,u=j}}}}function pe(e,t){var a=t[Di];a===void 0&&(a=t[Di]=new Set);var l=e+"__bubble";a.has(l)||(em(t,e,2,!1),a.add(l))}function _u(e,t,a){var l=0;t&&(l|=4),em(a,e,l,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Su(e){if(!e[Xl]){e[Xl]=!0,Jc.forEach(function(a){a!=="selectionchange"&&(Jp.has(a)||_u(a,!1,e),_u(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,_u("selectionchange",!1,t))}}function em(e,t,a,l){switch(km(t)){case 2:var o=xy;break;case 8:o=wy;break;default:o=Bu}a=o.bind(null,t,a,e),o=void 0,!Gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function ju(e,t,a,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var b=l.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=l.return;m!==null;){var j=m.tag;if((j===3||j===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=Rn(b),m===null)return;if(j=m.tag,j===5||j===6||j===26||j===27){l=u=m;continue e}b=b.parentNode}}l=l.return}rd(function(){var M=u,Y=Hi(a),X=[];e:{var H=Rd.get(e);if(H!==void 0){var G=rl,te=e;switch(e){case"keypress":if(al(a)===0)break e;case"keydown":case"keyup":G=q0;break;case"focusin":te="focus",G=Ji;break;case"focusout":te="blur",G=Ji;break;case"beforeblur":case"afterblur":G=Ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=G0;break;case Ad:case kd:case Cd:G=C0;break;case Od:G=V0;break;case"scroll":case"scrollend":G=E0;break;case"wheel":G=J0;break;case"copy":case"cut":case"paste":G=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ud;break;case"toggle":case"beforetoggle":G=Q0}var ie=(t&4)!==0,Ue=!ie&&(e==="scroll"||e==="scrollend"),O=ie?H!==null?H+"Capture":null:H;ie=[];for(var A=M,U;A!==null;){var J=A;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||O===null||(J=Hr(A,O),J!=null&&ie.push(vs(A,J,U))),Ue)break;A=A.return}0<ie.length&&(H=new G(H,te,null,a,Y),X.push({event:H,listeners:ie}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&a!==qi&&(te=a.relatedTarget||a.fromElement)&&(Rn(te)||te[On]))break e;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(te=a.relatedTarget||a.toElement,G=M,te=te?Rn(te):null,te!==null&&(Ue=h(te),ie=te.tag,te!==Ue||ie!==5&&ie!==27&&ie!==6)&&(te=null)):(G=null,te=M),G!==te)){if(ie=id,J="onMouseLeave",O="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ie=ud,J="onPointerLeave",O="onPointerEnter",A="pointer"),Ue=G==null?H:qr(G),U=te==null?H:qr(te),H=new ie(J,A+"leave",G,a,Y),H.target=Ue,H.relatedTarget=U,J=null,Rn(Y)===M&&(ie=new ie(O,A+"enter",te,a,Y),ie.target=U,ie.relatedTarget=Ue,J=ie),Ue=J,G&&te)t:{for(ie=Xp,O=G,A=te,U=0,J=O;J;J=ie(J))U++;J=0;for(var se=A;se;se=ie(se))J++;for(;0<U-J;)O=ie(O),U--;for(;0<J-U;)A=ie(A),J--;for(;U--;){if(O===A||A!==null&&O===A.alternate){ie=O;break t}O=ie(O),A=ie(A)}ie=null}else ie=null;G!==null&&tm(X,H,G,ie,!1),te!==null&&Ue!==null&&tm(X,Ue,te,ie,!0)}}e:{if(H=M?qr(M):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var _e=yd;else if(gd(H))if(bd)_e=rp;else{_e=ap;var ae=tp}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?M&&Bi(M.elementType)&&(_e=yd):_e=np;if(_e&&(_e=_e(e,M))){pd(X,_e,a,Y);break e}ae&&ae(e,H,M),e==="focusout"&&M&&H.type==="number"&&M.memoizedProps.value!=null&&Li(H,"number",H.value)}switch(ae=M?qr(M):window,e){case"focusin":(gd(ae)||ae.contentEditable==="true")&&($n=ae,Fi=M,Qr=null);break;case"focusout":Qr=Fi=$n=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,Nd(X,a,Y);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":Nd(X,a,Y)}var fe;if(Qi)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Hn?fd(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(cd&&a.locale!=="ko"&&(Hn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Hn&&(fe=sd()):(Ua=Y,Ki="value"in Ua?Ua.value:Ua.textContent,Hn=!0)),ae=Ql(M,be),0<ae.length&&(be=new od(be,e,null,a,Y),X.push({event:be,listeners:ae}),fe?be.data=fe:(fe=md(a),fe!==null&&(be.data=fe)))),(fe=I0?Z0(e,a):F0(e,a))&&(be=Ql(M,"onBeforeInput"),0<be.length&&(ae=new od("onBeforeInput","beforeinput",null,a,Y),X.push({event:ae,listeners:be}),ae.data=fe)),Kp(X,e,M,a,Y)}Wf(X,t)})}function vs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ql(e,t){for(var a=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Hr(e,a),o!=null&&l.unshift(vs(e,o,u)),o=Hr(e,t),o!=null&&l.push(vs(e,o,u))),e.tag===3)return l;e=e.return}return[]}function Xp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tm(e,t,a,l,o){for(var u=t._reactName,m=[];a!==null&&a!==l;){var b=a,j=b.alternate,M=b.stateNode;if(b=b.tag,j!==null&&j===l)break;b!==5&&b!==26&&b!==27||M===null||(j=M,o?(M=Hr(a,u),M!=null&&m.unshift(vs(a,M,j))):o||(M=Hr(a,u),M!=null&&m.push(vs(a,M,j)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Qp=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function am(e){return(typeof e=="string"?e:""+e).replace(Qp,`
`).replace(Pp,"")}function nm(e,t){return t=am(t),am(e)===t}function De(e,t,a,l,o,u){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ln(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ln(e,""+l);break;case"className":Fs(e,"class",l);break;case"tabIndex":Fs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Fs(e,a,l);break;case"style":ad(e,l,u);break;case"data":if(t!=="object"){Fs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=el(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=el(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ua);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=el(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Zs(e,"popover",l);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=S0.get(a)||a,Zs(e,a,l))}}function Eu(e,t,a,l,o,u){switch(a){case"style":ad(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Ln(e,l):(typeof l=="number"||typeof l=="bigint")&&Ln(e,""+l);break;case"onScroll":l!=null&&pe("scroll",e);break;case"onScrollEnd":l!=null&&pe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[bt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,o);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Zs(e,a,l)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var l=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,u,m,a,null)}}o&&De(e,t,"srcSet",a.srcSet,a,null),l&&De(e,t,"src",a.src,a,null);return;case"input":pe("invalid",e);var b=u=m=o=null,j=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":o=Y;break;case"type":m=Y;break;case"checked":j=Y;break;case"defaultChecked":M=Y;break;case"value":u=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,t));break;default:De(e,t,l,Y,a,null)}}Fc(e,u,b,j,M,m,o,!1);return;case"select":pe("invalid",e),l=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":u=b;break;case"defaultValue":m=b;break;case"multiple":l=b;default:De(e,t,o,b,a,null)}t=u,a=m,e.multiple=!!l,t!=null?Mn(e,!!l,t,!1):a!=null&&Mn(e,!!l,a,!0);return;case"textarea":pe("invalid",e),u=o=l=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":l=b;break;case"defaultValue":o=b;break;case"children":u=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:De(e,t,m,b,a,null)}ed(e,l,o,u);return;case"option":for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!=null)&&(j==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":De(e,t,j,l,a,null));return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(l=0;l<bs.length;l++)pe(bs[l],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,M,l,a,null)}return;default:if(Bi(t)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Eu(e,t,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&De(e,t,b,l,a,null))}function Ip(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,b=null,j=null,M=null,Y=null;for(G in a){var X=a[G];if(a.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":j=X;default:l.hasOwnProperty(G)||De(e,t,G,null,l,X)}}for(var H in l){var G=l[H];if(X=a[H],l.hasOwnProperty(H)&&(G!=null||X!=null))switch(H){case"type":u=G;break;case"name":o=G;break;case"checked":M=G;break;case"defaultChecked":Y=G;break;case"value":m=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,t));break;default:G!==X&&De(e,t,H,G,l,X)}}Mi(e,m,b,j,M,Y,u,o);return;case"select":G=m=b=H=null;for(u in a)if(j=a[u],a.hasOwnProperty(u)&&j!=null)switch(u){case"value":break;case"multiple":G=j;default:l.hasOwnProperty(u)||De(e,t,u,null,l,j)}for(o in l)if(u=l[o],j=a[o],l.hasOwnProperty(o)&&(u!=null||j!=null))switch(o){case"value":H=u;break;case"defaultValue":b=u;break;case"multiple":m=u;default:u!==j&&De(e,t,o,u,l,j)}t=b,a=m,l=G,H!=null?Mn(e,!!a,H,!1):!!l!=!!a&&(t!=null?Mn(e,!!a,t,!0):Mn(e,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:De(e,t,b,null,l,o)}for(m in l)if(o=l[m],u=a[m],l.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":H=o;break;case"defaultValue":G=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&De(e,t,m,o,l,u)}Wc(e,H,G);return;case"option":for(var te in a)H=a[te],a.hasOwnProperty(te)&&H!=null&&!l.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:De(e,t,te,null,l,H));for(j in l)H=l[j],G=a[j],l.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null)&&(j==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":De(e,t,j,H,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)H=a[ie],a.hasOwnProperty(ie)&&H!=null&&!l.hasOwnProperty(ie)&&De(e,t,ie,null,l,H);for(M in l)if(H=l[M],G=a[M],l.hasOwnProperty(M)&&H!==G&&(H!=null||G!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:De(e,t,M,H,l,G)}return;default:if(Bi(t)){for(var Ue in a)H=a[Ue],a.hasOwnProperty(Ue)&&H!==void 0&&!l.hasOwnProperty(Ue)&&Eu(e,t,Ue,void 0,l,H);for(Y in l)H=l[Y],G=a[Y],!l.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||Eu(e,t,Y,H,l,G);return}}for(var O in a)H=a[O],a.hasOwnProperty(O)&&H!=null&&!l.hasOwnProperty(O)&&De(e,t,O,null,l,H);for(X in l)H=l[X],G=a[X],!l.hasOwnProperty(X)||H===G||H==null&&G==null||De(e,t,X,H,l,G)}function rm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var o=a[l],u=o.transferSize,m=o.initiatorType,b=o.duration;if(u&&b&&rm(m)){for(m=0,b=o.responseEnd,l+=1;l<a.length;l++){var j=a[l],M=j.startTime;if(M>b)break;var Y=j.transferSize,X=j.initiatorType;Y&&rm(X)&&(j=j.responseEnd,m+=Y*(j<b?1:(b-M)/(j-M)))}if(--l,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nu=null,Tu=null;function Pl(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=null;function Fp(){var e=window.event;return e&&e.type==="popstate"?e===ku?!1:(ku=e,!0):(ku=null,!1)}var im=typeof setTimeout=="function"?setTimeout:void 0,Wp=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,ey=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(ty)}:im;function ty(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function um(e,t){var a=t,l=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(o),mr(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,xs(a);for(var u=a.firstChild;u;){var m=u.nextSibling,b=u.nodeName;u[Br]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&xs(e.ownerDocument.body);a=o}while(a);mr(t)}function cm(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cu(a),Ui(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ay(e,t,a,l){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Br])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function ny(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xt(e.nextSibling),e===null))return null;return e}function dm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function Ou(e){return e.data==="$?"||e.data==="$~"}function Ru(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ry(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Du=null;function hm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Xt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function mm(e,t,a){switch(t=Pl(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ui(e)}var Qt=new Map,gm=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=Q.d;Q.d={f:sy,r:ly,D:iy,C:oy,L:uy,m:cy,X:hy,S:dy,M:fy};function sy(){var e=Ea.f(),t=$l();return e||t}function ly(e){var t=Dn(e);t!==null&&t.tag===5&&t.type==="form"?Oh(t):Ea.r(e)}var dr=typeof document>"u"?null:document;function pm(e,t,a){var l=dr;if(l&&typeof t=="string"&&t){var o=Ht(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),gm.has(o)||(gm.add(o),e={rel:e,crossOrigin:a,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),ht(t,"link",e),lt(t),l.head.appendChild(t)))}}function iy(e){Ea.D(e),pm("dns-prefetch",e,null)}function oy(e,t){Ea.C(e,t),pm("preconnect",e,t)}function uy(e,t,a){Ea.L(e,t,a);var l=dr;if(l&&e&&t){var o='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ht(a.imageSizes)+'"]')):o+='[href="'+Ht(e)+'"]';var u=o;switch(t){case"style":u=hr(e);break;case"script":u=fr(e)}Qt.has(u)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Qt.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(ws(u))||t==="script"&&l.querySelector(_s(u))||(t=l.createElement("link"),ht(t,"link",e),lt(t),l.head.appendChild(t)))}}function cy(e,t){Ea.m(e,t);var a=dr;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ht(l)+'"][href="'+Ht(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=fr(e)}if(!Qt.has(u)&&(e=x({rel:"modulepreload",href:e},t),Qt.set(u,e),a.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_s(u)))return}l=a.createElement("link"),ht(l,"link",e),lt(l),a.head.appendChild(l)}}}function dy(e,t,a){Ea.S(e,t,a);var l=dr;if(l&&e){var o=Un(l).hoistableStyles,u=hr(e);t=t||"default";var m=o.get(u);if(!m){var b={loading:0,preload:null};if(m=l.querySelector(ws(u)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Qt.get(u))&&Uu(e,a);var j=m=l.createElement("link");lt(j),ht(j,"link",e),j._p=new Promise(function(M,Y){j.onload=M,j.onerror=Y}),j.addEventListener("load",function(){b.loading|=1}),j.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Zl(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(u,m)}}}function hy(e,t){Ea.X(e,t);var a=dr;if(a&&e){var l=Un(a).hoistableScripts,o=fr(e),u=l.get(o);u||(u=a.querySelector(_s(o)),u||(e=x({src:e,async:!0},t),(t=Qt.get(o))&&zu(e,t),u=a.createElement("script"),lt(u),ht(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function fy(e,t){Ea.M(e,t);var a=dr;if(a&&e){var l=Un(a).hoistableScripts,o=fr(e),u=l.get(o);u||(u=a.querySelector(_s(o)),u||(e=x({src:e,async:!0,type:"module"},t),(t=Qt.get(o))&&zu(e,t),u=a.createElement("script"),lt(u),ht(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function ym(e,t,a,l){var o=(o=le.current)?Il(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=hr(a.href),a=Un(o).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=hr(a.href);var u=Un(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(ws(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(e,a),u||my(o,e,a,m.state))),t&&l===null)throw Error(i(528,""));return m}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fr(a),a=Un(o).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function hr(e){return'href="'+Ht(e)+'"'}function ws(e){return'link[rel="stylesheet"]['+e+"]"}function bm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function my(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ht(t,"link",a),lt(t),e.head.appendChild(t))}function fr(e){return'[src="'+Ht(e)+'"]'}function _s(e){return"script[async]"+e}function vm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(l)return t.instance=l,lt(l),l;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),lt(l),ht(l,"style",o),Zl(l,a.precedence,e),t.instance=l;case"stylesheet":o=hr(a.href);var u=e.querySelector(ws(o));if(u)return t.state.loading|=4,t.instance=u,lt(u),u;l=bm(a),(o=Qt.get(o))&&Uu(l,o),u=(e.ownerDocument||e).createElement("link"),lt(u);var m=u;return m._p=new Promise(function(b,j){m.onload=b,m.onerror=j}),ht(u,"link",l),t.state.loading|=4,Zl(u,a.precedence,e),t.instance=u;case"script":return u=fr(a.src),(o=e.querySelector(_s(u)))?(t.instance=o,lt(o),o):(l=a,(o=Qt.get(u))&&(l=x({},a),zu(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),lt(o),ht(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Zl(l,a.precedence,e));return t.instance}function Zl(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,m=0;m<l.length;m++){var b=l[m];if(b.dataset.precedence===t)u=b;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fl=null;function xm(e,t,a){if(Fl===null){var l=new Map,o=Fl=new Map;o.set(a,l)}else o=Fl,l=o.get(a),l||(l=new Map,o.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Br]||u[ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var b=l.get(m);b?b.push(u):l.set(m,[u])}}return l}function wm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function gy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function py(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=hr(l.href),u=t.querySelector(ws(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,lt(u);return}u=t.ownerDocument||t,l=bm(l),(o=Qt.get(o))&&Uu(l,o),u=u.createElement("link"),lt(u);var m=u;m._p=new Promise(function(b,j){m.onload=b,m.onerror=j}),ht(u,"link",l),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Wl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Mu=0;function yy(e,t){return e.stylesheets&&e.count===0&&ti(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ti(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Mu===0&&(Mu=62500*Zp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ti(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Mu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ti(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ei=null;function ti(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ei=new Map,t.forEach(by,e),ei=null,Wl.call(e))}function by(e,t){if(!(t.state.loading&4)){var a=ei.get(e);if(a)var l=a.get(null);else{a=new Map,ei.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||l,u===l&&a.set(null,o),a.set(m,o),this.count++,l=Wl.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ss={$$typeof:q,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function vy(e,t,a,l,o,u,m,b,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Sm(e,t,a,l,o,u,m,b,j,M,Y,X){return e=new vy(e,t,a,m,j,M,Y,X,b),t=1,u===!0&&(t|=24),u=kt(3,null,null,t),e.current=u,u.stateNode=e,t=go(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:a,cache:t},vo(u),e}function jm(e){return e?(e=Vn,e):Vn}function Em(e,t,a,l,o,u){o=jm(o),l.context===null?l.context=o:l.pendingContext=o,l=Ha(t),l.payload={element:a},u=u===void 0?null:u,u!==null&&(l.callback=u),a=$a(e,l,t),a!==null&&(jt(a,e,t),ts(a,e,t))}function Nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Lu(e,t){Nm(e,t),(e=e.alternate)&&Nm(e,t)}function Tm(e){if(e.tag===13||e.tag===31){var t=dn(e,67108864);t!==null&&jt(t,e,67108864),Lu(e,67108864)}}function Am(e){if(e.tag===13||e.tag===31){var t=Ut();t=Oi(t);var a=dn(e,t);a!==null&&jt(a,e,t),Lu(e,t)}}var ai=!0;function xy(e,t,a,l){var o=N.T;N.T=null;var u=Q.p;try{Q.p=2,Bu(e,t,a,l)}finally{Q.p=u,N.T=o}}function wy(e,t,a,l){var o=N.T;N.T=null;var u=Q.p;try{Q.p=8,Bu(e,t,a,l)}finally{Q.p=u,N.T=o}}function Bu(e,t,a,l){if(ai){var o=qu(l);if(o===null)ju(e,t,l,ni,a),Cm(e,l);else if(Sy(o,e,t,a,l))l.stopPropagation();else if(Cm(e,l),t&4&&-1<_y.indexOf(e)){for(;o!==null;){var u=Dn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=sn(u.pendingLanes);if(m!==0){var b=u;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var j=1<<31-Tt(m);b.entanglements[1]|=j,m&=~j}sa(u),(Ne&6)===0&&(ql=Et()+500,ys(0))}}break;case 31:case 13:b=dn(u,2),b!==null&&jt(b,u,2),$l(),Lu(u,2)}if(u=qu(l),u===null&&ju(e,t,l,ni,a),u===o)break;o=u}o!==null&&l.stopPropagation()}else ju(e,t,l,null,a)}}function qu(e){return e=Hi(e),Hu(e)}var ni=null;function Hu(e){if(ni=null,e=Rn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ni=e,null}function km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(i0()){case Mc:return 2;case Lc:return 8;case Js:case o0:return 32;case Bc:return 268435456;default:return 32}default:return 32}}var $u=!1,Fa=null,Wa=null,en=null,js=new Map,Es=new Map,tn=[],_y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cm(e,t){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Ns(e,t,a,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Dn(t),t!==null&&Tm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sy(e,t,a,l,o){switch(t){case"focusin":return Fa=Ns(Fa,e,t,a,l,o),!0;case"dragenter":return Wa=Ns(Wa,e,t,a,l,o),!0;case"mouseover":return en=Ns(en,e,t,a,l,o),!0;case"pointerover":var u=o.pointerId;return js.set(u,Ns(js.get(u)||null,e,t,a,l,o)),!0;case"gotpointercapture":return u=o.pointerId,Es.set(u,Ns(Es.get(u)||null,e,t,a,l,o)),!0}return!1}function Om(e){var t=Rn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Vc(e.priority,function(){Am(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,Vc(e.priority,function(){Am(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);qi=l,a.target.dispatchEvent(l),qi=null}else return t=Dn(a),t!==null&&Tm(t),e.blockedOn=a,!1;t.shift()}return!0}function Rm(e,t,a){ri(e)&&a.delete(t)}function jy(){$u=!1,Fa!==null&&ri(Fa)&&(Fa=null),Wa!==null&&ri(Wa)&&(Wa=null),en!==null&&ri(en)&&(en=null),js.forEach(Rm),Es.forEach(Rm)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jy)))}var li=null;function Dm(e){li!==e&&(li=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){li===e&&(li=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Hu(l||a)===null)continue;break}var u=Dn(a);u!==null&&(e.splice(t,3),t-=3,qo(u,{pending:!0,data:o,method:a.method,action:l},l,o))}}))}function mr(e){function t(j){return si(j,e)}Fa!==null&&si(Fa,e),Wa!==null&&si(Wa,e),en!==null&&si(en,e),js.forEach(t),Es.forEach(t);for(var a=0;a<tn.length;a++){var l=tn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<tn.length&&(a=tn[0],a.blockedOn===null);)Om(a),a.blockedOn===null&&tn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var o=a[l],u=a[l+1],m=o[bt]||null;if(typeof u=="function")m||Dm(a);else if(m){var b=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[bt]||null)b=m.formAction;else if(Hu(o)!==null)continue}else b=m.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Dm(a)}}}function Um(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Gu(e){this._internalRoot=e}ii.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=Ut();Em(a,l,e,t,null,null)},ii.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Em(e.current,2,null,e,null,null),$l(),t[On]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<tn.length&&t!==0&&t<tn[a].priority;a++);tn.splice(a,0,e),a===0&&Om(e)}};var zm=n.version;if(zm!=="19.2.3")throw Error(i(527,zm,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Ey={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oi.isDisabled&&oi.supportsFiber)try{zr=oi.inject(Ey),Nt=oi}catch{}}return As.createRoot=function(e,t){if(!c(e))throw Error(i(299));var a=!1,l="",o=$h,u=Gh,m=Kh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Sm(e,1,!1,null,null,a,l,null,o,u,m,Um),e[On]=t.current,Su(e),new Gu(t)},As.hydrateRoot=function(e,t,a){if(!c(e))throw Error(i(299));var l=!1,o="",u=$h,m=Gh,b=Kh,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),t=Sm(e,1,!0,t,a??null,l,o,j,u,m,b,Um),t.context=jm(null),a=t.current,l=Ut(),l=Oi(l),o=Ha(l),o.callback=null,$a(a,o,l),a=l,t.current.lanes=a,Lr(t,a),sa(t),e[On]=t.current,Su(e),new ii(t)},As.version="19.2.3",As}var Ym;function zy(){if(Ym)return Yu.exports;Ym=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Yu.exports=Uy(),Yu.exports}var My=zy();var Jm="popstate";function Ly(r={}){function n(i,c){let{pathname:h,search:f,hash:p}=i.location;return ic("",{pathname:h,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(i,c){return typeof c=="string"?c:Us(c)}return qy(n,s,null,r)}function $e(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Pt(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function By(){return Math.random().toString(36).substring(2,10)}function Xm(r,n){return{usr:r.state,key:r.key,idx:n}}function ic(r,n,s=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Cr(n):n,state:s,key:n&&n.key||i||By()}}function Us({pathname:r="/",search:n="",hash:s=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Cr(r){let n={};if(r){let s=r.indexOf("#");s>=0&&(n.hash=r.substring(s),r=r.substring(0,s));let i=r.indexOf("?");i>=0&&(n.search=r.substring(i),r=r.substring(0,i)),r&&(n.pathname=r)}return n}function qy(r,n,s,i={}){let{window:c=document.defaultView,v5Compat:h=!1}=i,f=c.history,p="POP",g=null,y=v();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function v(){return(f.state||{idx:null}).idx}function x(){p="POP";let $=v(),k=$==null?null:$-y;y=$,g&&g({action:p,location:D.location,delta:k})}function E($,k){p="PUSH";let B=ic(D.location,$,k);y=v()+1;let q=Xm(B,y),V=D.createHref(B);try{f.pushState(q,"",V)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;c.location.assign(V)}h&&g&&g({action:p,location:D.location,delta:1})}function S($,k){p="REPLACE";let B=ic(D.location,$,k);y=v();let q=Xm(B,y),V=D.createHref(B);f.replaceState(q,"",V),h&&g&&g({action:p,location:D.location,delta:0})}function C($){return Hy($)}let D={get action(){return p},get location(){return r(c,f)},listen($){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Jm,x),g=$,()=>{c.removeEventListener(Jm,x),g=null}},createHref($){return n(c,$)},createURL:C,encodeLocation($){let k=C($);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:S,go($){return f.go($)}};return D}function Hy(r,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$e(s,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Us(r);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function wg(r,n,s="/"){return $y(r,n,s,!1)}function $y(r,n,s,i){let c=typeof n=="string"?Cr(n):n,h=ka(c.pathname||"/",s);if(h==null)return null;let f=_g(r);Gy(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=Wy(h);p=Zy(f[g],y,i)}return p}function _g(r,n=[],s=[],i="",c=!1){let h=(f,p,g=c,y)=>{let v={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&g)return;$e(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let x=Aa([i,v.relativePath]),E=s.concat(v);f.children&&f.children.length>0&&($e(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),_g(f.children,n,E,x,g)),!(f.path==null&&!f.index)&&n.push({path:x,score:Py(x,f.index),routesMeta:E})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))h(f,p);else for(let g of Sg(f.path))h(f,p,!0,g)}),n}function Sg(r){let n=r.split("/");if(n.length===0)return[];let[s,...i]=n,c=s.endsWith("?"),h=s.replace(/\?$/,"");if(i.length===0)return c?[h,""]:[h];let f=Sg(i.join("/")),p=[];return p.push(...f.map(g=>g===""?h:[h,g].join("/"))),c&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function Gy(r){r.sort((n,s)=>n.score!==s.score?s.score-n.score:Iy(n.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var Ky=/^:[\w-]+$/,Vy=3,Yy=2,Jy=1,Xy=10,Qy=-2,Qm=r=>r==="*";function Py(r,n){let s=r.split("/"),i=s.length;return s.some(Qm)&&(i+=Qy),n&&(i+=Yy),s.filter(c=>!Qm(c)).reduce((c,h)=>c+(Ky.test(h)?Vy:h===""?Jy:Xy),i)}function Iy(r,n){return r.length===n.length&&r.slice(0,-1).every((i,c)=>i===n[c])?r[r.length-1]-n[n.length-1]:0}function Zy(r,n,s=!1){let{routesMeta:i}=r,c={},h="/",f=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,v=h==="/"?n:n.slice(h.length)||"/",x=yi({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),E=g.route;if(!x&&y&&s&&!i[i.length-1].route.index&&(x=yi({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!x)return null;Object.assign(c,x.params),f.push({params:c,pathname:Aa([h,x.pathname]),pathnameBase:nb(Aa([h,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(h=Aa([h,x.pathnameBase]))}return f}function yi(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,i]=Fy(r.path,r.caseSensitive,r.end),c=n.match(s);if(!c)return null;let h=c[0],f=h.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:x},E)=>{if(v==="*"){let C=p[E]||"";f=h.slice(0,h.length-C.length).replace(/(.)\/+$/,"$1")}const S=p[E];return x&&!S?y[v]=void 0:y[v]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:f,pattern:r}}function Fy(r,n=!1,s=!0){Pt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),i]}function Wy(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Pt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function ka(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,i=r.charAt(s);return i&&i!=="/"?null:r.slice(s)||"/"}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eb=r=>jg.test(r);function tb(r,n="/"){let{pathname:s,search:i="",hash:c=""}=typeof r=="string"?Cr(r):r,h;if(s)if(eb(s))h=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),Pt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?h=Pm(s.substring(1),"/"):h=Pm(s,n)}else h=n;return{pathname:h,search:rb(i),hash:sb(c)}}function Pm(r,n){let s=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Pu(r,n,s,i){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ab(r){return r.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function _c(r){let n=ab(r);return n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase)}function Sc(r,n,s,i=!1){let c;typeof r=="string"?c=Cr(r):(c={...r},$e(!c.pathname||!c.pathname.includes("?"),Pu("?","pathname","search",c)),$e(!c.pathname||!c.pathname.includes("#"),Pu("#","pathname","hash",c)),$e(!c.search||!c.search.includes("#"),Pu("#","search","hash",c)));let h=r===""||c.pathname==="",f=h?"/":c.pathname,p;if(f==null)p=s;else{let x=n.length-1;if(!i&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),x-=1;c.pathname=E.join("/")}p=x>=0?n[x]:"/"}let g=tb(c,p),y=f&&f!=="/"&&f.endsWith("/"),v=(h||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var Aa=r=>r.join("/").replace(/\/\/+/g,"/"),nb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),rb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,sb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,lb=class{constructor(r,n,s,i=!1){this.status=r,this.statusText=n||"",this.internal=i,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function ib(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ob(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ng(r,n){let s=r;if(typeof s!="string"||!jg.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let i=s,c=!1;if(Eg)try{let h=new URL(window.location.href),f=s.startsWith("//")?new URL(h.protocol+s):new URL(s),p=ka(f.pathname,n);f.origin===h.origin&&p!=null?s=p+f.search+f.hash:c=!0}catch{Pt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:c,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tg=["POST","PUT","PATCH","DELETE"];new Set(Tg);var ub=["GET",...Tg];new Set(ub);var Or=T.createContext(null);Or.displayName="DataRouter";var wi=T.createContext(null);wi.displayName="DataRouterState";var cb=T.createContext(!1),Ag=T.createContext({isTransitioning:!1});Ag.displayName="ViewTransition";var db=T.createContext(new Map);db.displayName="Fetchers";var hb=T.createContext(null);hb.displayName="Await";var Bt=T.createContext(null);Bt.displayName="Navigation";var Gs=T.createContext(null);Gs.displayName="Location";var la=T.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var jc=T.createContext(null);jc.displayName="RouteError";var kg="REACT_ROUTER_ERROR",fb="REDIRECT",mb="ROUTE_ERROR_RESPONSE";function gb(r){if(r.startsWith(`${kg}:${fb}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function pb(r){if(r.startsWith(`${kg}:${mb}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new lb(n.status,n.statusText,n.data)}catch{}}function yb(r,{relative:n}={}){$e(Rr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=T.useContext(Bt),{hash:c,pathname:h,search:f}=Ks(r,{relative:n}),p=h;return s!=="/"&&(p=h==="/"?s:Aa([s,h])),i.createHref({pathname:p,search:f,hash:c})}function Rr(){return T.useContext(Gs)!=null}function ia(){return $e(Rr(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Gs).location}var Cg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Og(r){T.useContext(Bt).static||T.useLayoutEffect(r)}function Ec(){let{isDataRoute:r}=T.useContext(la);return r?Cb():bb()}function bb(){$e(Rr(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Or),{basename:n,navigator:s}=T.useContext(Bt),{matches:i}=T.useContext(la),{pathname:c}=ia(),h=JSON.stringify(_c(i)),f=T.useRef(!1);return Og(()=>{f.current=!0}),T.useCallback((g,y={})=>{if(Pt(f.current,Cg),!f.current)return;if(typeof g=="number"){s.go(g);return}let v=Sc(g,JSON.parse(h),c,y.relative==="path");r==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Aa([n,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[n,s,h,c,r])}T.createContext(null);function Ks(r,{relative:n}={}){let{matches:s}=T.useContext(la),{pathname:i}=ia(),c=JSON.stringify(_c(s));return T.useMemo(()=>Sc(r,JSON.parse(c),i,n==="path"),[r,c,i,n])}function vb(r,n){return Rg(r,n)}function Rg(r,n,s,i,c){$e(Rr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=T.useContext(Bt),{matches:f}=T.useContext(la),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",v=p?p.pathnameBase:"/",x=p&&p.route;{let B=x&&x.path||"";Ug(y,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=ia(),S;if(n){let B=typeof n=="string"?Cr(n):n;$e(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=E;let C=S.pathname||"/",D=C;if(v!=="/"){let B=v.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let $=wg(r,{pathname:D});Pt(x||$!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Pt($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=jb($&&$.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:Aa([v,h.encodeLocation?h.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Aa([v,h.encodeLocation?h.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),f,s,i,c);return n&&k?T.createElement(Gs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function xb(){let r=kb(),n=ib(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},h={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:h},"ErrorBoundary")," or"," ",T.createElement("code",{style:h},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},n),s?T.createElement("pre",{style:c},s):null,f)}var wb=T.createElement(xb,null),Dg=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const s=pb(r.digest);s&&(r=s)}let n=r!==void 0?T.createElement(la.Provider,{value:this.props.routeContext},T.createElement(jc.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?T.createElement(_b,{error:r},n):n}};Dg.contextType=cb;var Iu=new WeakMap;function _b({children:r,error:n}){let{basename:s}=T.useContext(Bt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let i=gb(n.digest);if(i){let c=Iu.get(n);if(c)throw c;let h=Ng(i.location,s);if(Eg&&!Iu.get(n))if(h.isExternal||i.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:i.replace}));throw Iu.set(n,f),f}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return r}function Sb({routeContext:r,match:n,children:s}){let i=T.useContext(Or);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(la.Provider,{value:r},s)}function jb(r,n=[],s=null,i=null,c=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let h=r,f=s?.errors;if(f!=null){let v=h.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);$e(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let p=!1,g=-1;if(s)for(let v=0;v<h.length;v++){let x=h[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=v),x.route.id){let{loaderData:E,errors:S}=s,C=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||C){p=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}let y=s&&i?(v,x)=>{i(v,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:ob(s.matches),errorInfo:x})}:void 0;return h.reduceRight((v,x,E)=>{let S,C=!1,D=null,$=null;s&&(S=f&&x.route.id?f[x.route.id]:void 0,D=x.route.errorElement||wb,p&&(g<0&&E===0?(Ug("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,$=null):g===E&&(C=!0,$=x.route.hydrateFallbackElement||null)));let k=n.concat(h.slice(0,E+1)),B=()=>{let q;return S?q=D:C?q=$:x.route.Component?q=T.createElement(x.route.Component,null):x.route.element?q=x.route.element:q=v,T.createElement(Sb,{match:x,routeContext:{outlet:v,matches:k,isDataRoute:s!=null},children:q})};return s&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?T.createElement(Dg,{location:s.location,revalidation:s.revalidation,component:D,error:S,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:y}):B()},null)}function Nc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eb(r){let n=T.useContext(Or);return $e(n,Nc(r)),n}function Nb(r){let n=T.useContext(wi);return $e(n,Nc(r)),n}function Tb(r){let n=T.useContext(la);return $e(n,Nc(r)),n}function Tc(r){let n=Tb(r),s=n.matches[n.matches.length-1];return $e(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function Ab(){return Tc("useRouteId")}function kb(){let r=T.useContext(jc),n=Nb("useRouteError"),s=Tc("useRouteError");return r!==void 0?r:n.errors?.[s]}function Cb(){let{router:r}=Eb("useNavigate"),n=Tc("useNavigate"),s=T.useRef(!1);return Og(()=>{s.current=!0}),T.useCallback(async(c,h={})=>{Pt(s.current,Cg),s.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:n,...h}))},[r,n])}var Im={};function Ug(r,n,s){!n&&!Im[r]&&(Im[r]=!0,Pt(!1,s))}T.memo(Ob);function Ob({routes:r,future:n,state:s,onError:i}){return Rg(r,void 0,s,i,n)}function Rb({to:r,replace:n,state:s,relative:i}){$e(Rr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=T.useContext(Bt);Pt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=T.useContext(la),{pathname:f}=ia(),p=Ec(),g=Sc(r,_c(h),f,i==="path"),y=JSON.stringify(g);return T.useEffect(()=>{p(JSON.parse(y),{replace:n,state:s,relative:i})},[p,y,i,n,s]),null}function Na(r){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Db({basename:r="/",children:n=null,location:s,navigationType:i="POP",navigator:c,static:h=!1,unstable_useTransitions:f}){$e(!Rr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:p,navigator:c,static:h,unstable_useTransitions:f,future:{}}),[p,c,h,f]);typeof s=="string"&&(s=Cr(s));let{pathname:y="/",search:v="",hash:x="",state:E=null,key:S="default"}=s,C=T.useMemo(()=>{let D=ka(y,p);return D==null?null:{location:{pathname:D,search:v,hash:x,state:E,key:S},navigationType:i}},[p,y,v,x,E,S,i]);return Pt(C!=null,`<Router basename="${p}"> is not able to match the URL "${y}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:T.createElement(Bt.Provider,{value:g},T.createElement(Gs.Provider,{children:n,value:C}))}function Ub({children:r,location:n}){return vb(oc(r),n)}function oc(r,n=[]){let s=[];return T.Children.forEach(r,(i,c)=>{if(!T.isValidElement(i))return;let h=[...n,c];if(i.type===T.Fragment){s.push.apply(s,oc(i.props.children,h));return}$e(i.type===Na,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||h.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=oc(i.props.children,h)),s.push(f)}),s}var gi="get",pi="application/x-www-form-urlencoded";function _i(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function zb(r){return _i(r)&&r.tagName.toLowerCase()==="button"}function Mb(r){return _i(r)&&r.tagName.toLowerCase()==="form"}function Lb(r){return _i(r)&&r.tagName.toLowerCase()==="input"}function Bb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function qb(r,n){return r.button===0&&(!n||n==="_self")&&!Bb(r)}var ui=null;function Hb(){if(ui===null)try{new FormData(document.createElement("form"),0),ui=!1}catch{ui=!0}return ui}var $b=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zu(r){return r!=null&&!$b.has(r)?(Pt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pi}"`),null):r}function Gb(r,n){let s,i,c,h,f;if(Mb(r)){let p=r.getAttribute("action");i=p?ka(p,n):null,s=r.getAttribute("method")||gi,c=Zu(r.getAttribute("enctype"))||pi,h=new FormData(r)}else if(zb(r)||Lb(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?ka(g,n):null,s=r.getAttribute("formmethod")||p.getAttribute("method")||gi,c=Zu(r.getAttribute("formenctype"))||Zu(p.getAttribute("enctype"))||pi,h=new FormData(p,r),!Hb()){let{name:y,type:v,value:x}=r;if(v==="image"){let E=y?`${y}.`:"";h.append(`${E}x`,"0"),h.append(`${E}y`,"0")}else y&&h.append(y,x)}}else{if(_i(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=gi,i=null,c=pi,f=r}return h&&c==="text/plain"&&(f=h,h=void 0),{action:i,method:s.toLowerCase(),encType:c,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ac(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Kb(r,n,s,i){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${i}`:c.pathname=`${c.pathname}.${i}`:c.pathname==="/"?c.pathname=`_root.${i}`:n&&ka(c.pathname,n)==="/"?c.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function Vb(r,n){if(r.id in n)return n[r.id];try{let s=await import(r.module);return n[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Jb(r,n,s){let i=await Promise.all(r.map(async c=>{let h=n.routes[c.route.id];if(h){let f=await Vb(h,s);return f.links?f.links():[]}return[]}));return Ib(i.flat(1).filter(Yb).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Zm(r,n,s,i,c,h){let f=(g,y)=>s[y]?g.route.id!==s[y].route.id:!0,p=(g,y)=>s[y].pathname!==g.pathname||s[y].route.path?.endsWith("*")&&s[y].params["*"]!==g.params["*"];return h==="assets"?n.filter((g,y)=>f(g,y)||p(g,y)):h==="data"?n.filter((g,y)=>{let v=i.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Xb(r,n,{includeHydrateFallback:s}={}){return Qb(r.map(i=>{let c=n.routes[i.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function Qb(r){return[...new Set(r)]}function Pb(r){let n={},s=Object.keys(r).sort();for(let i of s)n[i]=r[i];return n}function Ib(r,n){let s=new Set;return new Set(n),r.reduce((i,c)=>{let h=JSON.stringify(Pb(c));return s.has(h)||(s.add(h),i.push({key:h,link:c})),i},[])}function zg(){let r=T.useContext(Or);return Ac(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Zb(){let r=T.useContext(wi);return Ac(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var kc=T.createContext(void 0);kc.displayName="FrameworkContext";function Mg(){let r=T.useContext(kc);return Ac(r,"You must render this element inside a <HydratedRouter> element"),r}function Fb(r,n){let s=T.useContext(kc),[i,c]=T.useState(!1),[h,f]=T.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:x}=n,E=T.useRef(null);T.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let D=k=>{k.forEach(B=>{f(B.isIntersecting)})},$=new IntersectionObserver(D,{threshold:.5});return E.current&&$.observe(E.current),()=>{$.disconnect()}}},[r]),T.useEffect(()=>{if(i){let D=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(D)}}},[i]);let S=()=>{c(!0)},C=()=>{c(!1),f(!1)};return s?r!=="intent"?[h,E,{}]:[h,E,{onFocus:ks(p,S),onBlur:ks(g,C),onMouseEnter:ks(y,S),onMouseLeave:ks(v,C),onTouchStart:ks(x,S)}]:[!1,E,{}]}function ks(r,n){return s=>{r&&r(s),s.defaultPrevented||n(s)}}function Wb({page:r,...n}){let{router:s}=zg(),i=T.useMemo(()=>wg(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?T.createElement(tv,{page:r,matches:i,...n}):null}function ev(r){let{manifest:n,routeModules:s}=Mg(),[i,c]=T.useState([]);return T.useEffect(()=>{let h=!1;return Jb(r,n,s).then(f=>{h||c(f)}),()=>{h=!0}},[r,n,s]),i}function tv({page:r,matches:n,...s}){let i=ia(),{future:c,manifest:h,routeModules:f}=Mg(),{basename:p}=zg(),{loaderData:g,matches:y}=Zb(),v=T.useMemo(()=>Zm(r,n,y,h,i,"data"),[r,n,y,h,i]),x=T.useMemo(()=>Zm(r,n,y,h,i,"assets"),[r,n,y,h,i]),E=T.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let D=new Set,$=!1;if(n.forEach(B=>{let q=h.routes[B.route.id];!q||!q.hasLoader||(!v.some(V=>V.route.id===B.route.id)&&B.route.id in g&&f[B.route.id]?.shouldRevalidate||q.hasClientLoader?$=!0:D.add(B.route.id))}),D.size===0)return[];let k=Kb(r,p,c.unstable_trailingSlashAwareDataRequests,"data");return $&&D.size>0&&k.searchParams.set("_routes",n.filter(B=>D.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[p,c.unstable_trailingSlashAwareDataRequests,g,i,h,v,n,r,f]),S=T.useMemo(()=>Xb(x,h),[x,h]),C=ev(x);return T.createElement(T.Fragment,null,E.map(D=>T.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...s})),S.map(D=>T.createElement("link",{key:D,rel:"modulepreload",href:D,...s})),C.map(({key:D,link:$})=>T.createElement("link",{key:D,nonce:s.nonce,...$})))}function av(...r){return n=>{r.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nv&&(window.__reactRouterVersion="7.12.0")}catch{}function rv({basename:r,children:n,unstable_useTransitions:s,window:i}){let c=T.useRef();c.current==null&&(c.current=Ly({window:i,v5Compat:!0}));let h=c.current,[f,p]=T.useState({action:h.action,location:h.location}),g=T.useCallback(y=>{s===!1?p(y):T.startTransition(()=>p(y))},[s]);return T.useLayoutEffect(()=>h.listen(g),[h,g]),T.createElement(Db,{basename:r,children:n,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:s})}var Lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zs=T.forwardRef(function({onClick:n,discover:s="render",prefetch:i="none",relative:c,reloadDocument:h,replace:f,state:p,target:g,to:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:E,...S},C){let{basename:D,unstable_useTransitions:$}=T.useContext(Bt),k=typeof y=="string"&&Lg.test(y),B=Ng(y,D);y=B.to;let q=yb(y,{relative:c}),[V,I,W]=Fb(i,S),Z=ov(y,{replace:f,state:p,target:g,preventScrollReset:v,relative:c,viewTransition:x,unstable_defaultShouldRevalidate:E,unstable_useTransitions:$});function re(Ae){n&&n(Ae),Ae.defaultPrevented||Z(Ae)}let oe=T.createElement("a",{...S,...W,href:B.absoluteURL||q,onClick:B.isExternal||h?n:re,ref:av(C,I),target:g,"data-discover":!k&&s==="render"?"true":void 0});return V&&!k?T.createElement(T.Fragment,null,oe,T.createElement(Wb,{page:q})):oe});zs.displayName="Link";var sv=T.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:i="",end:c=!1,style:h,to:f,viewTransition:p,children:g,...y},v){let x=Ks(f,{relative:y.relative}),E=ia(),S=T.useContext(wi),{navigator:C,basename:D}=T.useContext(Bt),$=S!=null&&fv(x)&&p===!0,k=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,B=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(B=B.toLowerCase(),q=q?q.toLowerCase():null,k=k.toLowerCase()),q&&D&&(q=ka(q,D)||q);const V=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let I=B===k||!c&&B.startsWith(k)&&B.charAt(V)==="/",W=q!=null&&(q===k||!c&&q.startsWith(k)&&q.charAt(k.length)==="/"),Z={isActive:I,isPending:W,isTransitioning:$},re=I?n:void 0,oe;typeof i=="function"?oe=i(Z):oe=[i,I?"active":null,W?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let Ae=typeof h=="function"?h(Z):h;return T.createElement(zs,{...y,"aria-current":re,className:oe,ref:v,style:Ae,to:f,viewTransition:p},typeof g=="function"?g(Z):g)});sv.displayName="NavLink";var lv=T.forwardRef(({discover:r="render",fetcherKey:n,navigate:s,reloadDocument:i,replace:c,state:h,method:f=gi,action:p,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:E,...S},C)=>{let{unstable_useTransitions:D}=T.useContext(Bt),$=dv(),k=hv(p,{relative:y}),B=f.toLowerCase()==="get"?"get":"post",q=typeof p=="string"&&Lg.test(p),V=I=>{if(g&&g(I),I.defaultPrevented)return;I.preventDefault();let W=I.nativeEvent.submitter,Z=W?.getAttribute("formmethod")||f,re=()=>$(W||I.currentTarget,{fetcherKey:n,method:Z,navigate:s,replace:c,state:h,relative:y,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:E});D&&s!==!1?T.startTransition(()=>re()):re()};return T.createElement("form",{ref:C,method:B,action:k,onSubmit:i?g:V,...S,"data-discover":!q&&r==="render"?"true":void 0})});lv.displayName="Form";function iv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bg(r){let n=T.useContext(Or);return $e(n,iv(r)),n}function ov(r,{target:n,replace:s,state:i,preventScrollReset:c,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Ec(),v=ia(),x=Ks(r,{relative:h});return T.useCallback(E=>{if(qb(E,n)){E.preventDefault();let S=s!==void 0?s:Us(v)===Us(x),C=()=>y(r,{replace:S,state:i,preventScrollReset:c,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:p});g?T.startTransition(()=>C()):C()}},[v,y,x,s,i,n,r,c,h,f,p,g])}var uv=0,cv=()=>`__${String(++uv)}__`;function dv(){let{router:r}=Bg("useSubmit"),{basename:n}=T.useContext(Bt),s=Ab(),i=r.fetch,c=r.navigate;return T.useCallback(async(h,f={})=>{let{action:p,method:g,encType:y,formData:v,body:x}=Gb(h,n);if(f.navigate===!1){let E=f.fetcherKey||cv();await i(E,s,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await c(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:x,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,c,n,s])}function hv(r,{relative:n}={}){let{basename:s}=T.useContext(Bt),i=T.useContext(la);$e(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),h={...Ks(r||".",{relative:n})},f=ia();if(r==null){h.search=f.search;let p=new URLSearchParams(h.search),g=p.getAll("index");if(g.some(v=>v==="")){p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let v=p.toString();h.search=v?`?${v}`:""}}return(!r||r===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(h.pathname=h.pathname==="/"?s:Aa([s,h.pathname])),Us(h)}function fv(r,{relative:n}={}){let s=T.useContext(Ag);$e(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bg("useViewTransitionState"),c=Ks(r,{relative:n});if(!s.isTransitioning)return!1;let h=ka(s.currentLocation.pathname,i)||s.currentLocation.pathname,f=ka(s.nextLocation.pathname,i)||s.nextLocation.pathname;return yi(c.pathname,f)!=null||yi(c.pathname,h)!=null}function Si(r,n){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(r);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(r,i[c])&&(s[i[c]]=r[i[c]]);return s}function mv(r,n,s,i){function c(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function p(v){try{y(i.next(v))}catch(x){f(x)}}function g(v){try{y(i.throw(v))}catch(x){f(x)}}function y(v){v.done?h(v.value):c(v.value).then(p,g)}y((i=i.apply(r,n||[])).next())})}const gv=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class Cc extends Error{constructor(n,s="FunctionsError",i){super(n),this.name=s,this.context=i}}class pv extends Cc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Fm extends Cc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Wm extends Cc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var uc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(uc||(uc={}));class yv{constructor(n,{headers:s={},customFetch:i,region:c=uc.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=gv(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return mv(this,arguments,void 0,function*(s,i={}){var c;let h,f;try{const{headers:p,method:g,body:y,signal:v,timeout:x}=i;let E={},{region:S}=i;S||(S=this.region);const C=new URL(`${this.url}/${s}`);S&&S!=="any"&&(E["x-region"]=S,C.searchParams.set("forceFunctionRegion",S));let D;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",D=y):typeof y=="string"?(E["Content-Type"]="text/plain",D=y):typeof FormData<"u"&&y instanceof FormData?D=y:(E["Content-Type"]="application/json",D=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?D=JSON.stringify(y):D=y;let $=v;x&&(f=new AbortController,h=setTimeout(()=>f.abort(),x),v?($=f.signal,v.addEventListener("abort",()=>f.abort())):$=f.signal);const k=yield this.fetch(C.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),p),body:D,signal:$}).catch(I=>{throw new pv(I)}),B=k.headers.get("x-relay-error");if(B&&B==="true")throw new Fm(k);if(!k.ok)throw new Wm(k);let q=((c=k.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return q==="application/json"?V=yield k.json():q==="application/octet-stream"||q==="application/pdf"?V=yield k.blob():q==="text/event-stream"?V=k:q==="multipart/form-data"?V=yield k.formData():V=yield k.text(),{data:V,error:null,response:k}}catch(p){return{data:null,error:p,response:p instanceof Wm||p instanceof Fm?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var bv=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},vv=class{constructor(r){var n,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let c=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,p=null,g=null,y=h.status,v=h.statusText;if(h.ok){var x,E;if(s.method!=="HEAD"){var S;const k=await h.text();k===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((S=s.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?p=k:p=JSON.parse(k))}const D=(x=s.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),$=(E=h.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");D&&$&&$.length>1&&(g=parseInt($[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,y=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var C;const D=await h.text();try{f=JSON.parse(D),Array.isArray(f)&&h.status===404&&(p=[],f=null,y=200,v="OK")}catch{h.status===404&&D===""?(y=204,v="No Content"):f={message:D}}if(f&&s.isMaybeSingle&&(!(f==null||(C=f.details)===null||C===void 0)&&C.includes("0 rows"))&&(f=null,y=200,v="OK"),f&&s.shouldThrowOnError)throw new bv(f)}return{error:f,data:p,count:g,status:y,statusText:v}});return this.shouldThrowOnError||(c=c.catch(h=>{var f;let p="";const g=h?.cause;if(g){var y,v,x,E;const C=(y=g?.message)!==null&&y!==void 0?y:"",D=(v=g?.code)!==null&&v!==void 0?v:"";p=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,p+=`

Caused by: ${(E=g?.name)!==null&&E!==void 0?E:"Error"}: ${C}`,D&&(p+=` (${D})`),g?.stack&&(p+=`
${g.stack}`)}else{var S;p=(S=h?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,n)}returns(){return this}overrideTypes(){return this}},xv=class extends vv{select(r){let n=!1;const s=(r??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:c=i}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${r}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,n,{foreignTable:s,referencedTable:i=s}={}){const c=typeof i>"u"?"offset":`${i}.offset`,h=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(h,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:c=!1,format:h="text"}={}){var f;const p=[r?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const eg=new RegExp("[,()]");var jr=class extends xv{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&eg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&eg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:s,type:i}={}){let c="";i==="plain"?c="pl":i==="phrase"?c="ph":i==="websearch"&&(c="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${c}fts${h}.${n}`),this}match(r){return Object.entries(r).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(r,n,s){return this.url.searchParams.append(r,`not.${n}.${s}`),this}or(r,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,n,s){return this.url.searchParams.append(r,`${n}.${s}`),this}},wv=class{constructor(r,{headers:n={},schema:s,fetch:i}){this.url=r,this.headers=new Headers(n),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:s=!1,count:i}=n??{},c=s?"HEAD":"GET";let h=!1;const f=(r??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join(""),{url:p,headers:g}=this.cloneRequestState();return p.searchParams.set("select",f),i&&g.append("Prefer",`count=${i}`),new jr({method:c,url:p,headers:g,schema:this.schema,fetch:this.fetch})}insert(r,{count:n,defaultToNull:s=!0}={}){var i;const c="POST",{url:h,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),s||f.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);h.searchParams.set("columns",g.join(","))}}return new jr({method:c,url:h,headers:f,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:c=!0}={}){var h;const f="POST",{url:p,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&p.searchParams.set("on_conflict",n),i&&g.append("Prefer",`count=${i}`),c||g.append("Prefer","missing=default"),Array.isArray(r)){const y=r.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(y.length>0){const v=[...new Set(y)].map(x=>`"${x}"`);p.searchParams.set("columns",v.join(","))}}return new jr({method:f,url:p,headers:g,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(r,{count:n}={}){var s;const i="PATCH",{url:c,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new jr({method:i,url:c,headers:h,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var n;const s="DELETE",{url:i,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new jr({method:s,url:i,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},_v=class qg{constructor(n,{headers:s={},schema:i,fetch:c}={}){this.url=n,this.headers=new Headers(s),this.schemaName=i,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wv(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new qg(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:i=!1,get:c=!1,count:h}={}){var f;let p;const g=new URL(`${this.url}/rpc/${n}`);let y;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),x=i&&Object.values(s).some(v);x?(p="POST",y=s):i||c?(p=i?"HEAD":"GET",Object.entries(s).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{g.searchParams.append(S,C)})):(p="POST",y=s);const E=new Headers(this.headers);return x?E.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&E.set("Prefer",`count=${h}`),new jr({method:p,url:g,headers:E,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Sv{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const c=i.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const i=this.getWebSocketConstructor();return new i(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const jv="2.90.1",Ev=`realtime-js/${jv}`,Hg="1.0.0",Nv="2.0.0",tg=Hg,cc=1e4,Tv=1e3,Av=100;var nn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(nn||(nn={}));var st;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(st||(st={}));var ta;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ta||(ta={}));var dc;(function(r){r.websocket="websocket"})(dc||(dc={}));var Tn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Tn||(Tn={}));class kv{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let i=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,i;const c=(i=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,i;const c=(i=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,s,i){var c,h;const f=n.topic,p=(c=n.ref)!==null&&c!==void 0?c:"",g=(h=n.join_ref)!==null&&h!==void 0?h:"",y=n.payload.event,v=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+f.length+y.length+x.length,S=new ArrayBuffer(this.HEADER_LENGTH+E);let C=new DataView(S),D=0;C.setUint8(D++,this.KINDS.userBroadcastPush),C.setUint8(D++,g.length),C.setUint8(D++,p.length),C.setUint8(D++,f.length),C.setUint8(D++,y.length),C.setUint8(D++,x.length),C.setUint8(D++,s),Array.from(g,k=>C.setUint8(D++,k.charCodeAt(0))),Array.from(p,k=>C.setUint8(D++,k.charCodeAt(0))),Array.from(f,k=>C.setUint8(D++,k.charCodeAt(0))),Array.from(y,k=>C.setUint8(D++,k.charCodeAt(0))),Array.from(x,k=>C.setUint8(D++,k.charCodeAt(0)));var $=new Uint8Array(S.byteLength+i.byteLength);return $.set(new Uint8Array(S),0),$.set(new Uint8Array(i),S.byteLength),$.buffer}decode(n,s){if(this._isArrayBuffer(n)){let i=this._binaryDecode(n);return s(i)}if(typeof n=="string"){const i=JSON.parse(n),[c,h,f,p,g]=i;return s({join_ref:c,ref:h,topic:f,event:p,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),i=s.getUint8(0),c=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,s,c)}_decodeUserBroadcast(n,s,i){const c=s.getUint8(1),h=s.getUint8(2),f=s.getUint8(3),p=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=i.decode(n.slice(g,g+c));g=g+c;const v=i.decode(n.slice(g,g+h));g=g+h;const x=i.decode(n.slice(g,g+f));g=g+f;const E=n.slice(g,n.byteLength),S=p===this.JSON_ENCODING?JSON.parse(i.decode(E)):E,C={type:this.BROADCAST_EVENT,event:v,payload:S};return f>0&&(C.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([i])=>s.includes(i)))}}class $g{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Le||(Le={}));const ag=(r,n,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=Cv(f,r,n,c),h),{}):{}},Cv=(r,n,s,i)=>{const c=n.find(p=>p.name===r),h=c?.type,f=s[r];return h&&!i.includes(h)?Gg(h,f):hc(f)},Gg=(r,n)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return Uv(n,s)}switch(r){case Le.bool:return Ov(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Rv(n);case Le.json:case Le.jsonb:return Dv(n);case Le.timestamp:return zv(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return hc(n);default:return hc(n)}},hc=r=>r,Ov=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Rv=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},Dv=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Uv=(r,n)=>{if(typeof r!="string")return r;const s=r.length-1,i=r[s];if(r[0]==="{"&&i==="}"){let h;const f=r.slice(1,s);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>Gg(n,p))}return r},zv=r=>typeof r=="string"?r.replace(" ","T"):r,Kg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Fu{constructor(n,s,i={},c=cc){this.channel=n,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var i;return this._hasReceived(n)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var ng;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ng||(ng={}));class Rs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rs.syncState(this.state,c,h,f),this.pendingDiffs.forEach(g=>{this.state=Rs.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Rs.syncDiff(this.state,c,h,f),p())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,i,c){const h=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(h,(y,v)=>{f[y]||(g[y]=v)}),this.map(f,(y,v)=>{const x=h[y];if(x){const E=v.map($=>$.presence_ref),S=x.map($=>$.presence_ref),C=v.filter($=>S.indexOf($.presence_ref)<0),D=x.filter($=>E.indexOf($.presence_ref)<0);C.length>0&&(p[y]=C),D.length>0&&(g[y]=D)}else p[y]=v}),this.syncDiff(h,{joins:p,leaves:g},i,c)}static syncDiff(n,s,i,c){const{joins:h,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(h,(p,g)=>{var y;const v=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(g),v.length>0){const x=n[p].map(S=>S.presence_ref),E=v.filter(S=>x.indexOf(S.presence_ref)<0);n[p].unshift(...E)}i(p,v,g)}),this.map(f,(p,g)=>{let y=n[p];if(!y)return;const v=g.map(x=>x.presence_ref);y=y.filter(x=>v.indexOf(x.presence_ref)<0),n[p]=y,c(p,y,g),y.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(i=>s(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,i)=>{const c=n[i];return"metas"in c?s[i]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[i]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rg;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(rg||(rg={}));var Ds;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ds||(Ds={}));var Ta;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ta||(Ta={}));class Ar{constructor(n,s={config:{}},i){var c,h;if(this.topic=n,this.params=s,this.socket=i,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,ta.join,this.params,this.timeout),this.rejoinTimer=new $g(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ta.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new Rs(this),this.broadcastEndpointURL=Kg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var i,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,y=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&c!==void 0?c:[],v=!!this.bindings[Ds.PRESENCE]&&this.bindings[Ds.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,x={},E={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>n?.(Ta.CHANNEL_ERROR,S)),this._onClose(()=>n?.(Ta.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){n?.(Ta.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,$=(C=D?.length)!==null&&C!==void 0?C:0,k=[];for(let B=0;B<$;B++){const q=D[B],{filter:{event:V,schema:I,table:W,filter:Z}}=q,re=S&&S[B];if(re&&re.event===V&&Ar.isFilterValueEqual(re.schema,I)&&Ar.isFilterValueEqual(re.table,W)&&Ar.isFilterValueEqual(re.filter,Z))k.push(Object.assign(Object.assign({},q),{id:re.id}));else{this.unsubscribe(),this.state=st.errored,n?.(Ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(Ta.SUBSCRIBED);return}}).receive("error",S=>{this.state=st.errored,n?.(Ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,i){return this.state===st.joined&&n===Ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,i)}async httpSend(n,s,i={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const y=await p.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var i,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,g;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ta.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Fu(this,ta.leave,{},n),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(n,s,i){const c=new AbortController,h=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(h),f}_push(n,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Fu(this,n,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Av){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,i){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,i){var c,h;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:y,join:v}=ta;if(i&&[p,g,y,v].indexOf(f)>=0&&i!==this._joinRef())return;let E=this._onMessage(f,s,i);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var C,D,$;return((C=S.filter)===null||C===void 0?void 0:C.event)==="*"||(($=(D=S.filter)===null||D===void 0?void 0:D.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===f}).map(S=>S.callback(E,i)):(h=this.bindings[f])===null||h===void 0||h.filter(S=>{var C,D,$,k,B,q,V,I;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const W=S.id,Z=(C=S.filter)===null||C===void 0?void 0:C.event;return W&&((D=s.ids)===null||D===void 0?void 0:D.includes(W))&&(Z==="*"||Z?.toLocaleLowerCase()===(($=s.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))&&(!(!((k=S.filter)===null||k===void 0)&&k.table)||S.filter.table===((B=s.data)===null||B===void 0?void 0:B.table))}else{const W=(V=(q=S?.filter)===null||q===void 0?void 0:q.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return W==="*"||W===((I=s?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof E=="object"&&"ids"in E){const C=E.data,{schema:D,table:$,commit_timestamp:k,type:B,errors:q}=C;E=Object.assign(Object.assign({},{schema:D,table:$,commit_timestamp:k,eventType:B,new:{},old:{},errors:q}),this._getPayloadRecords(C))}S.callback(E,i)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,i){const c=n.toLocaleLowerCase(),h={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,s){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===i&&Ar.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const i in n)if(n[i]!==s[i])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ta.close,{},n)}_onError(n){this._on(ta.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=ag(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=ag(n.columns,n.old_record)),s}}const Wu=()=>{},ci={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mv=[1e3,2e3,5e3,1e4],Lv=1e4,Bv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qv{constructor(n,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cc,this.transport=null,this.heartbeatIntervalMs=ci.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wu,this.ref=0,this.reconnectTimer=null,this.vsn=tg,this.logger=Wu,this.conn=null,this.sendBuffer=[],this.serializer=new kv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${dc.websocket}`,this.httpEndpoint=Kg(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Sv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,i){this.logger(n,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case nn.connecting:return Tn.Connecting;case nn.open:return Tn.Open;case nn.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const i=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===i);if(c)return c;{const h=new Ar(`realtime:${n}`,s,this);return this.channels.push(h),h}}push(n){const{topic:s,event:i,payload:c,ref:h}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${i} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Tv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ci.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",y)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:c,payload:h,ref:f}=s,p=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${i} ${c} ${p}`.trim(),h),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(c,h,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===nn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===nn.open||this.conn.readyState===nn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ta.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const i=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${i}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const i=new Blob([Bv],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,i=!1;if(n)s=n,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const h={access_token:s,version:Ev};s&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(ta.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new $g(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ci.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,i,c,h,f,p,g,y,v,x,E,S;switch(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:cc,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:ci.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Wu,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:tg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(C=>Mv[C-1]||Lv),this.vsn){case Hg:this.encode=(v=n?.encode)!==null&&v!==void 0?v:((C,D)=>D(JSON.stringify(C))),this.decode=(x=n?.decode)!==null&&x!==void 0?x:((C,D)=>D(JSON.parse(C)));break;case Nv:this.encode=(E=n?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(S=n?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ms=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hv(r,n,s){const i=new URL(n,r);if(s)for(const[c,h]of Object.entries(s))h!==void 0&&i.searchParams.set(c,h);return i.toString()}async function $v(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Gv(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:c,body:h,headers:f}){const p=Hv(r.baseUrl,i,c),g=await $v(r.auth),y=await n(p,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...g,...f},body:h?JSON.stringify(h):void 0}),v=await y.text(),x=(y.headers.get("content-type")||"").includes("application/json"),E=x&&v?JSON.parse(v):v;if(!y.ok){const S=x?E:void 0,C=S?.error;throw new Ms(C?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:C?.type,icebergCode:C?.code,details:S})}return{status:y.status,headers:y.headers,data:E}}}}function di(r){return r.join("")}var Kv=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:di(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,n){const s={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${di(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${di(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${di(r.namespace)}`}),!0}catch(n){if(n instanceof Ms&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(s){if(s instanceof Ms&&s.status===409)return;throw s}}};function gr(r){return r.join("")}var Vv=class{constructor(r,n="",s){this.client=r,this.prefix=n,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(r,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gr(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(s){if(s instanceof Ms&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(s){if(s instanceof Ms&&s.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw s}}},Yv=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Gv({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Kv(this.client,n),this.tableOps=new Vv(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},ji=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ke(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Jv=class extends ji{constructor(r,n,s){super(r),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fc=class extends ji{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}};const Oc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Xv=()=>Response,mc=r=>{if(Array.isArray(r))return r.map(s=>mc(s));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=mc(i)}),n},Qv=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Pv=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Ls(r){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ls(r)}function Iv(r,n){if(Ls(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n);if(Ls(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Zv(r){var n=Iv(r,"string");return Ls(n)=="symbol"?n:n+""}function Fv(r,n,s){return(n=Zv(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function sg(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,i)}return s}function ce(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?sg(Object(s),!0).forEach(function(i){Fv(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):sg(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const ec=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},Wv=async(r,n,s)=>{r instanceof await Xv()&&!s?.noResolveJson?r.json().then(i=>{const c=r.status||500,h=i?.statusCode||c+"";n(new Jv(ec(i),c,h))}).catch(i=>{n(new fc(ec(i),i))}):n(new fc(ec(r),r))},ex=(r,n,s,i)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"||!i?c:(Qv(i)?(c.headers=ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(i)):c.body=i,n?.duplex&&(c.duplex=n.duplex),ce(ce({},c),s))};async function Vs(r,n,s,i,c,h){return new Promise((f,p)=>{r(s,ex(n,i,c,h)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Wv(g,p,i))})}async function Bs(r,n,s,i){return Vs(r,"GET",n,s,i)}async function ea(r,n,s,i,c){return Vs(r,"POST",n,i,c,s)}async function gc(r,n,s,i,c){return Vs(r,"PUT",n,i,c,s)}async function tx(r,n,s,i){return Vs(r,"HEAD",n,ce(ce({},s),{},{noResolveJson:!0}),i)}async function Rc(r,n,s,i,c){return Vs(r,"DELETE",n,i,c,s)}var ax=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}};let Vg;Vg=Symbol.toStringTag;var nx=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Vg]="BlobDownloadBuilder",this.promise=null}asStream(){return new ax(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}};const rx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sx=class{constructor(r,n={},s,i){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=s,this.fetch=Oc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,n,s,i){var c=this;try{let h;const f=ce(ce({},lg),i);let p=ce(ce({},c.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",c.encodeMetadata(g)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),g&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(g))):(h=s,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),i?.headers&&(p=ce(ce({},p),i.headers));const y=c._removeEmptyFolders(n),v=c._getFinalPath(y),x=await(r=="PUT"?gc:ea)(c.fetch,`${c.url}/object/${v}`,h,ce({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:x.Id,fullPath:x.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(Ke(h))return{data:null,error:h};throw h}}async upload(r,n,s){return this.uploadOrUpdate("POST",r,n,s)}async uploadToSignedUrl(r,n,s,i){var c=this;const h=c._removeEmptyFolders(r),f=c._getFinalPath(h),p=new URL(c.url+`/object/upload/sign/${f}`);p.searchParams.set("token",n);try{let g;const y=ce({upsert:lg.upsert},i),v=ce(ce({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",y.cacheControl)):(g=s,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType),{data:{path:h,fullPath:(await gc(c.fetch,p.toString(),g,{headers:v})).Key},error:null}}catch(g){if(c.shouldThrowOnError)throw g;if(Ke(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(r,n){var s=this;try{let i=s._getFinalPath(r);const c=ce({},s.headers);n?.upsert&&(c["x-upsert"]="true");const h=await ea(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(s.url+h.url),p=f.searchParams.get("token");if(!p)throw new ji("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:p},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async update(r,n,s){return this.uploadOrUpdate("PUT",r,n,s)}async move(r,n,s){var i=this;try{return{data:await ea(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:i.headers}),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async copy(r,n,s){var i=this;try{return{data:{path:(await ea(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async createSignedUrl(r,n,s){var i=this;try{let c=i._getFinalPath(r),h=await ea(i.fetch,`${i.url}/object/sign/${c}`,ce({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return h={signedUrl:encodeURI(`${i.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async createSignedUrls(r,n,s){var i=this;try{const c=await ea(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:n,paths:r},{headers:i.headers}),h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(f=>ce(ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${i.url}${f.signedURL}${h}`):null})),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}download(r,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),c=i?`?${i}`:"",h=this._getFinalPath(r),f=()=>Bs(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new nx(f,this.shouldThrowOnError)}async info(r){var n=this;const s=n._getFinalPath(r);try{return{data:mc(await Bs(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async exists(r){var n=this;const s=n._getFinalPath(r);try{return await tx(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i)&&i instanceof fc){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,n){const s=this._getFinalPath(r),i=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&i.push(c);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&i.push(f);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${p}`)}}}async remove(r){var n=this;try{return{data:await Rc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async list(r,n,s){var i=this;try{const c=ce(ce(ce({},rx),n),{},{prefix:r||""});return{data:await ea(i.fetch,`${i.url}/object/list/${i.bucketId}`,c,{headers:i.headers},s),error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}}async listV2(r,n){var s=this;try{const i=ce({},r);return{data:await ea(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},n),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const Yg="2.90.1",Jg={"X-Client-Info":`storage-js/${Yg}`};var lx=class{constructor(r,n={},s,i){this.shouldThrowOnError=!1;const c=new URL(r);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=ce(ce({},Jg),n),this.fetch=Oc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var n=this;try{const s=n.listBucketOptionsToQueryString(r);return{data:await Bs(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async getBucket(r){var n=this;try{return{data:await Bs(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async createBucket(r,n={public:!1}){var s=this;try{return{data:await ea(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async updateBucket(r,n){var s=this;try{return{data:await gc(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async emptyBucket(r){var n=this;try{return{data:await ea(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async deleteBucket(r){var n=this;try{return{data:await Rc(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},ix=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},Jg),n),this.fetch=Oc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await ea(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async listBuckets(r){var n=this;try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const i=s.toString(),c=i?`${n.url}/bucket?${i}`:`${n.url}/bucket`;return{data:await Bs(n.fetch,c,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async deleteBucket(r){var n=this;try{return{data:await Rc(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}from(r){var n=this;if(!Pv(r))throw new ji("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Yv({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(c,h){const f=c[h];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(c,p),error:null}}catch(g){if(i)throw g;return{data:null,error:g}}}}})}};const Dc={"X-Client-Info":`storage-js/${Yg}`,"Content-Type":"application/json"};var Xg=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var tc=class extends Xg{constructor(r,n,s){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ox=class extends Xg{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}};const Uc=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),ux=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ig=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),cx=async(r,n,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!s?.noResolveJson){const i=r.status||500,c=r;if(typeof c.json=="function")c.json().then(h=>{const f=h?.statusCode||h?.code||i+"";n(new tc(ig(h),i,f))}).catch(()=>{const h=i+"";n(new tc(c.statusText||`HTTP ${i} error`,i,h))});else{const h=i+"";n(new tc(c.statusText||`HTTP ${i} error`,i,h))}}else n(new ox(ig(r),r))},dx=(r,n,s,i)=>{const c={method:r,headers:n?.headers||{}};return i?(ux(i)?(c.headers=ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(i)):c.body=i,ce(ce({},c),s)):c};async function hx(r,n,s,i,c,h){return new Promise((f,p)=>{r(s,dx(n,i,c,h)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>cx(g,p,i))})}async function Lt(r,n,s,i,c){return hx(r,"POST",n,i,c,s)}var fx=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},Dc),n),this.fetch=Uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async getIndex(r,n){var s=this;try{return{data:await Lt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}async listIndexes(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async deleteIndex(r,n){var s=this;try{return{data:await Lt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:s.headers})||{},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Mt(i))return{data:null,error:i};throw i}}},mx=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},Dc),n),this.fetch=Uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var n=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Lt(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async getVectors(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async listVectors(r){var n=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Lt(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async queryVectors(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async deleteVectors(r){var n=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Lt(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}},gx=class{constructor(r,n={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},Dc),n),this.fetch=Uc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async getBucket(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}async deleteBucket(r){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}}},px=class extends gx{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new yx(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,s=this;return n().call(s,r)}async getBucket(r){var n=()=>super.getBucket,s=this;return n().call(s,r)}async listBuckets(r={}){var n=()=>super.listBuckets,s=this;return n().call(s,r)}async deleteBucket(r){var n=()=>super.deleteBucket,s=this;return n().call(s,r)}},yx=class extends fx{constructor(r,n,s,i){super(r,n,i),this.vectorBucketName=s}async createIndex(r){var n=()=>super.createIndex,s=this;return n().call(s,ce(ce({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,s=this;return n().call(s,ce(ce({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,r)}index(r){return new bx(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},bx=class extends mx{constructor(r,n,s,i,c){super(r,n,c),this.vectorBucketName=s,this.indexName=i}async putVectors(r){var n=()=>super.putVectors,s=this;return n().call(s,ce(ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var n=()=>super.getVectors,s=this;return n().call(s,ce(ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,s=this;return n().call(s,ce(ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,s=this;return n().call(s,ce(ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,s=this;return n().call(s,ce(ce({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},vx=class extends lx{constructor(r,n={},s,i){super(r,n,s,i)}from(r){return new sx(this.url,this.headers,r,this.fetch)}get vectors(){return new px(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ix(this.url+"/iceberg",this.headers,this.fetch)}};const Qg="2.90.1",Er=30*1e3,pc=3,ac=pc*Er,xx="http://localhost:9999",wx="supabase.auth.token",_x={"X-Client-Info":`gotrue-js/${Qg}`},yc="X-Supabase-Api-Version",Pg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jx=600*1e3;class qs extends Error{constructor(n,s,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ne(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Ex extends qs{constructor(n,s,i){super(n,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Nx(r){return ne(r)&&r.name==="AuthApiError"}class An extends qs{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Ca extends qs{constructor(n,s,i,c){super(n,i,c),this.name=s,this.status=i}}class zt extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tx(r){return ne(r)&&r.name==="AuthSessionMissingError"}class pr extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hi extends Ca{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class fi extends Ca{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ax(r){return ne(r)&&r.name==="AuthImplicitGrantRedirectError"}class og extends Ca{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kx extends Ca{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bc extends Ca{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function nc(r){return ne(r)&&r.name==="AuthRetryableFetchError"}class ug extends Ca{constructor(n,s,i){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class vc extends Ca{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cg=` 	
\r=`.split(""),Cx=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<cg.length;n+=1)r[cg[n].charCodeAt(0)]=-2;for(let n=0;n<bi.length;n+=1)r[bi[n].charCodeAt(0)]=n;return r})();function dg(r,n,s){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(bi[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(bi[i]),n.queuedBits-=6}}function Ig(r,n,s){const i=Cx[r];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function hg(r){const n=[],s=f=>{n.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{Dx(f,i,s)};for(let f=0;f<r.length;f+=1)Ig(r.charCodeAt(f),c,h);return n.join("")}function Ox(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Rx(r,n){for(let s=0;s<r.length;s+=1){let i=r.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(r.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}Ox(i,n)}}function Dx(r,n,s){if(n.utf8seq===0){if(r<=127){s(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function kr(r){const n=[],s={queue:0,queuedBits:0},i=c=>{n.push(c)};for(let c=0;c<r.length;c+=1)Ig(r.charCodeAt(c),s,i);return new Uint8Array(n)}function Ux(r){const n=[];return Rx(r,s=>n.push(s)),new Uint8Array(n)}function Cn(r){const n=[],s={queue:0,queuedBits:0},i=c=>{n.push(c)};return r.forEach(c=>dg(c,s,i)),dg(null,s,i),n.join("")}function zx(r){return Math.round(Date.now()/1e3)+r}function Mx(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Zg=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function Lx(r){const n={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return s.searchParams.forEach((i,c)=>{n[c]=i}),n}const Fg=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Bx=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Nr=async(r,n,s)=>{await r.setItem(n,JSON.stringify(s))},En=async(r,n)=>{const s=await r.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ft=async(r,n)=>{await r.removeItem(n)};class Ei{constructor(){this.promise=new Ei.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Ei.promiseConstructor=Promise;function rc(r){const n=r.split(".");if(n.length!==3)throw new vc("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!Sx.test(n[i]))throw new vc("JWT not in base64url format");return{header:JSON.parse(hg(n[0])),payload:JSON.parse(hg(n[1])),signature:kr(n[2]),raw:{header:n[0],payload:n[1]}}}async function qx(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function Hx(r,n){return new Promise((i,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await r(h);if(!n(h,null,f)){i(f);return}}catch(f){if(!n(h,f)){c(f);return}}})()})}function $x(r){return("0"+r.toString(16)).substr(-2)}function Gx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let h=0;h<56;h++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(n),Array.from(n,$x).join("")}async function Kx(r){const s=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function Vx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await Kx(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(r,n,s=!1){const i=Gx();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await Nr(r,`${n}-code-verifier`,c);const h=await Vx(i);return[h,i===h?"plain":"s256"]}const Yx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jx(r){const n=r.headers.get(yc);if(!n||!n.match(Yx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Xx(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function Qx(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Px=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(r){if(!Px.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sc(){const r={};return new Proxy(r,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ix(r,n){return new Proxy(r,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const h=i.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,i,c)}})}function fg(r){return JSON.parse(JSON.stringify(r))}const Nn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Zx=[502,503,504];async function mg(r){var n;if(!Bx(r))throw new bc(Nn(r),0);if(Zx.includes(r.status))throw new bc(Nn(r),r.status);let s;try{s=await r.json()}catch(h){throw new An(Nn(h),h)}let i;const c=Jx(r);if(c&&c.getTime()>=Pg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new ug(Nn(s),r.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new zt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new ug(Nn(s),r.status,s.weak_password.reasons);throw new Ex(Nn(s),r.status||500,i)}const Fx=(r,n,s,i)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function ue(r,n,s,i){var c;const h=Object.assign({},i?.headers);h[yc]||(h[yc]=Pg["2024-01-01"].name),i?.jwt&&(h.Authorization=`Bearer ${i.jwt}`);const f=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(f.redirect_to=i.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await Wx(r,n,s+p,{headers:h,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function Wx(r,n,s,i,c,h){const f=Fx(n,i,c,h);let p;try{p=await r(s,Object.assign({},f))}catch(g){throw console.error(g),new bc(Nn(g),0)}if(p.ok||await mg(p),i?.noResolveJson)return p;try{return await p.json()}catch(g){await mg(g)}}function Wt(r){var n;let s=null;aw(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=zx(r.expires_in)));const i=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:s,user:i},error:null}}function gg(r){const n=Wt(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(n.data.weak_password=r.weak_password),n}function rn(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function ew(r){return{data:r,error:null}}function tw(r){const{action_link:n,email_otp:s,hashed_token:i,redirect_to:c,verification_type:h}=r,f=Si(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:i,redirect_to:c,verification_type:h},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function pg(r){return r}function aw(r){return r.access_token&&r.refresh_token&&r.expires_in}const lc=["global","local","others"];class nw{constructor({url:n="",headers:s={},fetch:i}){this.url=n,this.headers=s,this.fetch=Fg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=lc[0]){if(lc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:rn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:s}=n,i=Si(n,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:tw,redirectTo:s?.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:rn})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,i,c,h,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:pg});if(v.error)throw v.error;const x=await v.json(),E=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(C=>{const D=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(C.split(";")[1].split("=")[1]);y[`${$}Page`]=D}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){br(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:rn})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){br(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:rn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,s=!1){br(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:rn})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){br(n.userId);try{const{data:s,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(n){br(n.userId),br(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,i,c,h,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:pg});if(v.error)throw v.error;const x=await v.json(),E=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(C=>{const D=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(C.split(";")[1].split("=")[1]);y[`${$}Page`]=D}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}}function yg(r={}){return{getItem:n=>r[n]||null,setItem:(n,s)=>{r[n]=s},removeItem:n=>{delete r[n]}}}const vr={debug:!!(globalThis&&Zg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class rw extends Wg{}async function sw(r,n,s){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await s()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(n===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new rw(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(vr.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function lw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function e0(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function iw(r){return parseInt(r,16)}function ow(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function uw(r){var n;const{chainId:s,domain:i,expirationTime:c,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:g,resources:y,scheme:v,uri:x,version:E}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=e0(r.address),C=v?`${v}://${i}`:i,D=r.statement?`${r.statement}
`:"",$=`${C} wants you to sign in with your Ethereum account:
${S}

${D}`;let k=`URI: ${x}
Version: ${E}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(c&&(k+=`
Expiration Time: ${c.toISOString()}`),p&&(k+=`
Not Before: ${p.toISOString()}`),g&&(k+=`
Request ID: ${g}`),y){let B=`
Resources:`;for(const q of y){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);B+=`
- ${q}`}k+=B}return`${$}
${k}`}class nt extends Error{constructor({message:n,code:s,cause:i,name:c}){var h;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(h=c??(i instanceof Error?i.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class vi extends nt{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function cw({error:r,options:n}){var s,i,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((i=h.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(t0(f)){if(h.rp.id!==f)return new nt({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function dw({error:r,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(t0(i)){if(s.rpId!==i)return new nt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class hw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const fw=new hw;function mw(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:s,excludeCredentials:i}=r,c=Si(r,["challenge","user","excludeCredentials"]),h=kr(n).buffer,f=Object.assign(Object.assign({},s),{id:kr(s.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:h,user:f});if(i&&i.length>0){p.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const y=i[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:kr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function gw(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:s}=r,i=Si(r,["challenge","allowCredentials"]),c=kr(n).buffer,h=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];h.allowCredentials[f]=Object.assign(Object.assign({},p),{id:kr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function pw(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:Cn(new Uint8Array(r.response.attestationObject)),clientDataJSON:Cn(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function yw(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,i=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Cn(new Uint8Array(c.authenticatorData)),clientDataJSON:Cn(new Uint8Array(c.clientDataJSON)),signature:Cn(new Uint8Array(c.signature)),userHandle:c.userHandle?Cn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function t0(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function bg(){var r,n;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function bw(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vi("Browser returned unexpected credential type",n)}:{data:null,error:new vi("Empty credential response",n)}}catch(n){return{data:null,error:cw({error:n,options:r})}}}async function vw(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vi("Browser returned unexpected credential type",n)}:{data:null,error:new vi("Empty credential response",n)}}catch(n){return{data:null,error:dw({error:n,options:r})}}}const xw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ww={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xi(...r){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of r)if(c)for(const h in c){const f=c[h];if(f!==void 0)if(Array.isArray(f))i[h]=f;else if(s(f))i[h]=f;else if(n(f)){const p=i[h];n(p)?i[h]=xi(p,f):i[h]=xi(f)}else i[h]=f}return i}function _w(r,n){return xi(xw,r,n||{})}function Sw(r,n){return xi(ww,r,n||{})}class jw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:i,signal:c},h){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:p};const g=c??fw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${i}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=_w(f.webauthn.credential_options.publicKey,h?.create),{data:v,error:x}=await bw({publicKey:y,signal:g});return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const y=Sw(f.webauthn.credential_options.publicKey,h?.request),{data:v,error:x}=await vw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new An("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new qs("rpId is required for WebAuthn authentication")};try{if(!bg())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:h});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new An("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new qs("rpId is required for WebAuthn registration")};try{if(!bg())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===n&&E.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:h});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new An("Unexpected error in register",f)}}}}lw();const Ew={url:xx,storageKey:wx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_x,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function vg(r,n,s){return await s()}const xr={};class Hs{get jwks(){var n,s;return(s=(n=xr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=xr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){xr[this.storageKey]=Object.assign(Object.assign({},xr[this.storageKey]),{cachedAt:n})}constructor(n){var s,i,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},Ew),n);if(this.storageKey=h.storageKey,this.instanceID=(s=Hs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Hs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new nw({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Fg(h.fetch),this.lock=h.lock||vg,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&mt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=sw:this.lock=vg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Zg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yg(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=yg(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},i="none";if(mt()&&(s=Lx(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),mt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:h}=await this._getSessionFromURL(s,i);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Ax(h)){const g=(n=h.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?this._returnResult({error:s}):this._returnResult({error:new An("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,i,c;try{const h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Wt}),{data:f,error:p}=h;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(h){if(ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var s,i,c;try{let h;if("email"in n){const{email:v,password:x,options:E}=n;let S=null,C=null;this.flowType==="pkce"&&([S,C]=await yr(this.storage,this.storageKey)),h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:v,password:x,data:(s=E?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:S,code_challenge_method:C},xform:Wt})}else if("phone"in n){const{phone:v,password:x,options:E}=n;h=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(i=E?.data)!==null&&i!==void 0?i:{},channel:(c=E?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Wt})}else throw new hi("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return await ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let s;if("email"in n){const{email:h,password:f,options:p}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:gg})}else if("phone"in n){const{phone:h,password:f,options:p}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:gg})}else throw new hi("You must provide either an email or phone number and a password");const{data:i,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!i||!i.session||!i.user){const h=new pr;return this._returnResult({data:{user:null,session:null},error:h})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,i,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,i,c,h,f,p,g,y,v,x,E;let S,C;if("message"in n)S=n.message,C=n.signature;else{const{chain:D,wallet:$,statement:k,options:B}=n;let q;if(mt())if(typeof $=="object")q=$;else{const oe=window;if("ethereum"in oe&&typeof oe.ethereum=="object"&&"request"in oe.ethereum&&typeof oe.ethereum.request=="function")q=oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=$}const V=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href),I=await q.request({method:"eth_requestAccounts"}).then(oe=>oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=e0(I[0]);let Z=(i=B?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Z){const oe=await q.request({method:"eth_chainId"});Z=iw(oe)}const re={domain:V.host,address:W,statement:k,uri:V.href,version:"1",chainId:Z,nonce:(c=B?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(h=B?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=B?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=B?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=B?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=uw(re),C=await q.request({method:"personal_sign",params:[ow(S),W]})}try{const{data:D,error:$}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:C},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Wt});if($)throw $;if(!D||!D.session||!D.user){const k=new pr;return this._returnResult({data:{user:null,session:null},error:k})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:$})}catch(D){if(ne(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async signInWithSolana(n){var s,i,c,h,f,p,g,y,v,x,E,S;let C,D;if("message"in n)C=n.message,D=n.signature;else{const{chain:$,wallet:k,statement:B,options:q}=n;let V;if(mt())if(typeof k=="object")V=k;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))V=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=k}const I=new URL((s=q?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const W=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),B?{statement:B}:null));let Z;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")Z=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)Z=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)C=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),D=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${I.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(c=(i=q?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=q?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((p=q?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((g=q?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((x=(v=q?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...q.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const W=await V.signMessage(new TextEncoder().encode(C),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=W}}try{const{data:$,error:k}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Cn(D)},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Wt});if(k)throw k;if(!$||!$.session||!$.user){const B=new pr;return this._returnResult({data:{user:null,session:null},error:B})}return $.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),this._returnResult({data:Object.assign({},$),error:k})}catch($){if(ne($))return this._returnResult({data:{user:null,session:null},error:$});throw $}}async _exchangeCodeForSession(n){const s=await En(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new kx;const{data:h,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Wt});if(await ft(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const p=new pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:s,provider:i,token:c,access_token:h,nonce:f}=n,p=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Wt}),{data:g,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const v=new pr;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,i,c,h,f;try{if("email"in n){const{email:p,options:g}=n;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await yr(this.storage,this.storageKey));const{error:x}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:p,options:g}=n,{data:y,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:v})}throw new hi("You must provide either an email or phone number.")}catch(p){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var s,i;try{let c,h;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,h=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:p}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Wt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,i,c,h,f;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await yr(this.storage,this.storageKey));const y=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:ew});return!((h=y.data)===null||h===void 0)&&h.url&&mt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)throw i;if(!s)throw new zt;const{error:c}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:i,type:c,options:h}=n,{error:f}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:i,type:c,options:h}=n,{data:f,error:p}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new hi("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await En(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<ac:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const f=await En(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=sc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Ix(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:rn}):await this._useSession(async s=>{var i,c,h;const{data:f,error:p}=s;if(p)throw p;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:rn})})}catch(s){if(ne(s))return Tx(s)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async i=>{const{data:c,error:h}=i;if(h)throw h;if(!c.session)throw new zt;const f=c.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await yr(this.storage,this.storageKey));const{data:y,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:rn});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(i){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new zt;const s=Date.now()/1e3;let i=s,c=!0,h=null;const{payload:f}=rc(n.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;h={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var i;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(i=f.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new zt;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!mt())throw new fi("No browser detected.");if(n.error||n.error_description||n.error_code)throw new fi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new og("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new og("No code detected.");const{data:B,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:p,expires_at:g,token_type:y}=n;if(!h||!p||!f||!y)throw new fi("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(p);let E=v+x;g&&(E=parseInt(g));const S=E-v;S*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const C=E-x;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,E,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,E,v);const{data:D,error:$}=await this._getUser(h);if($)throw $;const k={provider_token:i,provider_refresh_token:c,access_token:h,expires_in:x,expires_at:E,refresh_token:f,token_type:y,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(i){if(ne(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await En(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:h}=s;if(h)return this._returnResult({error:h});const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Nx(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=Mx(),i={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async s=>{var i,c;try{const{data:{session:h},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await yr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:i,error:c}=await this._useSession(async h=>{var f,p,g,y,v;const{data:x,error:E}=h;if(E)throw E;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(c)throw c;return mt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(ne(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:h}}=s;if(c)throw c;const{options:f,provider:p,token:g,access_token:y,nonce:v}=n,x=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=h?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:p,id_token:g,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wt}),{data:E,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new pr}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:S}))}catch(c){if(await ft(this.storage,`${this.storageKey}-code-verifier`),ne(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var i,c;const{data:h,error:f}=s;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(i=h.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await Hx(async c=>(c>0&&await qx(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Wt})),(c,h)=>{const f=200*Math.pow(2,c);return h&&nc(h)&&Date.now()+f-i<Er})}catch(i){if(this._debug(s,"error",i),ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",i),mt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await En(this.storage,this.storageKey);if(c&&this.userStorage){let f=await En(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Nr(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f?.user)!==null&&n!==void 0?n:sc()}else if(c&&!c.user&&!c.user){const f=await En(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await ft(this.storage,this.storageKey+"-user"),await Nr(this.storage,this.storageKey,c)):c.user=sc()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const h=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ac;if(this._debug(i,`session has${h?"":" not"} expired with margin of ${ac}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),nc(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(c.access_token);!p&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var s,i;if(!n)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ei;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new zt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(c,"error",h),ne(h)){const f={data:null,error:h};return nc(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,i=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:s});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ft(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Nr(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const h=fg(c);await Nr(this.storage,this.storageKey,h)}else{const c=fg(s);await Nr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-n)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Er}ms, refresh threshold is ${pc} ticks`),c<=pc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Wg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[h,f]=await yr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(p.toString())}if(i?.queryParams){const h=new URLSearchParams(i.queryParams);c.push(h.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var i;const{data:c,error:h}=s;return h?this._returnResult({data:null,error:h}):await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var i,c;const{data:h,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:y}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=h?.session)===null||i===void 0?void 0:i.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&g.type==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?pw(n.webauthn.credential_response):yw(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:mw(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:gw(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=s?.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:i},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=rc(i.access_token);let f=null;h.aal&&(f=h.aal);let p=f;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=h.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new zt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async i=>{const{data:{session:c},error:h}=i;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new zt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,s){try{return await this._useSession(async i=>{const{data:{session:c},error:h}=i;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new zt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&mt()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?this._returnResult({data:null,error:i}):s?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new zt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?this._returnResult({data:null,error:c}):i?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zt})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let i=s.keys.find(p=>p.kid===n);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(p=>p.kid===n),i&&this.jwks_cached_at+jx>c)return i;const{data:h,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,i=h.keys.find(p=>p.kid===n),!i)?null:i}async getClaims(n,s={}){try{let i=n;if(!i){const{data:S,error:C}=await this.getSession();if(C||!S.session)return this._returnResult({data:null,error:C});i=S.session.access_token}const{header:c,payload:h,signature:f,raw:{header:p,payload:g}}=rc(i);s?.allowExpired||Xx(h.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:h,header:c,signature:f},error:null}}const v=Qx(c.alg),x=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,f,Ux(`${p}.${g}`)))throw new vc("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(i){if(ne(i))return this._returnResult({data:null,error:i});throw i}}}Hs.nextInstanceID={};const Nw=Hs,Tw="2.90.1";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const Aw={"X-Client-Info":`supabase-js-${Os}/${Tw}`},kw={headers:Aw},Cw={schema:"public"},Ow={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rw={};function $s(r){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$s(r)}function Dw(r,n){if($s(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var i=s.call(r,n);if($s(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Uw(r){var n=Dw(r,"string");return $s(n)=="symbol"?n:n+""}function zw(r,n,s){return(n=Uw(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}function xg(r,n){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),s.push.apply(s,i)}return s}function Xe(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?xg(Object(s),!0).forEach(function(i){zw(r,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):xg(Object(s)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(s,i))})}return r}const Mw=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Lw=()=>Headers,Bw=(r,n,s)=>{const i=Mw(s),c=Lw();return async(h,f)=>{var p;const g=(p=await n())!==null&&p!==void 0?p:r;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),i(h,Xe(Xe({},f),{},{headers:y}))}};function qw(r){return r.endsWith("/")?r:r+"/"}function Hw(r,n){var s,i;const{db:c,auth:h,realtime:f,global:p}=r,{db:g,auth:y,realtime:v,global:x}=n,E={db:Xe(Xe({},g),c),auth:Xe(Xe({},y),h),realtime:Xe(Xe({},v),f),storage:{},global:Xe(Xe(Xe({},x),p),{},{headers:Xe(Xe({},(s=x?.headers)!==null&&s!==void 0?s:{}),(i=p?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?E.accessToken=r.accessToken:delete E.accessToken,E}function $w(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Gw=class extends Nw{constructor(r){super(r)}},Kw=class{constructor(r,n,s){var i,c;this.supabaseUrl=r,this.supabaseKey=n;const h=$w(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:Cw,realtime:Rw,auth:Xe(Xe({},Ow),{},{storageKey:f}),global:kw},g=Hw(s??{},p);if(this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=g.auth)!==null&&y!==void 0?y:{},this.headers,g.global.fetch)}this.fetch=Bw(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new _v(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new vx(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new yv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,s)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,s;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:c,storageKey:h,flowType:f,lock:p,debug:g,throwOnError:y},v,x){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl.href,headers:Xe(Xe({},E),v),storageKey:h,autoRefreshToken:r,persistSession:n,detectSessionInUrl:s,storage:i,userStorage:c,flowType:f,lock:p,debug:g,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new qv(this.realtimeUrl.href,Xe(Xe({},r),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Vw=(r,n,s)=>new Kw(r,n,s);function Yw(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Yw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jw="",Xw="";console.warn("Supabase URL or Key is missing! Check your .env file.");const je=Vw(Jw,Xw),gt=(r,n)=>{if(n)throw console.error("Supabase Error:",n),{response:{data:{message:n.message||"Bir hata olutu"}}};return{data:r}},a0={login:async(r,n)=>{const{data:s,error:i}=await je.auth.signInWithPassword({email:r,password:n});if(i)throw{response:{data:{message:"Giri yaplamad. Bilgileri kontrol edin."}}};const{data:c,error:h}=await je.from("user_profiles").select("*").eq("id",s.user.id).single();let f=c;return f||(console.warn("Profile missing, using defaults",h),f={role:"user",permissions:{}}),{status:200,data:{token:s.session.access_token,user:{...s.user,...f}}}},verify2FA:async r=>({status:200}),logout:async()=>{const{error:r}=await je.auth.signOut();if(r)throw r;return localStorage.removeItem("user"),localStorage.removeItem("auth_token"),{status:200}}},Tr={getAll:async()=>{const{data:r,error:n}=await je.from("products").select("*").order("name");if(n)throw n;return{data:{products:(r||[]).map(i=>({...i,price:i.sale_price,group:i.category}))}}},add:async r=>{const n={stock_code:r.stock_code,name:r.name,barcode:r.barcode,category:r.group,brand:r.brand,sale_price:r.price,buying_price:r.buying_price||0,stock:r.stock,vat_rate:r.vat_rate||18,image_url:r.image_url},{data:s,error:i}=await je.from("products").insert([n]).select().single();if(i)throw i;return{data:s}},update:async(r,n)=>{const s={name:n.name,barcode:n.barcode,category:n.group,brand:n.brand,sale_price:n.price,buying_price:n.buying_price,stock:n.stock,vat_rate:n.vat_rate,image_url:n.image_url},{data:i,error:c}=await je.from("products").update(s).eq("stock_code",r).select();if(c)throw c;return{data:i}},delete:async r=>{const{error:n}=await je.from("products").delete().eq("stock_code",r);if(n)throw n;return{data:{success:!0}}},updateImage:async(r,n)=>{const s=n.get("product_image");if(!s)return{data:{success:!0}};const i=s.name.split(".").pop(),h=`${`${r}-${Date.now()}.${i}`}`,{error:f}=await je.storage.from("product-images").upload(h,s);if(f)throw f;const{data:p}=je.storage.from("product-images").getPublicUrl(h),{error:g}=await je.from("products").update({image_url:p.publicUrl}).eq("stock_code",r);if(g)throw g;return{data:{success:!0,image_url:p.publicUrl}}}},kn={getAll:async()=>{const{data:r,error:n}=await je.from("customers").select("*").order("name");return gt({success:!0,customers:r||[]},n)},add:async r=>{const{id:n,...s}=r,{data:i,error:c}=await je.from("customers").insert([s]).select().single();return gt({success:!0,message:"Mteri eklendi",id:i?.id},c)},update:async(r,n)=>{const{error:s}=await je.from("customers").update(n).eq("id",r);return gt({success:!0,message:"Mteri gncellendi"},s)},delete:async r=>{const{error:n}=await je.from("customers").delete().eq("id",r);return gt({success:!0,message:"Mteri silindi"},n)},getTransactions:async r=>{const{data:n,error:s}=await je.from("sales").select("*").eq("customer_id",r);return gt({success:!0,transactions:n||[]},s)},addPayment:async r=>{const{data:n,error:s}=await je.from("customers").select("balance").eq("id",r.customer_id).single();if(s)throw s;const i=parseFloat(n?.balance)||0,c=parseFloat(r.amount)||0,h=i-c,{error:f}=await je.from("customers").update({balance:h,last_transaction_date:new Date().toISOString()}).eq("id",r.customer_id);if(f)throw f;return{data:{success:!0,message:"deme alnd ve bakiye gncellendi."}}}},xc={getAll:async r=>{let n=je.from("sales").select("*, customers(name)");r?.start_date&&(n=n.gte("date",r.start_date));const{data:s,error:i}=await n.order("date",{ascending:!1}),c=s?.map(h=>({...h,customerName:h.customers?.name}))||[];return gt({success:!0,sales:c},i)},complete:async r=>{const{id:n,...s}=r;s.date=new Date().toISOString(),s.customer_id=s.customer?s.customer.id:null,delete s.customer;const{data:i,error:c}=await je.from("sales").insert([s]).select().single();if(!c&&r.items)for(const h of r.items){const{data:f}=await je.from("products").select("stock").eq("id",h.id).single();f&&await je.from("products").update({stock:f.stock-(h.amount||1)}).eq("id",h.id)}return gt({success:!0,message:"Sat tamamland",sale_code:i?.sale_code},c)},delete:async(r,n)=>{if(n!=="123456")throw{response:{data:{error:"Geersiz ifre"}}};const{error:s}=await je.from("sales").delete().eq("sale_code",r);return gt({success:!0,message:"Sat iptal edildi"},s)},getByCode:async r=>{const{data:n,error:s}=await je.from("sales").select("*").eq("sale_code",r).single();return gt(n,s)},update:async(r,n)=>{const{error:s}=await je.from("sales").update({items:n}).eq("sale_code",r);return gt({success:!0,message:"Sat gncellendi"},s)}},wr={getAll:async()=>{const{data:r,error:n}=await je.from("user_profiles").select("*");return gt({success:!0,users:r||[]},n)},add:async r=>{const{data:n,error:s}=await je.auth.signUp({email:r.email,password:r.password,options:{data:{username:r.username,role:r.role||"user",permissions:r.permissions}}});return n.user&&!s&&await je.from("user_profiles").insert({id:n.user.id,username:r.username,role:r.role||"user",permissions:r.permissions}),gt({success:!0,message:"Kullanc eklendi."},s)},delete:async r=>{const{error:n}=await je.from("user_profiles").delete().eq("id",r);return gt({success:!0,message:"Kullanc silindi"},n)},updatePermissions:async(r,{permissions:n})=>{const{error:s}=await je.from("user_profiles").update({permissions:n}).eq("id",r);return gt({success:!0,message:"Yetkiler gncellendi"},s)}},mi={getAll:async()=>{const{data:r,error:n}=await je.from("held_sales").select("*");return gt({success:!0,held_sales:r||[]},n)},add:async r=>{const{error:n}=await je.from("held_sales").insert([r]);return gt({success:!0,message:"Sat beklemeye alnd"},n)},delete:async r=>{const{error:n}=await je.from("held_sales").delete().eq("id",r);return gt({success:!0,message:"Silindi"},n)}},Cs={get:async()=>({data:{}}),post:async()=>({data:{}}),put:async()=>({data:{}}),delete:async()=>({data:{}})},n0=T.createContext(null),Ys=()=>{const r=T.useContext(n0);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},Qw=({children:r})=>{const[n,s]=T.useState(null),[i,c]=T.useState(!0);T.useEffect(()=>{const y=localStorage.getItem("user"),v=localStorage.getItem("auth_token");if(y&&v)try{const x=JSON.parse(y);(x.username?.toLowerCase()==="admin"||x.email?.includes("admin"))&&(x.role="kurucu"),s(x)}catch{localStorage.removeItem("user"),localStorage.removeItem("auth_token")}c(!1)},[]);const g={user:n,loading:i,login:async y=>{(y.username?.toLowerCase()==="admin"||y.email?.includes("admin"))&&(y.role="kurucu"),s(y),localStorage.setItem("user",JSON.stringify(y))},logout:async()=>{await a0.logout(),s(null),localStorage.removeItem("user"),localStorage.removeItem("auth_token"),window.location.href="/login"},hasPermission:y=>!0,isAuthenticated:!0,isKurucu:!0};return d.jsx(n0.Provider,{value:g,children:!i&&r})},r0=T.createContext();function Pw({children:r}){const[n,s]=T.useState(!0),i=()=>s(f=>!f),c=()=>s(!0),h=()=>s(!1);return d.jsx(r0.Provider,{value:{sidebarOpen:n,setSidebarOpen:s,toggleSidebar:i,openSidebar:c,closeSidebar:h},children:r})}function Ni(){const r=T.useContext(r0);if(!r)throw new Error("useSidebar must be used within a SidebarProvider");return r}function _r({children:r,permission:n}){const{isAuthenticated:s,loading:i,hasPermission:c}=Ys();return ia(),r}const Iw=[{path:"/",label:"Sat",icon:"",permission:"can_view_pos"},{path:"/products",label:"rnler",icon:"",permission:"can_view_products"},{path:"/customers",label:"Mteriler",icon:"",permission:"can_view_customers"},{path:"/sales",label:"Satlar",icon:"",permission:"can_view_sales"},{path:"/invoices",label:"Faturalar",icon:"",permission:"can_view_invoices"},{path:"/users",label:"Kullanclar",icon:"",permission:"can_view_users"}];function Sr({children:r}){const{user:n,logout:s,hasPermission:i}=Ys(),c=ia(),{sidebarOpen:h,toggleSidebar:f}=Ni(),p=Iw.filter(g=>i(g.permission));return d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[d.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:d.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:f,className:"hidden md:flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 transition-all duration-300 transform hover:-translate-y-0.5 active:translate-y-0 font-medium text-sm backdrop-blur-sm border border-white/10 group",children:[d.jsxs("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})]}),d.jsx("span",{children:h?"Meny Kapat":"Meny Gster"})]}),d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xl",children:""})}),d.jsx("span",{className:"font-bold text-xl text-gray-800 hidden sm:block",children:"KasaPos"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-sm text-gray-600 hidden sm:block",children:[n?.username,d.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full text-xs",children:n?.role==="kurucu"?"Kurucu":"alan"})]}),d.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"k Yap",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})})}),d.jsx("main",{className:"flex-1 pb-20 md:pb-6",children:r}),d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-50",children:d.jsx("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:p.slice(0,5).map(g=>d.jsxs(zs,{to:g.path,className:`flex flex-col items-center justify-center py-2 rounded-xl transition-colors ${c.pathname===g.path?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-50"}`,children:[d.jsx("span",{className:"text-xl",children:g.icon}),d.jsx("span",{className:"text-xs mt-1 font-medium",children:g.label})]},g.path))})}),d.jsx("aside",{className:`
                hidden md:block fixed left-0 top-16 bottom-0 w-64 bg-white border-r border-gray-200 overflow-y-auto
                transform transition-transform duration-300 z-[60]
                ${h?"translate-x-0":"-translate-x-full"}
            `,children:d.jsx("nav",{className:"p-4 space-y-1",children:p.map(g=>d.jsxs(zs,{to:g.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-colors ${c.pathname===g.path?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[d.jsx("span",{className:"text-xl",children:g.icon}),d.jsx("span",{children:g.label})]},g.path))})}),h&&d.jsx("div",{className:"hidden md:block w-64 flex-shrink-0"})]})}function Zw(){const[r,n]=T.useState(""),[s,i]=T.useState(""),[c,h]=T.useState(!1),[f,p]=T.useState(""),g=Ec(),{login:y}=Ys(),v=async x=>{x.preventDefault(),p(""),h(!0);try{const E=await a0.login(r,s);E.status===200&&(y(E.data.user),g("/"))}catch(E){const S=E.response?.data?.message||E.response?.data?.error||"Giri baarsz. Ltfen bilgilerinizi kontrol edin.";p(S)}finally{h(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 p-4",children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-lg rounded-2xl mb-4",children:d.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),d.jsx("h1",{className:"text-3xl font-bold text-white",children:"KasaPos"}),d.jsx("p",{className:"text-white/70 mt-2",children:"Sat ve Stok Ynetim Sistemi"})]}),d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",children:[d.jsx("h2",{className:"text-xl font-semibold text-white mb-6 text-center",children:"Giri Yap"}),f&&d.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-400/30 rounded-xl text-red-200 text-sm text-center",children:f}),d.jsxs("form",{onSubmit:v,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Kullanc Ad"}),d.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all",placeholder:"Kullanc adnz girin",required:!0,autoComplete:"username"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"ifre"}),d.jsx("input",{type:"password",value:s,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent transition-all",placeholder:"",required:!0,autoComplete:"current-password"})]}),d.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 bg-white text-indigo-700 font-semibold rounded-xl hover:bg-white/90 focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-5 h-5 border-2 border-indigo-700/30 border-t-indigo-700 rounded-full animate-spin"}),"Giri yaplyor..."]}):"Giri Yap"})]})]}),d.jsx("p",{className:"text-center text-white/50 text-sm mt-6",children:" 2026 KasaPos - Tm haklar sakldr."})]})})}function Fw(){const{user:r,logout:n}=Ys(),[s,i]=T.useState([]),[c,h]=T.useState(["Tm"]),[f,p]=T.useState("Tm"),[g,y]=T.useState(""),[v,x]=T.useState(""),[E,S]=T.useState([]),[C,D]=T.useState(null),[$,k]=T.useState("Toptan Sat"),[B,q]=T.useState([]),[V,I]=T.useState(!1),[W,Z]=T.useState(!1),[re,oe]=T.useState(!1),[Ae,Qe]=T.useState(!1),[ve,Te]=T.useState(!1),[Ee,Ge]=T.useState([]),[N,Q]=T.useState(""),[z,L]=T.useState("");T.useEffect(()=>{R(),_(),K()},[]);const R=async()=>{try{const Me=((await Tr.getAll()).data||{}).products||[];i(Me);const Ve=["Tm",...new Set(Me.map(Ur=>Ur.group).filter(Boolean))];h(Ve)}catch(F){console.error("rnler yklenirken hata:",F)}},_=async()=>{try{const F=await kn.getAll();q(F.data?.customers||[])}catch(F){console.error("Mteriler yklenirken hata:",F)}},K=async()=>{try{const F=await mi.getAll();Ge(F.data?.held_sales||[])}catch(F){console.error("Bekleyen satlar yklenirken hata:",F)}},w=s.filter(F=>{const me=f==="Tm"||F.group===f,Me=F.name?.toLowerCase().includes(g.toLowerCase())||F.barcode?.includes(g)||F.stock_code?.toLowerCase().includes(g.toLowerCase());return me&&Me}),P=F=>{const me=E.findIndex(Me=>Me.stock_code===F.stock_code);if(me>=0){const Me=[...E];Me[me].quantity+=1,S(Me)}else S([...E,{...F,quantity:1,discount_rate:0}])},ee=F=>{if(F.key==="Enter"&&v.trim()){const me=s.find(Me=>Me.barcode===v.trim()||Me.stock_code?.toLowerCase()===v.trim().toLowerCase());me?(P(me),x("")):alert("rn bulunamad: "+v)}},le=(F,me,Me)=>{const Ve=[...E];Ve[F][me]=Me,S(Ve),Z(!1),oe(!1),Qe(!1)},xe=F=>{S(E.filter((me,Me)=>Me!==F)),D(null)},Pe=()=>E.reduce((F,me)=>{const Me=me.price*me.quantity,Ve=Me*(me.discount_rate||0)/100;return F+(Me-Ve)},0),ke=async F=>{if(E.length===0){alert("Sepet bo!");return}try{const me="SLS-"+Date.now(),Me=B.find(Ve=>Ve.name===$);await xc.complete({sale_code:me,customer:Me||null,payment_method:F,items:E.map(Ve=>({id:Ve.id,stock_code:Ve.stock_code,name:Ve.name,quantity:Ve.quantity,price:Ve.price,discount_rate:Ve.discount_rate||0,amount:Ve.quantity})),total:Pe()}),L("Sat lemi Baarl"),setTimeout(()=>L(""),2e3),S([]),k("Toptan Sat"),R()}catch(me){alert("Sat hatas: "+(me.response?.data?.message||me.message))}},Ie=async()=>{if(E.length!==0)try{await mi.add({customer:$,items:E}),S([]),k("Toptan Sat"),K()}catch(F){alert("Beklemeye alma hatas: "+F.message)}},Oa=async F=>{S(F.items||[]),k(F.customer||"Toptan Sat");try{await mi.delete(F.id),K()}catch(me){console.error("Bekleyen sat silme hatas:",me)}Te(!1)},Dr=async F=>{try{await mi.delete(F),K()}catch(me){alert("Silme hatas: "+me.message)}};return d.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[z&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:d.jsx("div",{className:"bg-green-500 text-white px-16 py-8 rounded-xl shadow-2xl text-3xl font-bold animate-pulse",children:z})}),d.jsxs("div",{className:"flex-1 flex gap-3 p-3 overflow-hidden",children:[d.jsxs("div",{className:"w-[35%] bg-white rounded-xl shadow-md p-4 flex flex-col",children:[d.jsxs("div",{className:"relative mb-4 group",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:d.jsx("span",{className:"text-gray-400 text-xl",children:""})}),d.jsx("input",{type:"text",value:v,onChange:F=>x(F.target.value),onKeyDown:ee,placeholder:"Barkod veya Stok Kodu...",className:"w-full pl-12 pr-4 py-4 text-xl font-bold text-gray-800 bg-gray-50 border-2 border-gray-100 rounded-2xl focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 focus:bg-white transition-all shadow-sm group-hover:shadow-md placeholder-gray-400",autoFocus:!0}),d.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:d.jsx("span",{className:"text-xs font-semibold text-gray-400 bg-gray-200 px-2 py-1 rounded-md",children:"ENTER"})})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:flex gap-3 mb-4",children:[d.jsxs("button",{onClick:Ie,className:"flex-1 px-4 py-3 bg-gradient-to-br from-amber-500 to-orange-600 text-white rounded-xl font-bold shadow-lg shadow-orange-500/30 hover:shadow-orange-500/50 hover:from-amber-600 hover:to-orange-700 hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"text-sm",children:"Beklet"})]}),d.jsxs("button",{onClick:()=>Te(!0),className:"flex-1 px-4 py-3 bg-gradient-to-br from-purple-500 to-violet-600 text-white rounded-xl font-bold shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 hover:from-purple-600 hover:to-violet-700 hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"text-sm",children:"Listem"})]}),d.jsxs("button",{onClick:()=>I(!0),className:"flex-[1.5] px-4 py-3 bg-gradient-to-br from-cyan-500 to-blue-600 text-white rounded-xl font-bold shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50 hover:from-cyan-600 hover:to-blue-700 hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"text-sm",children:"Mteri Se"})]}),d.jsxs("div",{className:"flex-[2] px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl font-bold text-gray-700 flex items-center gap-3 shadow-inner overflow-hidden",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-sm flex-shrink-0",children:$.charAt(0).toUpperCase()}),d.jsx("span",{className:"truncate",children:$})]})]}),d.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex flex-col",style:{maxHeight:"calc(100vh - 480px)",minHeight:"150px"},children:[d.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_1fr_0.5fr_1fr_1fr_0.2fr] gap-1 p-2 bg-gray-100 border-b-2 border-gray-300 text-sm font-bold text-gray-700",children:[d.jsx("div",{children:"rn Ad"}),d.jsx("div",{children:"Adet"}),d.jsx("div",{children:"Fiyat"}),d.jsx("div",{children:"sk.%"}),d.jsx("div",{children:"sk.Sonras"}),d.jsx("div",{children:"Toplam"}),d.jsx("div",{})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:E.map((F,me)=>{const Ve=F.price*F.quantity*(1-(F.discount_rate||0)/100);return d.jsxs("div",{onClick:()=>D(me),className:`grid grid-cols-[2fr_0.8fr_1fr_0.5fr_1fr_1fr_0.2fr] gap-1 p-2 border-b border-gray-100 text-sm cursor-pointer transition-colors ${C===me?"bg-yellow-200 border-l-4 border-l-blue-500":"hover:bg-gray-50"}`,children:[d.jsx("div",{className:"font-semibold truncate",children:F.name}),d.jsx("div",{className:"bg-red-100 text-center rounded font-bold text-lg",children:F.quantity}),d.jsx("div",{children:F.price?.toFixed(2)}),d.jsx("div",{children:F.discount_rate||0}),d.jsx("div",{children:(F.price*(1-(F.discount_rate||0)/100)).toFixed(2)}),d.jsx("div",{className:"text-green-600 font-bold",children:Ve.toFixed(2)}),d.jsx("button",{onClick:Ur=>{Ur.stopPropagation(),xe(me)},className:"w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:""})]},me)})})]}),d.jsxs("div",{className:"mt-3 space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.jsx("button",{onClick:()=>{C!==null&&(Q(E[C].quantity),Z(!0))},disabled:C===null,className:"p-3 bg-green-500 text-white rounded-lg font-semibold disabled:bg-gray-200 disabled:text-gray-400 hover:bg-green-600",children:"Miktar Dzenle"}),d.jsx("button",{onClick:()=>{C!==null&&(Q(E[C].discount_rate||0),oe(!0))},disabled:C===null,className:"p-3 bg-yellow-500 text-white rounded-lg font-semibold disabled:bg-gray-200 disabled:text-gray-400 hover:bg-yellow-600",children:"skonto Ekle"}),d.jsx("button",{onClick:()=>{C!==null&&(Q(E[C].price),Qe(!0))},disabled:C===null,className:"p-3 bg-cyan-500 text-white rounded-lg font-semibold disabled:bg-gray-200 disabled:text-gray-400 hover:bg-cyan-600",children:"Fiyat Dzenle"}),d.jsx("button",{onClick:()=>{C!==null&&xe(C)},disabled:C===null,className:"p-3 bg-gray-500 text-white rounded-lg font-semibold disabled:bg-gray-200 disabled:text-gray-400 hover:bg-gray-600",children:"Sil"})]}),d.jsxs("div",{className:"bg-yellow-300 p-4 rounded-lg flex justify-between items-center text-2xl font-normal",children:[d.jsx("span",{children:"Genel Toplam"}),d.jsxs("span",{className:"font-bold",children:[Pe().toFixed(2)," TL"]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsx("button",{onClick:()=>ke("Nakit"),className:"p-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600",children:"Nakit"}),d.jsx("button",{onClick:()=>ke("POS"),className:"p-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600",children:"POS"}),d.jsx("button",{onClick:()=>ke("Ak Hesap"),className:"p-3 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600",children:"Ak Hesap"})]})]})]}),d.jsxs("div",{className:"w-[65%] bg-white rounded-xl shadow-md p-4 flex flex-col",children:[d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("input",{type:"text",value:g,onChange:F=>y(F.target.value),placeholder:"rn ara...",className:"flex-1 p-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500"}),d.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600",children:"Barkod Oku"})]}),d.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-2 mb-3",children:c.map(F=>d.jsx("button",{onClick:()=>p(F),className:`p-3 h-20 border-2 rounded-xl font-bold text-sm text-center transition-all ${f===F?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-200 hover:border-blue-500 hover:text-blue-500"}`,children:F},F))}),d.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-0 content-start",children:w.map(F=>d.jsxs("div",{onClick:()=>P(F),className:"h-28 border border-gray-200 rounded-lg cursor-pointer transition-all hover:shadow-lg hover:-translate-y-1 relative overflow-hidden bg-white",children:[F.image_url?d.jsx("img",{src:F.image_url,alt:"",className:"absolute inset-0 w-full h-full object-contain p-1"}):d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-4xl text-gray-300",children:""}),d.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-center",children:[d.jsx("div",{className:"text-xs font-semibold p-1 line-clamp-2",children:F.name}),d.jsxs("div",{className:"text-sm font-bold pb-1",children:[F.price?.toFixed(2)," TL"]})]})]},F.id||F.stock_code))})]})]}),V&&d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Mteri Se"}),d.jsx("button",{onClick:()=>I(!1),className:"text-3xl text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("input",{type:"text",placeholder:"Mteri ara...",className:"w-full p-3 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:border-blue-500"}),d.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded-lg",children:B.map(F=>d.jsx("div",{onClick:()=>{k(F.name),I(!1)},className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 text-lg font-medium",children:F.name},F.id))})]})}),W&&d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-xl p-8 w-96 text-center",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Miktar Dzenle"}),d.jsx("p",{className:"text-gray-500 mb-4",children:E[C]?.name}),d.jsx("input",{type:"number",value:N,onChange:F=>Q(F.target.value),className:"w-full p-4 text-3xl text-center border-2 border-blue-500 rounded-lg mb-4 focus:outline-none",min:"1"}),d.jsx("button",{onClick:()=>le(C,"quantity",parseInt(N)||1),className:"w-full p-4 bg-blue-500 text-white text-xl font-semibold rounded-lg hover:bg-blue-600",children:"Kaydet"})]})}),re&&d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-xl p-8 w-96 text-center",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"skonto Ekle (%)"}),d.jsx("p",{className:"text-gray-500 mb-4",children:E[C]?.name}),d.jsx("input",{type:"number",value:N,onChange:F=>Q(F.target.value),className:"w-full p-4 text-3xl text-center border-2 border-blue-500 rounded-lg mb-4 focus:outline-none",min:"0",max:"100"}),d.jsx("button",{onClick:()=>le(C,"discount_rate",parseFloat(N)||0),className:"w-full p-4 bg-blue-500 text-white text-xl font-semibold rounded-lg hover:bg-blue-600",children:"Kaydet"})]})}),Ae&&d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-xl p-8 w-96 text-center",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Fiyat Dzenle"}),d.jsx("p",{className:"text-gray-500 mb-4",children:E[C]?.name}),d.jsx("input",{type:"number",step:"0.01",value:N,onChange:F=>Q(F.target.value),className:"w-full p-4 text-3xl text-center border-2 border-blue-500 rounded-lg mb-4 focus:outline-none",min:"0"}),d.jsx("button",{onClick:()=>le(C,"price",parseFloat(N)||0),className:"w-full p-4 bg-blue-500 text-white text-xl font-semibold rounded-lg hover:bg-blue-600",children:"Kaydet"})]})}),ve&&d.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Bekleme Listesi"}),d.jsx("button",{onClick:()=>Te(!1),className:"text-3xl text-gray-400 hover:text-gray-600",children:""})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:Ee.length===0?d.jsx("p",{className:"text-center text-gray-500 py-8",children:"Bekleyen sat yok"}):Ee.map(F=>d.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 hover:bg-blue-50",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-gray-800",children:F.customer}),d.jsxs("p",{className:"text-sm text-gray-500",children:[F.items?.length," rn"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>Oa(F),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Geri Ykle"}),d.jsx("button",{onClick:()=>Dr(F.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Sil"})]})]},F.id))})]})}),d.jsx("style",{jsx:!0,children:`
        .menu-btn {
          display: flex;
          align-items: center;
          padding: 10px 16px;
          background-color: #e9f2ff;
          color: #007bff;
          border: none;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          text-decoration: none;
        }
        .menu-btn:hover {
          background-color: #007bff;
          color: white;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
      `})]})}function Ww(){const[r,n]=T.useState([]),[s,i]=T.useState(!0),[c,h]=T.useState(!1),[f,p]=T.useState(!1),[g,y]=T.useState(null),{sidebarOpen:v}=Ni(),[x,E]=T.useState(!1),[S,C]=T.useState({name:"",stockCode:"",barcode:"",brand:"",group:"",priceMin:"",priceMax:"",displayLimit:"100"}),[D,$]=T.useState({key:"name",direction:"asc"}),[k,B]=T.useState({name:"",stock_code:"",barcode:"",price:"",stock:"",group:"",brand:""});T.useEffect(()=>{q()},[]);const q=async()=>{try{const z=await Tr.getAll();n(z.data?.products||[])}catch(z){console.error("rnler yklenirken hata:",z)}finally{i(!1)}},V=z=>typeof z!="string"?"":z.toLowerCase().replace(//g,"g").replace(//g,"u").replace(//g,"s").replace(//g,"i").replace(//g,"o").replace(//g,"c"),I=()=>{let z=[...r];if(S.name){const L=V(S.name);z=z.filter(R=>V(R.name).includes(L))}if(S.stockCode){const L=V(S.stockCode);z=z.filter(R=>V(R.stock_code).includes(L))}if(S.barcode){const L=V(S.barcode);z=z.filter(R=>V(R.barcode).includes(L))}if(S.brand){const L=V(S.brand);z=z.filter(R=>V(R.brand).includes(L))}if(S.group){const L=V(S.group);z=z.filter(R=>V(R.group).includes(L))}if(S.priceMin){const L=parseFloat(S.priceMin);isNaN(L)||(z=z.filter(R=>R.price>=L))}if(S.priceMax){const L=parseFloat(S.priceMax);isNaN(L)||(z=z.filter(R=>R.price<=L))}if(z.sort((L,R)=>{const _=D.key;if(L[_]==null||R[_]==null)return 0;if(_==="stock"||_==="price"){const w=parseFloat(L[_])||0,P=parseFloat(R[_])||0;return D.direction==="asc"?w-P:P-w}const K=String(L[_]).toLowerCase().localeCompare(String(R[_]).toLowerCase(),"tr");return D.direction==="asc"?K:-K}),S.displayLimit!=="all"){const L=parseInt(S.displayLimit);return{products:z.slice(0,L),total:z.length}}return{products:z,total:z.length}},{products:W,total:Z}=I(),re=z=>{$(L=>({key:z,direction:L.key===z&&L.direction==="asc"?"desc":"asc"}))},oe=z=>D.key!==z?"":D.direction==="asc"?"":"",Ae=()=>{C({name:"",stockCode:"",barcode:"",brand:"",group:"",priceMin:"",priceMax:"",displayLimit:"100"})},Qe=()=>{y(null),B({name:"",stock_code:"",barcode:"",price:"",stock:"",group:"",brand:""}),h(!0)},ve=z=>{y(z),B({name:z.name||"",stock_code:z.stock_code||"",barcode:z.barcode||"",price:z.price?.toString()||"",stock:z.stock?.toString()||"",group:z.group||"",brand:z.brand||""}),h(!0)},Te=z=>{y(z),p(!0)},Ee=async z=>{z.preventDefault();try{const L={...k,price:parseFloat(k.price)||0,stock:parseInt(k.stock)||0};g?await Tr.update(g.stock_code,L):await Tr.add(L),h(!1),q()}catch(L){alert("Hata: "+(L.response?.data?.message||L.message))}},Ge=async z=>{if(confirm("Bu rn silmek istediinizden emin misiniz?"))try{await Tr.delete(z),q()}catch(L){alert("Silme hatas: "+(L.response?.data?.message||L.message))}},N=async z=>{z.preventDefault();const L=z.target.querySelector('input[type="file"]');if(!L.files[0])return;const R=new FormData;R.append("product_image",L.files[0]);try{await Tr.updateImage(g.stock_code,R),p(!1),q()}catch(_){alert("Resim ykleme hatas: "+(_.response?.data?.message||_.message))}},Q=z=>{const L=parseInt(z)||0;return L<=0?"text-red-600 font-bold":L<10?"text-amber-600 font-bold":"text-gray-800"};return s?d.jsx("div",{className:`md:ml-64 flex items-center justify-center min-h-96 transition-all duration-300 ${v?"":"md:!ml-0"}`,children:d.jsx("div",{className:"spinner"})}):d.jsxs("div",{className:`md:ml-64 flex h-[calc(100vh-0px)] transition-all duration-300 ${v?"":"md:!ml-0"}`,children:[x&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>E(!1)}),d.jsxs("aside",{className:`
                fixed lg:static inset-y-0 left-0 z-50
                w-72 bg-white border-r border-gray-200 p-5 overflow-y-auto
                transform transition-transform duration-300
                ${x?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-5 flex items-center gap-2",children:[d.jsx("span",{children:""})," Filtreleme"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"rn Ad"}),d.jsx("input",{type:"text",value:S.name,onChange:z=>C({...S,name:z.target.value}),placeholder:"rn adna gre ara",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Stok Kodu"}),d.jsx("input",{type:"text",value:S.stockCode,onChange:z=>C({...S,stockCode:z.target.value}),placeholder:"Stok koduna gre ara",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Barkod"}),d.jsx("input",{type:"text",value:S.barcode,onChange:z=>C({...S,barcode:z.target.value}),placeholder:"Barkoda gre ara",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Marka"}),d.jsx("input",{type:"text",value:S.brand,onChange:z=>C({...S,brand:z.target.value}),placeholder:"Markaya gre ara",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Grup"}),d.jsx("input",{type:"text",value:S.group,onChange:z=>C({...S,group:z.target.value}),placeholder:"Gruba gre ara",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Fiyat Aral"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"number",value:S.priceMin,onChange:z=>C({...S,priceMin:z.target.value}),placeholder:"Min",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.jsx("input",{type:"number",value:S.priceMax,onChange:z=>C({...S,priceMax:z.target.value}),placeholder:"Max",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Grntleme Limiti"}),d.jsxs("select",{value:S.displayLimit,onChange:z=>C({...S,displayLimit:z.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[d.jsx("option",{value:"50",children:"50 rn"}),d.jsx("option",{value:"100",children:"100 rn (Varsaylan)"}),d.jsx("option",{value:"1000",children:"1000 rn"}),d.jsx("option",{value:"all",children:"Tm rnler"})]})]})]}),d.jsx("div",{className:"mt-8 pt-4 border-t border-gray-200",children:d.jsx("button",{onClick:Ae,className:"w-full py-2.5 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:" Temizle"})})]}),d.jsxs("main",{className:"flex-1 p-5 overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-5",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>E(!0),className:"lg:hidden p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" rn Ynetimi"}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Z," rn kaytl"]})]})]}),d.jsxs("button",{onClick:Qe,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-medium hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2 justify-center",children:[d.jsx("span",{children:""})," Yeni rn"]})]}),d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase w-16",children:"Resim"}),d.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("stock_code"),children:["Stok Kodu ",oe("stock_code")]}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Barkod"}),d.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("name"),children:["rn Ad ",oe("name")]}),d.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("brand"),children:["Marka ",oe("brand")]}),d.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("group"),children:["Grup ",oe("group")]}),d.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("stock"),children:["Stok ",oe("stock")]}),d.jsxs("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("price"),children:["Fiyat ",oe("price")]}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 uppercase",children:"lemler"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:W.map(z=>d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-3",children:z.image_url?d.jsx("img",{src:z.image_url,alt:"",className:"w-10 h-10 object-cover rounded-lg border border-gray-200"}):d.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:""})}),d.jsx("td",{className:"px-4 py-3 font-mono text-sm text-blue-600",children:z.stock_code}),d.jsx("td",{className:"px-4 py-3 font-mono text-sm text-gray-500",children:z.barcode||"-"}),d.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:z.name}),d.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.brand||"-"}),d.jsx("td",{className:"px-4 py-3",children:z.group&&d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:z.group})}),d.jsx("td",{className:`px-4 py-3 ${Q(z.stock)}`,children:z.stock}),d.jsxs("td",{className:"px-4 py-3 font-semibold text-gray-800",children:["",parseFloat(z.price).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),d.jsx("td",{className:"px-4 py-3 text-right",children:d.jsxs("div",{className:"flex justify-end gap-1",children:[d.jsx("button",{onClick:()=>Te(z),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Resim Ykle",children:""}),d.jsx("button",{onClick:()=>ve(z),className:"p-1.5 text-gray-500 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Dzenle",children:""}),d.jsx("button",{onClick:()=>Ge(z.stock_code),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:""})]})})]},z.stock_code))})]}),W.length===0&&d.jsx("div",{className:"text-center py-12 text-gray-500",children:"Henz rn yok."})]})})]}),c&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"p-6 border-b border-gray-100",children:d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:g?" rn Dzenle":" Yeni rn Ekle"})}),d.jsxs("form",{onSubmit:Ee,className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"rn Ad *"}),d.jsx("input",{type:"text",value:k.name,onChange:z=>B({...k,name:z.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stok Kodu *"}),d.jsx("input",{type:"text",value:k.stock_code,onChange:z=>B({...k,stock_code:z.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:!!g})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Barkod"}),d.jsx("input",{type:"text",value:k.barcode,onChange:z=>B({...k,barcode:z.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fiyat"}),d.jsx("input",{type:"number",step:"0.01",value:k.price,onChange:z=>B({...k,price:z.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stok Miktar"}),d.jsx("input",{type:"number",value:k.stock,onChange:z=>B({...k,stock:z.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marka"}),d.jsx("input",{type:"text",value:k.brand,onChange:z=>B({...k,brand:z.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grup"}),d.jsx("input",{type:"text",value:k.group,onChange:z=>B({...k,group:z.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50",children:"ptal"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:g?"Gncelle":"Kaydet"})]})]})]})}),f&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" Resim Gncelle"}),d.jsxs("form",{onSubmit:N,className:"space-y-4",children:[d.jsx("input",{type:"file",accept:"image/*",className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-200 rounded-xl hover:bg-gray-50",children:"ptal"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Ykle"})]})]})]})})]})}function e_(){const[r,n]=T.useState([]),[s,i]=T.useState(!0),[c,h]=T.useState(""),[f,p]=T.useState("Tm"),[g,y]=T.useState("Aktif"),[v,x]=T.useState(null),[E,S]=T.useState("asc"),[C,D]=T.useState(!1),[$,k]=T.useState(!1),[B,q]=T.useState(null),[V,I]=T.useState({customer_code:"",name:"",company:"",group:"Cari",is_active:!0,address:"",city:"",district:"",zip_code:"",country:"",tax_office:"",tax_number:""}),[W,Z]=T.useState(!1),[re,oe]=T.useState({customer_id:"",amount:"",description:"deme",payment_type:"Nakit"});T.useEffect(()=>{Ae()},[]);const Ae=async()=>{try{const w=await kn.getAll();n(w.data?.customers||[])}catch(w){console.error("Mteriler yklenirken hata:",w)}finally{i(!1)}},Qe=["Tm","Cari","Perakende","Firmalar"],ve=["Tm","Aktif","Pasif"],Te=r.filter(w=>{const P=w.is_active!==!1;return!(g==="Aktif"&&!P||g==="Pasif"&&P||f!=="Tm"&&(w.group||"Cari")!==f||c&&!`${w.customer_code||""} ${w.name} ${w.city} ${w.district}`.toLowerCase().includes(c.toLowerCase()))}).sort((w,P)=>{if(!v)return 0;let ee=w[v],le=P[v];return v==="balance"?(ee=parseFloat(w.balance)||0,le=parseFloat(P.balance)||0,E==="asc"?ee-le:le-ee):(ee=(ee||"").toString(),le=(le||"").toString(),E==="asc"?ee.localeCompare(le,"tr"):le.localeCompare(ee,"tr"))}),Ee=w=>{v===w?S(E==="asc"?"desc":"asc"):(x(w),S("asc"))},Ge=()=>{I({customer_code:"",name:"",company:"",group:"Cari",is_active:!0,address:"",city:"",district:"",zip_code:"",country:"",tax_office:"",tax_number:""}),D(!0)},N=w=>{q(w),I({customer_code:w.customer_code||"",name:w.name||"",company:w.company||"",group:w.group||"Cari",is_active:w.is_active!==!1,address:w.address||"",city:w.city||"",district:w.district||"",zip_code:w.zip_code||"",country:w.country||"",tax_office:w.tax_office||"",tax_number:w.tax_number||""}),k(!0)},Q=async()=>{if(!V.name.trim()){alert("Mteri ad bo braklamaz.");return}try{const w=await kn.add(V);w.data?.success?(alert(w.data.message),D(!1),Ae()):alert("Hata: "+w.data?.message)}catch(w){alert("Mteri eklenirken hata: "+(w.response?.data?.message||w.message))}},z=async()=>{if(B)try{const w=await kn.update(B.id,V);w.data?.success?(alert(w.data.message),k(!1),Ae()):alert("Gncelleme hatas: "+w.data?.message)}catch(w){alert("Gncelleme hatas: "+(w.response?.data?.message||w.message))}},L=async w=>{const P=prompt("Silme ilemini onaylamak iin ifre girin:");if(P!=="27282930"){P!==null&&alert("Hatal ifre!");return}if(confirm("Kalc olarak silmek istediinize emin misiniz?"))try{const ee=await kn.delete(w);alert(ee.data?.message),ee.data?.success&&Ae()}catch(ee){alert("Silme hatas: "+(ee.response?.data?.message||ee.message))}},R=async()=>{if(!re.customer_id||!re.amount){alert("Ltfen mteri sein ve tutar girin.");return}try{const w=await kn.addPayment(re);w.data?.success?(alert("deme baaryla alnd."),Z(!1),Ae(),oe({customer_id:"",amount:"",description:"deme",payment_type:"Nakit"})):alert("Hata: "+w.data?.message)}catch(w){alert("deme hatas: "+(w.response?.data?.message||w.message))}},_=()=>{const w=["Mteri Kodu","Ksa Ad","Firma","Grubu","Durum","Bakiye","ehir","le","Adres","Vergi Dairesi","Vergi No"],P=Te.map(Ie=>[Ie.customer_code||"",Ie.name||"",Ie.company||"",Ie.group||"Cari",Ie.is_active!==!1?"Aktif":"Pasif",(parseFloat(Ie.balance)||0).toFixed(2),Ie.city||"",Ie.district||"",Ie.address||"",Ie.tax_office||"",Ie.tax_number||""]),le="\uFEFF"+[w,...P].map(Ie=>Ie.map(Oa=>`"${String(Oa).replace(/"/g,'""')}"`).join(";")).join(`
`),xe=new Blob([le],{type:"text/csv;charset=utf-8"}),Pe=URL.createObjectURL(xe),ke=document.createElement("a");ke.href=Pe,ke.download=`Musteriler_${new Date().toISOString().split("T")[0]}.csv`,ke.click(),URL.revokeObjectURL(Pe)},K=w=>w?new Date(w).toLocaleString("tr-TR"):"-";return s?d.jsx("div",{className:"flex items-center justify-center min-h-96",children:d.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsxs("header",{className:"bg-white px-6 py-4 shadow-md flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Mteriler"}),d.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d.jsx("button",{onClick:()=>Z(!0),className:"menu-btn",style:{backgroundColor:"#6f42c1",color:"white"},children:" Mteriden deme Al"}),d.jsx("button",{onClick:_,className:"menu-btn",style:{backgroundColor:"#17a2b8",color:"white"},children:"Excel ndir"}),d.jsx("button",{onClick:Ge,className:"menu-btn",children:"Yeni Mteri Ekle"}),d.jsx("button",{className:"menu-btn",style:{backgroundColor:"#28a745",color:"white"},children:"Excel Ykle"})]})]}),d.jsx("div",{className:"p-5",children:d.jsxs("div",{className:"flex gap-5",children:[d.jsxs("div",{className:"w-64 bg-white rounded-lg shadow-md p-5 h-fit flex-shrink-0",children:[d.jsx("h3",{className:"text-lg font-semibold border-b-2 border-gray-100 pb-2 mb-4",children:"Filtreleme"}),d.jsxs("div",{className:"mb-5",children:[d.jsx("label",{className:"block mb-1 font-bold text-gray-600 text-sm",children:"Hesap Durumu:"}),d.jsx("select",{value:g,onChange:w=>y(w.target.value),className:"w-full p-2 border border-gray-300 rounded",children:ve.map(w=>d.jsx("option",{value:w,children:w==="Aktif"?"Sadece Aktifler":w==="Pasif"?"Sadece Pasifler":w},w))})]}),d.jsxs("div",{className:"mb-5",children:[d.jsx("label",{className:"block mb-1 font-bold text-gray-600 text-sm",children:"Mteri Grubu:"}),d.jsx("select",{value:f,onChange:w=>p(w.target.value),className:"w-full p-2 border border-gray-300 rounded",children:Qe.map(w=>d.jsx("option",{value:w,children:w},w))})]}),d.jsxs("div",{className:"mb-5",children:[d.jsx("label",{className:"block mb-1 font-bold text-gray-600 text-sm",children:"Arama:"}),d.jsx("input",{type:"text",value:c,onChange:w=>h(w.target.value),placeholder:"Ad, Kod, ehir vb. ara...",className:"w-full p-2 border border-gray-300 rounded"})]})]}),d.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md p-5 overflow-x-auto",children:d.jsxs("table",{className:"w-full border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{onClick:()=>Ee("customer_code"),className:"border border-gray-200 p-2 text-left bg-gray-50 cursor-pointer hover:bg-gray-100 font-semibold",children:"Mteri Kodu"}),d.jsx("th",{onClick:()=>Ee("name"),className:"border border-gray-200 p-2 text-left bg-gray-50 cursor-pointer hover:bg-gray-100 font-semibold",children:"Ksa Ad"}),d.jsx("th",{onClick:()=>Ee("group"),className:"border border-gray-200 p-2 text-left bg-gray-50 cursor-pointer hover:bg-gray-100 font-semibold",children:"Grubu"}),d.jsx("th",{className:"border border-gray-200 p-2 text-left bg-gray-50 font-semibold",children:"Durum"}),d.jsx("th",{onClick:()=>Ee("balance"),className:"border border-gray-200 p-2 text-left bg-gray-50 cursor-pointer hover:bg-gray-100 font-semibold",children:"Bakiye"}),d.jsx("th",{className:"border border-gray-200 p-2 text-left bg-gray-50 font-semibold",children:"Bakiye Durumu"}),d.jsx("th",{className:"border border-gray-200 p-2 text-left bg-gray-50 font-semibold",children:"Son lem Tarihi"}),d.jsx("th",{className:"border border-gray-200 p-2 text-left bg-gray-50 font-semibold",children:"lemler"})]})}),d.jsx("tbody",{children:Te.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"border border-gray-200 p-4 text-center text-gray-500",children:"Kriterlere uygun kayt bulunamad."})}):Te.map(w=>{const P=parseFloat(w.balance)||0,ee=w.is_active!==!1;return d.jsxs("tr",{className:ee?"":"opacity-60 bg-gray-50",children:[d.jsx("td",{className:"border border-gray-200 p-2 font-bold",children:w.customer_code||"-"}),d.jsx("td",{className:"border border-gray-200 p-2",children:w.name}),d.jsx("td",{className:"border border-gray-200 p-2",children:w.group||"Cari"}),d.jsx("td",{className:"border border-gray-200 p-2",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold text-white ${ee?"bg-green-500":"bg-gray-500"}`,children:ee?"Aktif":"Pasif"})}),d.jsxs("td",{className:`border border-gray-200 p-2 font-bold ${P>0?"text-red-500":P<0?"text-green-500":""}`,children:[P.toFixed(2)," TL"]}),d.jsx("td",{className:`border border-gray-200 p-2 ${P>0?"text-red-500":P<0?"text-green-500":""}`,children:P>0?"Borlu":P<0?"Alacakl":"Ntr"}),d.jsx("td",{className:"border border-gray-200 p-2",children:K(w.last_transaction_date)}),d.jsx("td",{className:"border border-gray-200 p-2",children:d.jsxs("div",{className:"flex gap-1 flex-wrap",children:[d.jsx(zs,{to:`/customer/${encodeURIComponent(w.name)}`,className:"px-2 py-1 text-xs border border-gray-300 rounded bg-gray-100 hover:bg-gray-200",children:"Detaylar"}),d.jsx("button",{onClick:()=>N(w),className:"px-2 py-1 text-xs border border-gray-300 rounded bg-gray-100 hover:bg-gray-200",children:"Dzenle"}),d.jsx("button",{onClick:()=>L(w.id),className:"px-2 py-1 text-xs border-none rounded bg-red-500 text-white hover:bg-red-600",children:"Sil"})]})})]},w.id)})})]})})]})}),C&&d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-start justify-center pt-12 z-50 overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-lg p-5 w-full max-w-xl mb-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold",children:"Yeni Mteri Ekle"}),d.jsx("button",{onClick:()=>D(!1),className:"text-2xl text-gray-400 hover:text-gray-600",children:""})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Durumu:"}),d.jsxs("select",{value:V.is_active.toString(),onChange:w=>I({...V,is_active:w.target.value==="true"}),className:"w-full p-2 border border-gray-300 rounded",children:[d.jsx("option",{value:"true",children:"Aktif"}),d.jsx("option",{value:"false",children:"Pasif"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Mteri Kodu:"}),d.jsx("input",{type:"text",value:V.customer_code,onChange:w=>I({...V,customer_code:w.target.value}),placeholder:"Bo brakrsanz otomatik retilir (rn: MST-0001)",className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Ksa Ad:"}),d.jsx("input",{type:"text",value:V.name,onChange:w=>I({...V,name:w.target.value}),className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Firma Bilgileri:"}),d.jsx("input",{type:"text",value:V.company,onChange:w=>I({...V,company:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Grubu:"}),d.jsxs("select",{value:V.group,onChange:w=>I({...V,group:w.target.value}),className:"w-full p-2 border border-gray-300 rounded",children:[d.jsx("option",{value:"Cari",children:"Cari"}),d.jsx("option",{value:"Perakende",children:"Perakende"}),d.jsx("option",{value:"Firmalar",children:"Firmalar"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Adresi:"}),d.jsx("input",{type:"text",value:V.address,onChange:w=>I({...V,address:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"l:"}),d.jsx("input",{type:"text",value:V.city,onChange:w=>I({...V,city:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"le:"}),d.jsx("input",{type:"text",value:V.district,onChange:w=>I({...V,district:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Posta Kodu:"}),d.jsx("input",{type:"text",value:V.zip_code,onChange:w=>I({...V,zip_code:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"lke:"}),d.jsx("input",{type:"text",value:V.country,onChange:w=>I({...V,country:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Vergi Dairesi:"}),d.jsx("input",{type:"text",value:V.tax_office,onChange:w=>I({...V,tax_office:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Vergi Numaras:"}),d.jsx("input",{type:"text",value:V.tax_number,onChange:w=>I({...V,tax_number:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]})]}),d.jsx("button",{onClick:Q,className:"w-full mt-4 p-3 bg-blue-500 text-white rounded font-semibold hover:bg-blue-600",children:"Kaydet"})]})]})}),$&&d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-start justify-center pt-12 z-50 overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-lg p-5 w-full max-w-xl mb-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold",children:"Mteri Dzenle"}),d.jsx("button",{onClick:()=>k(!1),className:"text-2xl text-gray-400 hover:text-gray-600",children:""})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Durumu:"}),d.jsxs("select",{value:V.is_active.toString(),onChange:w=>I({...V,is_active:w.target.value==="true"}),className:"w-full p-2 border border-gray-300 rounded",children:[d.jsx("option",{value:"true",children:"Aktif"}),d.jsx("option",{value:"false",children:"Pasif"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Mteri Kodu:"}),d.jsx("input",{type:"text",value:V.customer_code,onChange:w=>I({...V,customer_code:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Ksa Ad:"}),d.jsx("input",{type:"text",value:V.name,onChange:w=>I({...V,name:w.target.value}),className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Firma Bilgileri:"}),d.jsx("input",{type:"text",value:V.company,onChange:w=>I({...V,company:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Grubu:"}),d.jsxs("select",{value:V.group,onChange:w=>I({...V,group:w.target.value}),className:"w-full p-2 border border-gray-300 rounded",children:[d.jsx("option",{value:"Cari",children:"Cari"}),d.jsx("option",{value:"Perakende",children:"Perakende"}),d.jsx("option",{value:"Firmalar",children:"Firmalar"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Adresi:"}),d.jsx("input",{type:"text",value:V.address,onChange:w=>I({...V,address:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"l:"}),d.jsx("input",{type:"text",value:V.city,onChange:w=>I({...V,city:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"le:"}),d.jsx("input",{type:"text",value:V.district,onChange:w=>I({...V,district:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Posta Kodu:"}),d.jsx("input",{type:"text",value:V.zip_code,onChange:w=>I({...V,zip_code:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"lke:"}),d.jsx("input",{type:"text",value:V.country,onChange:w=>I({...V,country:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Vergi Dairesi:"}),d.jsx("input",{type:"text",value:V.tax_office,onChange:w=>I({...V,tax_office:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"Vergi Numaras:"}),d.jsx("input",{type:"text",value:V.tax_number,onChange:w=>I({...V,tax_number:w.target.value}),className:"w-full p-2 border border-gray-300 rounded"})]})]}),d.jsx("button",{onClick:z,className:"w-full mt-4 p-3 bg-blue-500 text-white rounded font-semibold hover:bg-blue-600",children:"Gncelle"})]})]})}),W&&d.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-start justify-center pt-12 z-50 overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-lg p-5 w-full max-w-lg mb-12",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-xl font-semibold",children:"Mteriden deme Al"}),d.jsx("button",{onClick:()=>Z(!1),className:"text-2xl text-gray-400 hover:text-gray-600",children:""})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-semibold",children:"Mteri Se:"}),d.jsxs("select",{value:re.customer_id,onChange:w=>oe({...re,customer_id:w.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",children:"Seiniz..."}),r.map(w=>d.jsxs("option",{value:w.id,children:[w.name," ",w.customer_code?`(${w.customer_code})`:""]},w.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-semibold",children:"deme Tutar (TL):"}),d.jsx("input",{type:"number",min:"0",step:"0.01",value:re.amount,onChange:w=>oe({...re,amount:w.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-lg font-bold",placeholder:"0.00"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-semibold",children:"deme Yntemi:"}),d.jsx("div",{className:"flex gap-3",children:["Nakit","Kredi Kart","Havale"].map(w=>d.jsx("button",{onClick:()=>oe({...re,payment_type:w}),className:`flex-1 py-2 px-3 rounded-lg border ${re.payment_type===w?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:w},w))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 font-semibold",children:"Aklama:"}),d.jsx("input",{type:"text",value:re.description,onChange:w=>oe({...re,description:w.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"rn: Kasm ay demesi"})]}),d.jsx("button",{onClick:R,className:"w-full mt-2 p-3 bg-green-600 text-white rounded-lg font-bold text-lg hover:bg-green-700 transition-colors shadow-lg shadow-green-200",children:"demeyi Onayla"})]})]})}),d.jsx("style",{jsx:!0,children:`
        .menu-btn {
          display: flex;
          align-items: center;
          padding: 10px 16px;
          background-color: #e9f2ff;
          color: #007bff;
          border: none;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s;
          text-decoration: none;
        }
        .menu-btn:hover {
          background-color: #007bff;
          color: white;
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
      `})]})}function t_(){const[r,n]=T.useState([]),[s,i]=T.useState(!0),{sidebarOpen:c}=Ni(),[h,f]=T.useState(!1),[p,g]=T.useState(!1),[y,v]=T.useState(!1),[x,E]=T.useState(null),[S,C]=T.useState([]),[D,$]=T.useState(""),[k,B]=T.useState({saleCode:"",customerName:"",product:"",barcode:"",startDate:"",endDate:"",showDeleted:!1}),[q,V]=T.useState({key:"date",direction:"desc"});T.useEffect(()=>{const R=new Date,_=new Date;_.setDate(_.getDate()-30),B(K=>({...K,endDate:R.toISOString().split("T")[0],startDate:_.toISOString().split("T")[0]}))},[]),T.useEffect(()=>{k.startDate&&k.endDate&&I()},[k.startDate,k.endDate,k.showDeleted]);const I=async()=>{i(!0);try{const R={start_date:k.startDate,end_date:k.endDate,show_deleted:k.showDeleted};k.saleCode&&(R.sale_code=k.saleCode),k.customerName&&(R.customer_name=k.customerName),(k.product||k.barcode)&&(R.search_term=k.product||k.barcode);const _=await xc.getAll(R);n(_.data?.sales||[])}catch(R){console.error("Satlar yklenirken hata:",R)}finally{i(!1)}},W=async()=>{try{const R=await kn.getAll();C(R.data?.customers||[])}catch(R){console.error("Mteriler yklenirken hata:",R)}},Z=async()=>{await W(),$(""),v(!0)},re=R=>{B(_=>({..._,customerName:R.name})),v(!1),I()},oe=S.filter(R=>R.name?.toLowerCase().includes(D.toLowerCase())),Ae=R=>typeof R!="string"?"":R.toLowerCase(),ve=[...r].sort((_,K)=>{let w=_[q.key],P=K[q.key];if(q.key==="total")return w=parseFloat(w)||0,P=parseFloat(P)||0,q.direction==="asc"?w-P:P-w;if(q.key==="date")return w=new Date(w||0),P=new Date(P||0),q.direction==="asc"?w-P:P-w;const ee=Ae(w).localeCompare(Ae(P),"tr");return q.direction==="asc"?ee:-ee}),Te=R=>{V(_=>({key:R,direction:_.key===R&&_.direction==="asc"?"desc":"asc"}))},Ee=R=>q.key!==R?"":q.direction==="asc"?"":"",Ge=()=>{const R=new Date,_=new Date;_.setDate(_.getDate()-30),B({saleCode:"",customerName:"",product:"",barcode:"",startDate:_.toISOString().split("T")[0],endDate:R.toISOString().split("T")[0],showDeleted:!1})},N=R=>{E(R),g(!0)},Q=async R=>{const _=prompt("Silme ifresini girin:");if(_)try{await xc.delete(R,_),I(),g(!1)}catch(K){alert("Hata: "+(K.response?.data?.message||K.message))}},z=R=>R?new Date(R).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",L=ve.reduce((R,_)=>R+(_.total||0),0);return d.jsxs("div",{className:`md:ml-64 flex h-[calc(100vh-0px)] transition-all duration-300 ${c?"":"md:!ml-0"}`,children:[h&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>f(!1)}),d.jsxs("aside",{className:`
                fixed lg:static inset-y-0 left-0 z-50
                w-72 bg-white border-r border-gray-200 p-5 overflow-y-auto
                transform transition-transform duration-300 flex flex-col
                ${h?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-5 flex items-center gap-2",children:[d.jsx("span",{children:""})," Filtreler"]}),d.jsxs("div",{className:"space-y-4 flex-1",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Sat Kodu"}),d.jsx("input",{type:"text",value:k.saleCode,onChange:R=>B({...k,saleCode:R.target.value}),placeholder:"Sat kodu...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex justify-between items-center",children:[d.jsx("span",{children:"Mteri Ad"}),d.jsx("button",{onClick:Z,className:"text-blue-600 hover:text-blue-800",title:"Mteri Listesinden Se",children:"+"})]}),d.jsx("input",{type:"text",value:k.customerName,onChange:R=>B({...k,customerName:R.target.value}),placeholder:"Mteri ad...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"rn/Stok"}),d.jsx("input",{type:"text",value:k.product,onChange:R=>B({...k,product:R.target.value}),placeholder:"rn, stok kodu...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Barkod"}),d.jsx("input",{type:"text",value:k.barcode,onChange:R=>B({...k,barcode:R.target.value}),placeholder:"Barkod...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Tarih Aral"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"date",value:k.startDate,onChange:R=>B({...k,startDate:R.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx("input",{type:"date",value:k.endDate,onChange:R=>B({...k,endDate:R.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",id:"showDeleted",checked:k.showDeleted,onChange:R=>B({...k,showDeleted:R.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),d.jsx("label",{htmlFor:"showDeleted",className:"text-sm text-gray-600",children:"Silinenleri Gster"})]})]}),d.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 space-y-2",children:[d.jsx("button",{onClick:I,className:"w-full py-2.5 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:" Filtrele"}),d.jsx("button",{onClick:Ge,className:"w-full py-2.5 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:" Temizle"})]})]}),d.jsxs("main",{className:"flex-1 p-5 overflow-y-auto",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>f(!0),className:"lg:hidden p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Sat Raporu"}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[ve.length," sat, toplam ",L.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-5",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-blue-100 text-sm",children:"Toplam Sat"}),d.jsx("p",{className:"text-2xl font-bold",children:ve.length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-emerald-100 text-sm",children:"Toplam Ciro"}),d.jsxs("p",{className:"text-2xl font-bold",children:["",L.toLocaleString("tr-TR")]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-amber-100 text-sm",children:"Nakit"}),d.jsx("p",{className:"text-2xl font-bold",children:ve.filter(R=>R.payment_method==="Nakit").length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-purple-100 text-sm",children:"Kart"}),d.jsx("p",{className:"text-2xl font-bold",children:ve.filter(R=>R.payment_method==="POS").length})]})]}),s?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"spinner"})}):d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>Te("sale_code"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100 whitespace-nowrap",children:["Sat Kodu ",Ee("sale_code")]}),d.jsxs("th",{onClick:()=>Te("customer"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100 whitespace-nowrap",children:["Mteri Ad ",Ee("customer")]}),d.jsxs("th",{onClick:()=>Te("date"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100 whitespace-nowrap",children:["Tarih ",Ee("date")]}),d.jsxs("th",{onClick:()=>Te("total"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100 whitespace-nowrap",children:["Toplam Fiyat ",Ee("total")]}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Aklama"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 uppercase",children:"lemler"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:ve.map(R=>d.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${R.is_deleted?"opacity-50 line-through bg-red-50":""}`,children:[d.jsx("td",{className:"px-4 py-3 font-mono text-sm text-blue-600",children:R.sale_code}),d.jsx("td",{className:"px-4 py-3 text-gray-800",children:R.customer}),d.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm whitespace-nowrap",children:z(R.date)}),d.jsxs("td",{className:"px-4 py-3 font-semibold text-gray-800",children:["",R.total?.toFixed(2)]}),d.jsx("td",{className:"px-4 py-3 text-gray-500 text-sm max-w-xs truncate",title:R.description,children:R.description||"-"}),d.jsx("td",{className:"px-4 py-3 text-right",children:d.jsx("button",{onClick:()=>N(R),className:"px-3 py-1.5 text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:"Detay"})})]},R.sale_code))})]}),ve.length===0&&d.jsx("div",{className:"text-center py-12 text-gray-500",children:"Sat bulunamad."})]})})]}),y&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden flex flex-col",children:[d.jsx("div",{className:"p-6 border-b border-gray-100",children:d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Mteri Se"})}),d.jsx("div",{className:"p-4 border-b border-gray-100",children:d.jsx("input",{type:"text",value:D,onChange:R=>$(R.target.value),placeholder:"Mteri adyla ara...",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:oe.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Mteri bulunamad."}):d.jsx("div",{className:"space-y-1",children:oe.map(R=>d.jsx("button",{onClick:()=>re(R),className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg transition-colors",children:R.name},R.id||R.name))})}),d.jsx("div",{className:"p-4 border-t border-gray-100",children:d.jsx("button",{onClick:()=>v(!1),className:"w-full py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:"Kapat"})})]})}),p&&x&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Sat Detay"}),d.jsx("p",{className:"text-sm text-blue-600 font-mono",children:x.sale_code})]}),d.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500",children:"Mteri"}),d.jsx("p",{className:"font-medium text-gray-800",children:x.customer})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-500",children:"deme"}),d.jsx("p",{className:"font-medium text-gray-800",children:x.payment_method})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("p",{className:"text-gray-500",children:"Tarih"}),d.jsx("p",{className:"font-medium text-gray-800",children:z(x.date)})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"rnler"}),d.jsx("div",{className:"space-y-2",children:x.products?.map((R,_)=>d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-xl",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-800",children:R.name}),d.jsxs("p",{className:"text-xs text-gray-400",children:[R.quantity," x ",R.price?.toFixed(2),R.discount_rate>0&&` (-${R.discount_rate}%)`]})]}),d.jsxs("span",{className:"font-semibold text-gray-800",children:["",(R.price*R.quantity*(1-(R.discount_rate||0)/100)).toFixed(2)]})]},_))})]}),d.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-50 rounded-xl",children:[d.jsx("span",{className:"font-semibold text-gray-800",children:"Toplam"}),d.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",x.total?.toFixed(2)]})]}),!x.is_deleted&&d.jsx("button",{onClick:()=>Q(x.sale_code),className:"w-full py-3 bg-red-50 text-red-600 rounded-xl font-medium hover:bg-red-100 transition-colors",children:" Sat ptal Et"})]})]})})]})}function a_(){const[r,n]=T.useState([]),[s,i]=T.useState(!0),[c,h]=T.useState(!1),{sidebarOpen:f}=Ni(),[p,g]=T.useState(!1),[y,v]=T.useState(!1),[x,E]=T.useState(null),[S,C]=T.useState(null),[D,$]=T.useState(!1),[k,B]=T.useState({search:"",status:"Tm",startDate:"",endDate:""}),[q,V]=T.useState({key:"date",direction:"desc"});T.useEffect(()=>{I()},[]);const I=async()=>{try{const L=await Cs.get("/api/get_all_invoices");n(L.data?.invoices||[])}catch(L){console.error("Faturalar yklenirken hata:",L)}finally{i(!1)}},W=async()=>{h(!0);try{const L=new Date;L.setDate(L.getDate()-90);const R=await Cs.post("/api/fetch_incoming_invoices",{start_date:L.toISOString().split("T")[0]});R.data?.success?(alert(R.data.message),I()):alert("Hata: "+R.data?.message)}catch(L){alert("Senkronizasyon hatas: "+(L.response?.data?.message||L.message))}finally{h(!1)}},Z=async L=>{E(L),v(!0),$(!0),C(null);try{const R=await Cs.get(`/api/get_invoice_detail_for_processing/${L.id}`);R.data?.success&&C(R.data.data)}catch(R){console.error("Fatura detay yklenirken hata:",R)}finally{$(!1)}},re=async()=>{try{await Cs.post(`/api/mark_invoice_processed/${x.id}`,{}),v(!1),I()}catch(L){alert("Hata: "+(L.response?.data?.message||L.message))}},oe=async()=>{try{await Cs.post(`/api/mark_invoice_not_processed/${x.id}`,{}),v(!1),I()}catch(L){alert("Hata: "+(L.response?.data?.message||L.message))}},Ae=["Tm","Bekliyor","lendi","lenmeyecek","ptal Edildi"],ve=(()=>{let L=[...r];if(k.search){const R=k.search.toLowerCase();L=L.filter(_=>_.invoice_number?.toLowerCase().includes(R)||_.supplier_name?.toLowerCase().includes(R))}return k.status!=="Tm"&&(L=L.filter(R=>R.status===k.status)),k.startDate&&(L=L.filter(R=>new Date(R.date)>=new Date(k.startDate))),k.endDate&&(L=L.filter(R=>new Date(R.date)<=new Date(k.endDate))),L.sort((R,_)=>{let K=R[q.key],w=_[q.key];if(q.key==="total")return K=parseFloat(K)||0,w=parseFloat(w)||0,q.direction==="asc"?K-w:w-K;if(q.key==="date")return K=new Date(K||0),w=new Date(w||0),q.direction==="asc"?K-w:w-K;const P=String(K||"").toLowerCase().localeCompare(String(w||"").toLowerCase(),"tr");return q.direction==="asc"?P:-P}),L})(),Te=L=>{V(R=>({key:L,direction:R.key===L&&R.direction==="asc"?"desc":"asc"}))},Ee=L=>q.key!==L?"":q.direction==="asc"?"":"",Ge=()=>{B({search:"",status:"Tm",startDate:"",endDate:""})},N=L=>{switch(L){case"Bekliyor":return"bg-amber-100 text-amber-700";case"lendi":return"bg-green-100 text-green-700";case"lenmeyecek":return"bg-gray-100 text-gray-700";case"ptal Edildi":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},Q=L=>L?new Date(L).toLocaleDateString("tr-TR"):"-",z=ve.reduce((L,R)=>L+(R.total||0),0);return s?d.jsx("div",{className:"md:ml-64 flex items-center justify-center min-h-96",children:d.jsx("div",{className:"spinner"})}):d.jsxs("div",{className:`md:ml-64 flex h-[calc(100vh-0px)] transition-all duration-300 ${f?"":"md:!ml-0"}`,children:[p&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>g(!1)}),d.jsxs("aside",{className:`
                fixed lg:static inset-y-0 left-0 z-50
                w-72 bg-white border-r border-gray-200 p-5 overflow-y-auto
                transform transition-transform duration-300 flex flex-col
                ${p?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-5 flex items-center gap-2",children:[d.jsx("span",{children:""})," Filtreler"]}),d.jsxs("div",{className:"space-y-4 flex-1",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Fatura No / Tedariki"}),d.jsx("input",{type:"text",value:k.search,onChange:L=>B({...k,search:L.target.value}),placeholder:"Ara...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Durum"}),d.jsx("select",{value:k.status,onChange:L=>B({...k,status:L.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500",children:Ae.map(L=>d.jsx("option",{value:L,children:L},L))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Tarih Aral"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"date",value:k.startDate,onChange:L=>B({...k,startDate:L.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"}),d.jsx("input",{type:"date",value:k.endDate,onChange:L=>B({...k,endDate:L.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 space-y-2",children:d.jsx("button",{onClick:Ge,className:"w-full py-2.5 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:" Temizle"})})]}),d.jsxs("main",{className:"flex-1 p-5 overflow-y-auto",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-5",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>g(!0),className:"lg:hidden p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Gelen Faturalar"}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[ve.length," fatura"]})]})]}),d.jsx("button",{onClick:W,disabled:c,className:"px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-xl font-medium hover:from-violet-700 hover:to-purple-700 transition-all flex items-center gap-2 justify-center disabled:opacity-50",children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Senkronize ediliyor..."]}):d.jsx(d.Fragment,{children:" Faturalar Senkronize Et"})})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-5",children:[d.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-amber-100 text-sm",children:"Bekleyen"}),d.jsx("p",{className:"text-2xl font-bold",children:r.filter(L=>L.status==="Bekliyor").length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-emerald-100 text-sm",children:"lendi"}),d.jsx("p",{className:"text-2xl font-bold",children:r.filter(L=>L.status==="lendi").length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-gray-100 text-sm",children:"lenmeyecek"}),d.jsx("p",{className:"text-2xl font-bold",children:r.filter(L=>L.status==="lenmeyecek").length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-violet-100 text-sm",children:"Toplam Tutar"}),d.jsxs("p",{className:"text-2xl font-bold",children:["",z.toLocaleString("tr-TR")]})]})]}),d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>Te("invoice_number"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",children:["Fatura No ",Ee("invoice_number")]}),d.jsxs("th",{onClick:()=>Te("supplier_name"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",children:["Tedariki ",Ee("supplier_name")]}),d.jsxs("th",{onClick:()=>Te("date"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",children:["Tarih ",Ee("date")]}),d.jsxs("th",{onClick:()=>Te("total"),className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase cursor-pointer hover:bg-gray-100",children:["Tutar ",Ee("total")]}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Durum"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 uppercase",children:"lemler"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:ve.map(L=>d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-3 font-mono text-sm text-violet-600",children:L.invoice_number}),d.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:L.supplier_name||"-"}),d.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:Q(L.date)}),d.jsxs("td",{className:"px-4 py-3 font-semibold text-gray-800",children:["",L.total?.toLocaleString("tr-TR")]}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${N(L.status)}`,children:L.status||"Bekliyor"})}),d.jsx("td",{className:"px-4 py-3 text-right",children:d.jsx("button",{onClick:()=>Z(L),className:"px-3 py-1.5 text-sm bg-violet-50 text-violet-600 rounded-lg hover:bg-violet-100 transition-colors",children:"Detay"})})]},L.id))})]}),ve.length===0&&d.jsx("div",{className:"text-center py-12 text-gray-500",children:"Fatura bulunamad."})]})})]}),y&&x&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Fatura Detay"}),d.jsx("p",{className:"text-sm text-gray-500",children:x.invoice_number})]}),d.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[D?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx("div",{className:"spinner"})}):S?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[d.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Tedariki Bilgileri"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Firma:"}),d.jsx("p",{className:"font-medium",children:S.supplier_name})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Vergi No:"}),d.jsx("p",{className:"font-medium",children:S.supplier_tax_no})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("span",{className:"text-gray-500",children:"Adres:"}),d.jsx("p",{className:"font-medium",children:S.supplier_address||"-"})]})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold text-gray-800 mb-2",children:["rnler (",S.lines?.length||0,")"]}),d.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:S.lines?.map((L,R)=>d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-xl",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"font-medium text-gray-800 truncate",children:L.name}),d.jsxs("p",{className:"text-xs text-gray-400",children:[L.quantity," adet x ",L.unit_price?.toFixed(2),L.discount_rate>0&&` (-${L.discount_rate}%)`]})]}),d.jsxs("span",{className:"font-semibold text-gray-800 ml-2",children:["",L.line_total?.toFixed(2)]})]},R))})]}),d.jsxs("div",{className:"flex justify-between items-center p-4 bg-violet-50 rounded-xl",children:[d.jsx("span",{className:"font-semibold text-gray-800",children:"Toplam (KDV Dahil)"}),d.jsxs("span",{className:"text-2xl font-bold text-violet-600",children:["",S.total_amount?.toFixed(2)]})]})]}):d.jsx("div",{className:"text-center py-8 text-gray-500",children:"Fatura detay yklenemedi"}),x.status==="Bekliyor"&&d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{onClick:oe,className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:" lenmeyecek"}),d.jsx("button",{onClick:re,className:"flex-1 py-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl font-medium hover:from-emerald-700 hover:to-green-700 transition-colors",children:" lendi Olarak aretle"})]})]})]})})]})}function n_(){const[r,n]=T.useState([]),[s,i]=T.useState(!0),[c,h]=T.useState(!1),[f,p]=T.useState(!1),[g,y]=T.useState(!1),[v,x]=T.useState(null),[E,S]=T.useState({username:"",password:"",email:"",role:"calisan"}),[C,D]=T.useState({}),[$,k]=T.useState({days:[],start_time:"00:00",end_time:"23:59"}),{isKurucu:B}=Ys();T.useEffect(()=>{q()},[]);const q=async()=>{try{const N=await wr.getAll();n(N.data?.users||N.data||[])}catch(N){console.error("Kullanclar yklenirken hata:",N)}finally{i(!1)}},V=()=>{S({username:"",password:"",email:"",role:"calisan"}),D({}),h(!0)},I=N=>{x(N),D(N.permissions||{}),p(!0)},W=N=>{x(N),k(N.access_schedule||{days:[],start_time:"00:00",end_time:"23:59"}),y(!0)},Z=async N=>{N.preventDefault();try{const Q={...E,permissions:C};await wr.add(Q),h(!1),q()}catch(Q){alert("Hata: "+(Q.response?.data?.message||Q.message))}},re=async N=>{if(confirm("Bu kullancy silmek istediinizden emin misiniz?"))try{await wr.delete(N),q()}catch(Q){alert("Hata: "+(Q.response?.data?.message||Q.message))}},oe=async N=>{if(confirm("Bu kullancnn oturumunu kapatmak istediinizden emin misiniz?"))try{await wr.forceLogout(N),alert("Kullancnn oturumu kapatld."),q()}catch(Q){alert("Hata: "+(Q.response?.data?.message||Q.message))}},Ae=async()=>{try{await wr.updatePermissions(v.id,C),p(!1),q()}catch(N){alert("Hata: "+(N.response?.data?.message||N.message))}},Qe=async()=>{try{await wr.updateSchedule(v.id,$),y(!1),q()}catch(N){alert("Hata: "+(N.response?.data?.message||N.message))}},ve=N=>{k(Q=>({...Q,days:Q.days.includes(N)?Q.days.filter(z=>z!==N):[...Q.days,N]}))},Te=[{key:"can_view_products",label:"rnler",icon:""},{key:"can_view_customers",label:"Mteriler",icon:""},{key:"can_view_invoices",label:"Gelen Faturalar",icon:""},{key:"can_view_sales",label:"Sat Gemii",icon:""},{key:"can_view_pos",label:"Sat Ekran (POS)",icon:""},{key:"can_view_users",label:"Kullanclar",icon:""},{key:"can_view_balances",label:"Bakiye Grme",icon:""},{key:"can_view_prices",label:"Fiyat Grme",icon:""}],Ee=[{key:"monday",label:"Pazartesi"},{key:"tuesday",label:"Sal"},{key:"wednesday",label:"aramba"},{key:"thursday",label:"Perembe"},{key:"friday",label:"Cuma"},{key:"saturday",label:"Cumartesi"},{key:"sunday",label:"Pazar"}],Ge=N=>N?new Date(N).toLocaleString("tr-TR"):"Giri Yok";return s?d.jsx("div",{className:"md:ml-64 flex items-center justify-center min-h-96",children:d.jsx("div",{className:"spinner"})}):d.jsxs("div",{className:"md:ml-64 p-5 space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" Kullanc Ynetimi"}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[r.length," kullanc kaytl"]})]}),B&&d.jsxs("button",{onClick:V,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-medium hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2 justify-center",children:[d.jsx("span",{children:""})," Yeni Kullanc"]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-blue-100 text-sm",children:"Toplam"}),d.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-violet-500 to-purple-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-violet-100 text-sm",children:"Kurucular"}),d.jsx("p",{className:"text-2xl font-bold",children:r.filter(N=>N.role==="kurucu").length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-cyan-500 to-blue-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-cyan-100 text-sm",children:"alanlar"}),d.jsx("p",{className:"text-2xl font-bold",children:r.filter(N=>N.role==="calisan").length})]}),d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl p-4 text-white",children:[d.jsx("p",{className:"text-emerald-100 text-sm",children:"Aktif Oturum"}),d.jsx("p",{className:"text-2xl font-bold",children:r.filter(N=>N.is_active).length})]})]}),d.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Kullanc Ad"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"E-posta"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Rol"}),d.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Son Giri"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-500 uppercase",children:"lemler"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(N=>d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-white font-bold ${N.role==="kurucu"?"bg-gradient-to-br from-violet-500 to-purple-600":"bg-gradient-to-br from-blue-500 to-cyan-600"}`,children:N.username?.charAt(0)?.toUpperCase()||"?"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-semibold text-gray-800",children:N.username}),N.is_active&&d.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full",title:"Aktif"})]})]})}),d.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:N.email||"-"}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${N.role==="kurucu"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:N.role==="kurucu"?" Kurucu":" alan"})}),d.jsx("td",{className:"px-4 py-3 text-gray-500 text-sm",children:d.jsxs("span",{className:"flex items-center gap-1",children:[" ",Ge(N.last_login)]})}),d.jsx("td",{className:"px-4 py-3 text-right",children:B&&N.role!=="kurucu"&&d.jsxs("div",{className:"flex justify-end gap-1 flex-wrap",children:[d.jsx("button",{onClick:()=>oe(N.id),className:"px-2 py-1.5 text-xs bg-amber-50 text-amber-600 border border-amber-200 rounded-lg hover:bg-amber-100 transition-colors",title:"Oturumu Kapat",children:" k"}),d.jsx("button",{onClick:()=>I(N),className:"px-2 py-1.5 text-xs bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",title:"Yetkiler",children:" Yetki"}),d.jsx("button",{onClick:()=>W(N),className:"px-2 py-1.5 text-xs bg-violet-50 text-violet-600 border border-violet-200 rounded-lg hover:bg-violet-100 transition-colors",title:"Eriim Takvimi",children:" Takvim"}),d.jsx("button",{onClick:()=>re(N.id),className:"px-2 py-1.5 text-xs bg-red-50 text-red-600 border border-red-200 rounded-lg hover:bg-red-100 transition-colors",title:"Sil",children:" Sil"})]})})]},N.id))})]}),r.length===0&&d.jsx("div",{className:"text-center py-12 text-gray-500",children:"Kaytl kullanc yok."})]})}),c&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"p-6 border-b border-gray-100",children:d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Yeni alan Ekle"})}),d.jsxs("form",{onSubmit:Z,className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kullanc Ad *"}),d.jsx("input",{type:"text",value:E.username,onChange:N=>S({...E,username:N.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta *"}),d.jsx("input",{type:"email",value:E.email,onChange:N=>S({...E,email:N.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ifre *"}),d.jsx("input",{type:"password",value:E.password,onChange:N=>S({...E,password:N.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),d.jsxs("select",{value:E.role,onChange:N=>S({...E,role:N.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"calisan",children:"alan"}),d.jsx("option",{value:"kurucu",children:"Kurucu"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Eriim Yetkileri"}),d.jsx("div",{className:"grid grid-cols-2 gap-2 p-4 bg-gray-50 rounded-xl border border-gray-200",children:Te.map(N=>d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C[N.key]||!1,onChange:Q=>D({...C,[N.key]:Q.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[N.icon," ",N.label]})]},N.key))})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50",children:"ptal"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Kullancy Ekle"})]})]})]})}),f&&v&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Kullanc Yetkilerini Dzenle"}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Kullanc: ",d.jsx("strong",{children:v.username})]})]}),d.jsx("div",{className:"p-6 space-y-3",children:d.jsx("div",{className:"grid grid-cols-2 gap-2 p-4 bg-gray-50 rounded-xl border border-gray-200",children:Te.map(N=>d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:C[N.key]||!1,onChange:Q=>D({...C,[N.key]:Q.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),d.jsxs("span",{className:"text-sm text-gray-700",children:[N.icon," ",N.label]})]},N.key))})}),d.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[d.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50",children:"ptal"}),d.jsx("button",{onClick:Ae,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Deiiklikleri Kaydet"})]})]})}),g&&v&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Eriim Takvimi Dzenle"}),d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Kullanc: ",d.jsx("strong",{children:v.username})]})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Eriim Gnleri"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ee.map(N=>d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50",children:[d.jsx("input",{type:"checkbox",checked:$.days?.includes(N.key)||!1,onChange:()=>ve(N.key),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:N.label})]},N.key))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balang"}),d.jsx("input",{type:"time",value:$.start_time||"00:00",onChange:N=>k({...$,start_time:N.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Biti"}),d.jsx("input",{type:"time",value:$.end_time||"23:59",onChange:N=>k({...$,end_time:N.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),d.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-3",children:[d.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50",children:"ptal"}),d.jsx("button",{onClick:Qe,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700",children:"Kaydet"})]})]})})]})}function r_(){return d.jsx(Qw,{children:d.jsx(Pw,{children:d.jsx(rv,{children:d.jsxs(Ub,{children:[d.jsx(Na,{path:"/login",element:d.jsx(Zw,{})}),d.jsx(Na,{path:"/",element:d.jsx(_r,{permission:"can_view_pos",children:d.jsx(Sr,{children:d.jsx(Fw,{})})})}),d.jsx(Na,{path:"/products",element:d.jsx(_r,{permission:"can_view_products",children:d.jsx(Sr,{children:d.jsx(Ww,{})})})}),d.jsx(Na,{path:"/customers",element:d.jsx(_r,{permission:"can_view_customers",children:d.jsx(Sr,{children:d.jsx(e_,{})})})}),d.jsx(Na,{path:"/sales",element:d.jsx(_r,{permission:"can_view_sales",children:d.jsx(Sr,{children:d.jsx(t_,{})})})}),d.jsx(Na,{path:"/invoices",element:d.jsx(_r,{permission:"can_view_invoices",children:d.jsx(Sr,{children:d.jsx(a_,{})})})}),d.jsx(Na,{path:"/users",element:d.jsx(_r,{permission:"can_view_users",children:d.jsx(Sr,{children:d.jsx(n_,{})})})}),d.jsx(Na,{path:"*",element:d.jsx(Rb,{to:"/",replace:!0})})]})})})})}My.createRoot(document.getElementById("root")).render(d.jsx(T.StrictMode,{children:d.jsx(r_,{})}));
